(this.webpackJsonpmilki_frontend=this.webpackJsonpmilki_frontend||[]).push([[20],{260:function(e,t,s){},262:function(e,t,s){},268:function(e,t){},270:function(e,t){},281:function(e,t){},283:function(e,t){},309:function(e,t){},310:function(e,t){},315:function(e,t){},317:function(e,t){},324:function(e,t){},343:function(e,t){},398:function(e,t){},399:function(e,t){},422:function(e,t,s){"use strict";s.r(t);var i=s(1),a=s.n(i),n=s(40),r=s.n(n),o=(s(260),s(261),s(262),s(12)),c=s(4),l=s(3),d=s(8),h=s(9),u=s(13),p=s(38),m=s(25),j=s(107),f="user_login_action",b=Object(j.a)({notifier:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===f?Object.assign({},e,t.payload):e}}),g=b,v=Object(j.b)(g),_=s(26),O=s(5),x=s(47),y=s(14);function w(e){return{type:f,payload:e}}var k=s(227),N="78906f42-66e0-42ee-aa59-c29c7f9759f0",C=80001,S="0x0bF7eA526D591afb2484373c25E2b538357ae607",I="MATIC",D="0x046bed4246bec21055fb2a2d8d88bb535b78ecd3",T="0xF1cfA37d496a2252D78B5D330CAB55E4E330db6A",A="https://mumbai.polygonscan.com/",M="https://matic-mumbai.chainstacklabs.com",F="0x54a0AAfbF4d105eF567BcedDa5f5f0b1bE2EE77D",P="Polygon",U=s(29),L={apiHeaderForGuest:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST, GET, OPTIONS","Access-Control-Allow-Headers":"X-PINGOTHER, Content-Type"},base:"https://nftmarketplace-z7id7kzbwq-et.a.run.app",media_path:"https://storage.cloud.google.com/mliki-nftmarketplace/media",connect:"/user/connect",user_profile:"/user/profile",user_update:"/user/update",user_verfiy:"/user/verify",user_confirm:"/user/confirm",user_views:"/user/views",user_notifications:"/user/notifications",user_updatenotification:"/user/updatenotification",seller_list:"/user/list",search_result:"/user/search",follow_action:"/connection",collection_add:"/collection/add",collection_update:"/collection/update",collection_list:"/collection/list",collection_all_list:"/collection/alllist",collection_detail:"/collection/detail",collection_delete:"/collection/delete",collection_abi:"/collection/generateabi",collection_update_approval:"/collection/updateapprovals",collection_check_approval:"/collection/checkapproval",category_list:"/category/list",item_add:"/item/add",item_sell:"/item/sell",item_removesale:"/item/removesale",item_update:"/item/update",item_update_offer:"/item/updateoffer",item_delete:"/item/delete",item_list:"/item/list",item_add_like:"/item/addfavourites",item_add_view:"/item/addviews",item_moreFromCollection:"/item/moreFromCollection",item_purchase:"/item/purchase",item_history:"/item/history",item_prices:"/item/prices",item_offers:"/item/offers",item_add_offers:"/item/addoffer",item_remove_offers:"/item/removeoffer",item_action_offers:"/item/actionoffer",option_get:"/admin/getoptions",royalty_delete:"/collection/deleteroyalty",royalty_add:"/collection/addroyalty",royalty_get:"/collection/checkroyalty",banner_list:"/slider/list",item_csv:"/item/save-csv",deposits:"/item/deposits",withdraw:"/item/withdraw",faq_list:"/settings/faqs",item_already_bid:"/item/check-offer",token_info:"/item/token-info"},E=s(16),H=s.n(E),R=s(229),B=function(){var e=localStorage.getItem("token");return null!==e?Object(R.a)(e):null},z=function(e){return new Promise((function(t,s){var i="";i=L.apiHeaderForGuest;var a=localStorage.getItem("token");delete i.authorization,a&&(i.authorization=localStorage.getItem("token")),H.a.get(L.base+L.user_profile+"/"+e,{headers:i}).then((function(e){t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))},G=function(e,t){return new Promise((function(s,i){var a=L.apiHeaderForGuest;a.authorization=localStorage.getItem("token"),H.a.put(L.base+L.user_update+"/"+e,t,{headers:a}).then((function(e){s(e.data)})).catch((function(e){s({status:!1,message:e.message})}))}))},q=function(e,t){return new Promise((function(s,i){var a="";a=L.apiHeaderForGuest;var n=localStorage.getItem("token");delete a.authorization,n&&(a.authorization=localStorage.getItem("token"));var r=L.base+L.seller_list;e.page&&(r=r+"?page="+e.page),e.sortby&&(r=r+"&sortby="+e.sortby),e.type&&(r=r+"&type="+e.type),e.keyword&&(r=r+"&keyword="+e.keyword),e.user_id&&(r=r+"&user_id="+e.user_id),H.a.get(r,{cancelToken:t.token},{headers:a}).then((function(e){s(e.data)})).catch((function(e){s({status:!1,message:e.message})}))}))},V=function(e){return new Promise((function(t,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.post(L.base+L.follow_action,e,{headers:i}).then((function(e){console.warn("login respoonse",e.data),t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))},W=function(e){return new Promise((function(t,s){var i="";i=L.apiHeaderForGuest;var a=localStorage.getItem("token");delete i.authorization,a&&(i.authorization=localStorage.getItem("token")),H.a.get(L.base+L.option_get+"?name="+e,{headers:i}).then((function(e){t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))},Y=function(e){return new Promise((function(t,s){var i="";i=L.apiHeaderForGuest;var a=localStorage.getItem("token");delete i.authorization,a&&(i.authorization=localStorage.getItem("token"));var n=L.base+L.user_notifications;e.page&&(n=n+"?page="+e.page),H.a.get(n,{headers:i}).then((function(e){t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))},$=function(e){return new Promise((function(t,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.put(L.base+L.collection_update,e,{headers:i}).then((function(e){console.warn("collection update response",e.data),t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))},J=function(e){return new Promise((function(t,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.put(L.base+L.collection_update_approval,e,{headers:i}).then((function(e){console.warn("collection update approval response",e.data),t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))},K=function(e){return new Promise((function(t,s){H.a.get(L.base+L.collection_detail+"?collection_id="+e,{headers:L.apiHeaderForGuest}).then((function(e){t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))},Z=function(e){return new Promise((function(t,s){var i="";i=L.apiHeaderForGuest;var a=localStorage.getItem("token");delete i.authorization,a&&(i.authorization=localStorage.getItem("token"));var n=L.base+L.collection_list;e.page&&(n=n+"?page="+e.page),e.type&&(n=n+"&type="+e.type),H.a.get(n,{headers:i}).then((function(e){t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))},Q=function(e){return new Promise((function(t,s){var i="";i=L.apiHeaderForGuest;var a=localStorage.getItem("token");delete i.authorization,a&&(i.authorization=localStorage.getItem("token")),H.a.get(L.base+L.royalty_get+"?collection_id="+e,{headers:i}).then((function(e){t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))},X=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"burnBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to_",type:"address"},{internalType:"uint256",name:"amounts_",type:"uint256[]"},{internalType:"uint256",name:"tokenURI_",type:"string[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintNft",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"MINTER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"PAUSER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],ee=[{constant:!1,inputs:[{internalType:"address payable[]",name:"recipients",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"sendPayment",outputs:[],payable:!0,stateMutability:"payable",type:"function"}],te={getShortenNum:function(e){return e<1e3?e:e>=1e3&&e<1e6?+(e/1e3).toFixed(1)+"K":e>=1e6&&e<1e9?+(e/1e6).toFixed(1)+"M":e>=1e9&&e<1e12?+(e/1e9).toFixed(1)+"B":e>=1e12?+(e/1e12).toFixed(1)+"T":void 0},parseSellerList:function(e){var t=this,s=[];return e.forEach((function(e){var i,a,n;e.profile_cover?i=e.profile_cover.length>0?e.profile_cover:"/images/bg/bg.png":i="/images/bg/bg.png";e.profile_image?a=e.profile_image.length>0?e.profile_image:"/images/avatars/avatar5.jpg":a="/images/avatars/avatar5.jpg";n=e.is_follow?e.is_follow:0,s.push({user_id:e._id,username:e.username,fullname:e.first_name.length>0?e.first_name+" "+e.last_name:e.username,profile_cover:i,profile_image:a,follower_count:e.follower_count,is_verified:e.is_verified,is_follow:n,follower_count_str:t.getShortenNum(e.follower_count)})})),s}},se={getShortenNum:function(e){return e<1e3?e:e>=1e3&&e<1e6?+(e/1e3).toFixed(1)+"K":e>=1e6&&e<1e9?+(e/1e6).toFixed(1)+"M":e>=1e9&&e<1e12?+(e/1e9).toFixed(1)+"B":e>=1e12?+(e/1e12).toFixed(1)+"T":void 0},parseItemList:function(e){var t=this,s=[];return e.forEach((function(e){var i,a,n;e.thumb&&(e.thumb.length>0&&e.thumb);e.current_owner.profile_image?n=e.current_owner.profile_image.length>0?e.current_owner.profile_image:"/images/avatars/avatar5.jpg":n="/images/avatars/avatar5.jpg";var r=Date.parse(e.offer_end_date),o=Date.now(),c=e.has_offer;r<o&&(c=!1);var l=Date.parse(e.offer_date),d=r,h=Date.now(),u=Math.round((h-l)/(d-l)*100);void 0!=(null===(i=e.collection_id)||void 0===i?void 0:i.is_hide)&&0!=(null===(a=e.collection_id)||void 0===a?void 0:a.is_hide)||s.push({item_id:e._id,name:e.name,thumb:e.thumb,profile_image:n,user_id:e.current_owner._id,fullname:e.current_owner.first_name.length>0?e.current_owner.first_name+" "+e.current_owner.last_name:e.current_owner.username,like_count:e.like_count,like_count_str:t.getShortenNum(e.like_count),is_verified:e.current_owner.is_verified,price:e.price,has_offer:c,offer_duration:parseInt(e.offer_duration),offer_start_time:Date.parse(e.offer_start_time),offer_time:r,percentage:u,status:e.status})})),s}},ie=s(230),ae=s.n(ie),ne=function(e){if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(e);var t=document.createElement("textarea");return t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select(),new Promise((function(e,s){document.execCommand("copy")?e():s(),t.remove()}))},re=s(10),oe=function(e){return new Promise((function(t,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.post(L.base+L.item_removesale,e,{headers:i}).then((function(e){console.warn("item sell response",e.data),t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))},ce=function(e){return new Promise((function(t,s){var i="";i=L.apiHeaderForGuest;var a=localStorage.getItem("token");delete i.authorization,a&&(i.authorization=localStorage.getItem("token"));var n=L.base+L.item_list;e.page&&(n=n+"?page="+e.page),e.type&&(n=n+"&type="+e.type),e.sortby&&(n=n+"&sortby="+e.sortby),e.user_id&&(n=n+"&user_id="+e.user_id),e.collection_id&&(n=n+"&collection_id="+e.collection_id),e.item_id&&(n=n+"&item_id="+e.item_id),H.a.get(n,{headers:i}).then((function(e){t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))},le=function(e){return new Promise((function(t,s){var i="";i=L.apiHeaderForGuest;var a=localStorage.getItem("token");delete i.authorization,a&&(i.authorization=localStorage.getItem("token"));var n=L.base+L.item_history;e.page&&(n=n+"?page="+e.page),e.filter&&(n=n+"&filter="+e.filter),e.type&&(n=n+"&type="+e.type),e.user_id&&(n=n+"&user_id="+e.user_id),e.collection_id&&(n=n+"&collection_id="+e.collection_id),e.item_id&&(n=n+"&item_id="+e.item_id),H.a.get(n,{headers:i}).then((function(e){t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))},de=[{inputs:[{internalType:"address",name:"_owner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"actionOwner",type:"address"}],name:"actionDeposited",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"actionOwner",type:"address"}],name:"actionWithdrawal",type:"event"},{inputs:[{internalType:"address",name:"_member",type:"address"}],name:"addMember",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"userAddress",type:"address"}],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_member",type:"address"}],name:"isMember",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockBid",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"userAddress",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"refund",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_member",type:"address"}],name:"removeMember",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"userAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"unlockBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"users",outputs:[{internalType:"uint256",name:"locked",type:"uint256"},{internalType:"uint256",name:"unlocked",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"userAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address[]",name:"userAddresses",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"winner",outputs:[],stateMutability:"nonpayable",type:"function"}],he=[{inputs:[{internalType:"address",name:"_owner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"actionOwner",type:"address"}],name:"actionDeposited",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"actionOwner",type:"address"}],name:"actionWithdrawal",type:"event"},{inputs:[{internalType:"address",name:"_member",type:"address"}],name:"addMember",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"userAddress",type:"address"}],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_member",type:"address"}],name:"isMember",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"userAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"lockDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"userAddress",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"refund",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_member",type:"address"}],name:"removeMember",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"userAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"unlockDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"users",outputs:[{internalType:"uint256",name:"locked",type:"uint256"},{internalType:"uint256",name:"unlocked",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"userAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"winner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"userAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],ue=s(0),pe=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).walletSelect=Object(x.a)(Object(O.a)().mark((function t(){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.getItem("wallet")){t.next=5;break}return t.next=3,e.onboard.walletSelect(localStorage.getItem("wallet"));case 3:return t.next=5,e.onboard.walletCheck();case 5:case"end":return t.stop()}}),t)}))),e.connectWallet=function(){var t=Object(x.a)(Object(O.a)().mark((function t(s){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s?(e.wallet=s,console.log(s),localStorage.setItem("wallet",s.name)):e.wallet=null;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.depositAuction=function(){var t=Object(x.a)(Object(O.a)().mark((function t(s){var i,a;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=Object(y.a)(e);try{a=new U.ethers.Contract(T,he,e.signer),W("gas_fee").then((function(e){var t=parseInt(e.result.value);a.deposit({gasLimit:1e5*t,gasPrice:U.ethers.utils.parseUnits(t.toString(),"gwei"),value:U.ethers.utils.parseEther(s.amount.toString())._hex}).then((function(e){var t;(t={user_id:s.user_id,price:s.amount,hash:e.hash},new Promise((function(e,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.post(L.base+L.deposits,t,{headers:i}).then((function(t){console.warn("deposits response",t.data),e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))}))).then((function(e){e.status&&(i.props.actionNotifyUser({type:"deposit_success"}),Object(re.b)(e.message,{type:"success",toastId:"successDepositWallet"}))}))})).catch((function(e){console.log("error.message ->",1),Object(re.b)(e.message,{type:"Error",toastId:"errorWallet"})}))}))}catch(n){console.log(n),Object(re.b)("Error on Transfer",{type:"Error",toastId:"errorWallet"})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.withdrawAuction=function(){var t=Object(x.a)(Object(O.a)().mark((function t(s){var i,a;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=Object(y.a)(e);try{a=new U.ethers.Contract(T,he,e.signer),W("gas_fee").then((function(e){var t=parseInt(e.result.value);a.withdraw(s.wallet,U.ethers.utils.parseEther(s.amount.toString())._hex,{gasLimit:1e5*t,gasPrice:U.ethers.utils.parseUnits(t.toString(),"gwei")}).then((function(e){var t;(t={user_id:s.user_id,price:s.amount,hash:e.hash},new Promise((function(e,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.post(L.base+L.withdraw,t,{headers:i}).then((function(t){console.warn("withdraw response",t.data),e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))}))).then((function(e){e.status&&(i.props.actionNotifyUser({type:"withdraw_success"}),Object(re.b)(e.message,{type:"success",toastId:"successWithdrawWallet"}))}))})).catch((function(e){console.log("error.message ->",2),Object(re.b)(e.message,{type:"Error",toastId:"errorWallet"})}))}))}catch(n){Object(re.b)("Error on Transfer",{type:"Error",toastId:"errorWallet"})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.lockAuction=function(){var t=Object(x.a)(Object(O.a)().mark((function t(s){var i,a;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=Object(y.a)(e);try{console.log(s),a=new U.ethers.Contract(T,de,e.signer),W("gas_fee").then((function(e){var t=parseInt(e.result.value);a.lockBid({gasLimit:1e5*t,gasPrice:U.ethers.utils.parseUnits(t.toString(),"gwei"),value:U.ethers.utils.parseEther(s.amount.toString())._hex}).then((function(e){i.props.actionNotifyUser({type:"offersuccess"})})).catch((function(e){var t,s;(s="undefined"!=typeof(null===(t=e.data)||void 0===t?void 0:t.message)?e.data.message:e.message).includes("insufficient funds")&&(s="Balance Not Enough"),Object(re.b)(s,{type:"Error",toastId:"errorWallet"}),i.props.actionNotifyUser({type:"offerfail"})}))}))}catch(n){Object(re.b)("Error on Transfer",{type:"Error",toastId:"errorWallet"}),i.props.actionNotifyUser({type:"offerfail"})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.unlockAuction=function(){var t=Object(x.a)(Object(O.a)().mark((function t(s){var i,a;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=Object(y.a)(e);try{a=new U.ethers.Contract(T,de,e.signer),W("gas_fee").then((function(e){var t=parseInt(e.result.value);a.unlockBid(s.wallet,U.ethers.utils.parseEther(s.amount.toString())._hex,{gasLimit:1e5*t,gasPrice:U.ethers.utils.parseUnits(t.toString(),"gwei")}).then((function(e){i.props.actionNotifyUser({type:"removeoffersuccess",items:s.item})})).catch((function(e){var t,s;s="undefined"!=typeof(null===(t=e.data)||void 0===t?void 0:t.message)?e.data.message:e.message,Object(re.b)(s,{type:"Error",toastId:"errorWallet"}),i.props.actionNotifyUser({type:"offerfail"})}))}))}catch(n){Object(re.b)("Error on Remove Offer",{type:"Error",toastId:"errorWallet",items:s.item}),i.props.actionNotifyUser({type:"offerfail"})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.createAuction=function(e){var t=0,s=0;W("admin_commission").then((function(i){t=i.result.value,ce({page:1,item_id:e.item_id,type:"view"}).then((function(i){var a=i.data.docs[0];s=a.collection_id.royalties,z(a.collection_id.author_id).then((function(i){console.log(e._id),console.log(e.min_offer),console.log(e.offer_duration),console.log(s),console.log(t),console.log(i.result.public_key)}))}))}))},e.deleteAuction=function(e){},e.approveNFT=function(t){var s=Object(y.a)(e);e.approveContract(F,(function(e){1==e.status?J({collection_id:t.collection_id._id}).then((function(e){s.props.actionNotifyUser({type:"approvesuccess"})})):s.props.actionNotifyUser({type:"approvefail"})}))},e.sendOfferPayment=function(t){var s=[],i=[];s.push(S),i.push(U.ethers.utils.parseEther("100")._hex);var a=Object(y.a)(e);e.sendMoneyToOwner(s,i,U.ethers.utils.parseEther(t.price.toString())._hex,(function(e){1==e.status?a.props.actionNotifyUser({type:"sendoffersuccess"}):a.props.actionNotifyUser({type:"sendofferfail"})}))},e.buyNFT=function(t){var s,i=0;W("admin_commission").then((function(a){z(t.author_id).then((function(n){i=a.result.value,s=n.result;var r=[],o=[],c=t.price,l=parseFloat(c)*(parseFloat(i)/100),d=0;if(t.author_id==t.current_owner._id||t.author_id==e.state.user_id)d=c-l,r.push(t.current_owner.public_key),o.push(U.ethers.utils.parseEther(d.toString())._hex);else{var h=parseFloat(c)*(parseFloat(t.collection_id.royalties)/100);d=c-(h+l),r.push(t.current_owner.public_key),o.push(U.ethers.utils.parseEther(d.toString())._hex),r.push(s.public_key),o.push(U.ethers.utils.parseEther(h.toString())._hex)}r.push(S),o.push(U.ethers.utils.parseEther(l.toFixed(8).toString())._hex);var u=Object(y.a)(e);e.approveContract(F,(function(e){1==e.status&&J({collection_id:t.collection_id._id}).then((function(e){})),u.sendMoneyToOwner(r,o,U.ethers.utils.parseEther(c.toString())._hex,(function(e){1==e.status?u.getTransactionPayment(e.result.hash):u.props.actionNotifyUser({type:"buyfail"})}))}))}))}))},e.sendMoneyToOwner=function(t,s,i,a){var n=new U.ethers.Contract(D,ee,e.signer);W("gas_fee").then((function(e){var r=parseInt(e.result.value);n.sendPayment(t,s,{gasLimit:1e5*r,gasPrice:U.ethers.utils.parseUnits(r.toString(),"gwei"),value:i}).then((function(e){a({status:!0,result:e,message:"money send successful"})})).catch((function(e){console.log(e);a({status:!1,message:"money failed send"})}))}))},e.mintContract=function(){var t=Object(x.a)(Object(O.a)().mark((function t(s){var i;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=Object(y.a)(e),e.approveContract(F,(function(e){!0===e.status?W("gas_fee").then((function(e){var t=parseInt(e.result.value);if(s.is_type){for(var a=[],n=[],r=[],o=(s.token_id,0);o<s.no_of_copies;o++)a.push(s.token_id++),n.push(1),r.push(s.ipfs_cid);console.log(a),console.log(n),new U.ethers.Contract(F,X,i.signer).mintNft(i.address,n,r,"0x00",{gasLimit:1e5*t,gasPrice:U.ethers.utils.parseUnits(t.toString(),"gwei")}).then((function(e){i.getTransactionToken(e.hash)})).catch((function(e){i.props.actionNotifyUser({type:"mintfailed"}),i.props.actionNotifyUser({})}))}else{new U.ethers.Contract(F,X,i.signer).mintNft(i.address,[1],[s.ipfs_cid],"0x00",{gasLimit:1e5*t,gasPrice:U.ethers.utils.parseUnits(t.toString(),"gwei")}).then((function(e){i.getTransactionToken(e.hash)})).catch((function(e){i.props.actionNotifyUser({type:"mintfailed"}),i.props.actionNotifyUser({})}))}})):(i.props.actionNotifyUser({type:"mintfailed"}),i.props.actionNotifyUser({}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getTransactionToken=function(t){var s=Object(y.a)(e);setTimeout((function(){s.web3Provider.send("eth_getTransactionReceipt",[t]).then((function(e){if(null!=e){var i={status:!0,result:e.logs[2].topics[3],message:"mint created successfully"};s.parseTokenResult(i,t)}else{s.parseTokenResult({status:!1,message:"mint created failed"},t)}})).catch((function(e){console.log(e);s.parseTokenResult({status:!1,message:"minted failed"},t)}))}),2e3)},e.parseTokenResult=function(t,s){0==t.status?e.getTransactionToken(s):(e.props.actionNotifyUser({type:"mintsuccess",payload:{token:t.result,hash:s}}),e.props.actionNotifyUser({}))},e.createContract=function(t){var s;(s={name:t.name,symbol:t.contract_symbol},new Promise((function(e,t){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.post(L.base+L.collection_abi,s,{headers:i}).then((function(t){console.warn("collection update response",t.data),e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))}))).then((function(s){!0===s.status?(console.log("generate abi success"),e.web3Provider.send("eth_sendTransaction",[{from:e.address,data:s.result}]).then((function(t){e.getTransactionContract(t)})).catch((function(s){e.props.actionNotifyUser({type:"contractfail",payload:t})}))):e.props.actionNotifyUser({type:"contractfail",payload:t})}))},e.approveContract=function(t,s){var i=new U.ethers.Contract(t,X,e.signer);console.log(i),console.log(e.address),console.log(S),i.isApprovedForAll(e.address,S).then((function(e){e?s({status:!0,result:e,message:"approve success"}):W("gas_fee").then((function(e){var t=parseInt(e.result.value);i.setApprovalForAll(S,!0,{gasLimit:1e5*t,gasPrice:U.ethers.utils.parseUnits(t.toString(),"gwei")}).then((function(e){s({status:!0,result:e,message:"approve success"})})).catch((function(e){console.log(e);s({status:!1,message:"approve failed"})}))}))})).catch((function(e){console.log(e);s({status:!1,message:"approve failed"})}))},e.getTransactionContract=function(t){var s=Object(y.a)(e);setTimeout((function(){s.getTransactionConract(t,(function(e){s.parseContractResult(e,t)}))}),2e3)},e.getTransactionConract=function(t,s){e.web3Provider.send("eth_getTransactionReceipt",[t]).then((function(e){if(console.log("transaction receipt ",e),null!=e){var t={status:!0,result:e.contractAddress,message:"mint created successfully"};s(t)}else{s({status:!1,message:"mint created failed"})}})).catch((function(e){console.log(e);s({status:!1,message:"minted failed"})}))},e.parseContractResult=function(t,s){0==t.status?e.getTransactionContract(s):Object(y.a)(e).approveMetaMaskContract(t.result)},e.approveMetaMaskContract=function(t){var s=Object(y.a)(e);e.approveContract(t,(function(e){1==e.status?s.props.actionNotifyUser({type:"contractsuccess",payload:{contract_address:t}}):s.props.actionNotifyUser({type:"contractfail",payload:{}})}))},e.showSearch=function(t){e.setState({showSearch:t})},e.searchByKeyword=function(){},e.showMenu=function(){e.setState({showMenu:!e.state.showMenu})},e.showDropDownMenu=function(){e.setState({showDropDownMenu:!e.state.showDropDownMenu})},e.LoginAction=Object(x.a)(Object(O.a)().mark((function t(){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onboard.walletReset();case 2:return t.next=4,e.onboard.walletSelect();case 4:return t.next=6,e.onboard.walletCheck();case 6:case"end":return t.stop()}}),t)}))),e.menuAction=function(t){e.setState({showDropDownMenu:!1}),"logout"==t?(localStorage.removeItem("wallet"),localStorage.removeItem("token"),e.setState({isLoggedIn:!1}),e.props.history.push("/")):"profile"===t?e.props.history.push("/profile/"+e.state.user_id):"mycollection"===t?e.props.history.push("/profile/"+e.state.user_id+"/collection"):"settings"===t?e.props.history.push("/profile/"+e.state.user_id+"/settings"):"notification"===t?(e.props.history.push("/profile/"+e.state.user_id+"/notification"),e.resetNotificationCount()):"wallet"==t?e.setState({showWallet:!e.state.showWallet}):"import"===t?e.props.history.push("/import-item"):"user-wallet"===t&&e.props.history.push("/wallet")},e.loginUser=function(t){(function(e){return new Promise((function(t,s){H.a.post(L.base+L.connect,e,{headers:L.apiHeaderForGuest}).then((function(e){console.warn("login respoonse",e.data),t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))})(t).then((function(t){1==t.status&&(localStorage.setItem("token",t.token),e.setState({isLoggedIn:!0}),e.configureUser())}))},e.configureUser=Object(x.a)(Object(O.a)().mark((function t(){var s,i,a,n,r;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.web3Provider.getBalance(e.address);case 2:s=t.sent,e.user=B(),null!==e.user&&(i="",i=0!==e.user.first_name.length?e.user.first_name+" "+e.user.last_name:e.user.username,a="/images/userdefault.jpg",0!==e.user.profile_image.length&&(n=e.user.profile_image,a=n),""===(r=U.ethers.utils.formatEther(s))||r.match(/^\d+(\.\d{1,6})?$/)||(r=parseFloat(r).toFixed(6)),e.setState({user_name:i,profile_image:a,user_balance:r,user_addreess:e.address,is_verfied:e.user.is_verified,user_id:e.user.user_id}),e.props.actionNotifyUser({type:"login",payload:e.user}),e.getNotificationList());case 5:case"end":return t.stop()}}),t)}))),e.getNotificationList=function(){Y({page:1}).then((function(t){var s=t.return_id;e.setState({notificationcount:s,notificationcount_str:s>9?"9+":s.toString()})}))},e.resetNotificationCount=function(){new Promise((function(e,t){var s="";s=L.apiHeaderForGuest;var i=localStorage.getItem("token");delete s.authorization,i&&(s.authorization=localStorage.getItem("token")),H.a.post(L.base+L.user_updatenotification,{},{headers:s}).then((function(t){console.warn("notification respoonse",t.data),e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))})).then((function(t){e.setState({notificationcount:0,notificationcount_str:"0"})}))},e.changeKeyword=function(t){e.timer&&(clearInterval(e.timer),e.timer=null);var s=t.target.value;if(e.setState({creators:[],items:[],searchloading:!0,hasResult:!1,keyword:t.target.value}),e.keyword=s,e.cancelTokenSource&&e.cancelTokenSource.cancel(),s.trim().length<3)e.setState({keywordloading:!1});else{e.setState({keywordloading:!0});var i=Object(y.a)(e);e.timer=setInterval((function(){i.activateSearch()}),2e3)}},e.activateSearch=function(){e.timer&&(clearInterval(e.timer),e.timer=null),e.searchAPIAction(e.keyword)},e.searchAPIAction=function(t){var s={keyword:t};null!==e.user&&(s.user_id=e.user.user_id),e.cancelTokenSource=H.a.CancelToken.source(),function(e,t){return new Promise((function(s,i){var a="";a=L.apiHeaderForGuest;var n=localStorage.getItem("token");delete a.authorization,n&&(a.authorization=localStorage.getItem("token"));var r=L.base+L.search_result;e.keyword?r=r+"?keyword="+e.keyword:r+="?keyword=",e.user_id&&(r=r+"&user_id="+e.user_id),H.a.get(r,{cancelToken:t.token},{headers:a}).then((function(e){s(e.data)})).catch((function(e){s({status:!1,message:e.message})}))}))}(s,e.cancelTokenSource).then((function(t){if(!0===t.status){e.cancelTokenSource=null;var s=te.parseSellerList(t.creators.docs),i=[];t.items&&(i=se.parseItemList(t.items)),e.setState({searchloading:!1,keywordloading:!1,hasResult:s.length>0||i.length>0,creators:s,items:i})}}))},e.searchNavigate=function(t,s){e.timer&&(clearInterval(e.timer),e.timer=null),"user"===s?e.props.history.push("/profile/"+t.user_id):e.props.history.push("/item/"+t.item_id),e.setState({creators:[],items:[],searchloading:!1,hasResult:!1,keyword:""})},e.getAuctionAmount=function(){},e.addFund=function(){},e.getTransactionPayment=function(t){var s=Object(y.a)(e);setTimeout((function(){s.getTransactionPaymentReceipt(t,(function(e){s.parsePaymentResult(e,t)}))}),2e3)},e.getTransactionPaymentReceipt=function(t,s){e.web3Provider.send("eth_getTransactionReceipt",[t]).then((function(e){if(console.log("transaction receipt ",e),null!=e){s({status:!0,result:e,message:"payment confirmed successfully"})}else{s({status:!1,message:"payment not confirmed"})}})).catch((function(e){console.log(e);s({status:!1,message:"minted failed"})}))},e.parsePaymentResult=function(t,s){0==t.status?e.getTransactionPayment(s):"0x1"===t.result.status?e.props.actionNotifyUser({type:"buysuccess"}):e.props.actionNotifyUser({type:"buyfail"})},localStorage.removeItem("token"),e.web3Provider=null,e.signer=null,e.address=null,e.wallet=null,e.user=null,e.admin_commission=0,e.keyword="",e.dropDownRef=a.a.createRef(),e.walletRef=a.a.createRef(),e.searchDownRef=a.a.createRef(),e.cancelTokenSource=null,e.timer=null,e.wallets=[{walletName:"metamask",preferred:!0},{walletName:"walletConnect",rpc:Object(_.a)({},C,M)},{walletName:"coinbase",preferred:!0},{walletName:"torus"}],e.onboard=Object(k.a)({dappId:N,networkId:C,darkMode:!0,walletSelect:{wallets:e.wallets},subscriptions:{address:function(t){if(t){e.address=t,e.web3Provider=new U.ethers.providers.Web3Provider(e.wallet.provider),e.signer=e.web3Provider.getSigner();var s={address:t};e.loginUser(s)}else e.address=null,e.web3Provider=null,e.signer=null,e.menuAction("logout")},wallet:function(t){e.connectWallet(t)}}}),e.state={showSearch:!1,searchLoading:!1,showMenu:!1,showWallet:!1,showDropDownMenu:!1,path:"",isLoggedIn:!1,profile_image:"/images/userdefault.jpg",user_id:"",user_name:"",user_balance:"",user_addreess:"",unlocked_user_balance:0,unlocked_contract_balance:0,is_verfied:!1,items:[],creators:[],hasResult:!1,keywordloading:!1,keyword:"",notificationcount:0,notificationcount_str:"0"},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.setState({path:this.props.location.pathname}),this.walletSelect();var t=this;document.addEventListener("mousedown",(function(s){null!==t.dropDownRef.current&&t.dropDownRef.current.contains(s.target)||e.state.showDropDownMenu&&e.setState({showDropDownMenu:!1}),null!==t.walletRef.current&&t.walletRef.current.contains(s.target)||e.state.showWallet&&e.setState({showWallet:!1}),null!==t.searchDownRef.current&&t.searchDownRef.current.contains(s.target)||e.state.hasResult&&(e.keyword="",e.setState({items:[],creators:[],hasResult:!1,searchloading:!1,keyword:""}))}))}},{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&(window.scrollTo(0,0),this.setState({path:this.props.location.pathname}),null!==this.user&&this.getNotificationList()),this.props.notifier!==e.notifier&&(console.log("header notifier",this.props.notifier),"update"===this.props.notifier.type?this.configureUser():"addoffer"==this.props.notifier.type?this.lockAuction(this.props.notifier.payload):"removeoffer"==this.props.notifier.type&&this.unlockAuction(this.props.notifier.payload));var t=this.props.notifier;t&&("create_contract"===t.type?this.createContract(t.payload):"mint_contract"===t.type?this.mintContract(t.payload):"buynft"===t.type?this.buyNFT(t.payload):"approvenft"===t.type?this.approveNFT(t.payload):"sendoffer"===t.type?this.sendOfferPayment(t.payload):"update_royalty"===t.type?(console.log(t.payload),this.setRoyalty(t.payload,t.type)):"create_auction"===t.type?this.createAuction(t.payload):"delete_auction"===t.type?this.deleteAuction(t.payload):"deposit"===t.type?this.depositAuction(t.payload):"withdraw"===t.type&&this.withdrawAuction(t.payload))}},{key:"copyAddress",value:function(){ne(this.state.user_addreess),Object(re.b)("Address copied",{type:"success"})}},{key:"render",value:function(){var e=this;return Object(ue.jsx)("div",{children:Object(ue.jsx)("header",{className:"header__1",children:Object(ue.jsx)("div",{className:"container",children:Object(ue.jsxs)("div",{className:"wrapper js-header-wrapper",children:[Object(ue.jsx)("div",{className:"header__logo",children:Object(ue.jsx)(u.b,{to:"/",children:Object(ue.jsx)("h3",{className:"color_white",children:"MLIKI"})})}),Object(ue.jsx)("div",{className:"header__menu",children:Object(ue.jsxs)("ul",{className:"d-flex space-x-20",children:[Object(ue.jsx)("li",{children:Object(ue.jsx)(u.b,{to:"/",className:"/"==this.state.path?"color_brand":"color_white",children:"Home"})}),Object(ue.jsx)("li",{children:Object(ue.jsx)(u.b,{to:"/marketplace",className:"/marketplace"==this.state.path?"color_brand":"color_white",children:"Marketplace"})}),Object(ue.jsx)("li",{children:Object(ue.jsx)(u.b,{to:"/activity",className:"/activity"==this.state.path?"color_brand":"color_white",children:"Activity"})}),Object(ue.jsx)("li",{children:Object(ue.jsx)(u.b,{to:"/creators",className:"/creators"==this.state.path?"color_brand":"color_white",children:"Creators"})})]})}),Object(ue.jsxs)("div",{className:"header__search",ref:this.searchDownRef,children:[Object(ue.jsx)("input",{type:"text",placeholder:"Search items, collections, and creators",onChange:this.changeKeyword,value:this.state.keyword}),!this.state.keywordloading&&Object(ue.jsx)("button",{type:"button",children:Object(ue.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(ue.jsx)("path",{d:"M21.71,20.29,18,16.61A9,9,0,1,0,16.61,18l3.68,3.68a1,1,0,0,0,1.42,0A1,1,0,0,0,21.71,20.29ZM11,18a7,7,0,1,1,7-7A7,7,0,0,1,11,18Z"})})}),this.state.keywordloading&&Object(ue.jsx)("button",{type:"button",children:Object(ue.jsx)(ae.a,{type:"Puff",color:"#6164ff",height:20,width:20})}),this.state.hasResult&&!this.state.searchloading&&Object(ue.jsxs)("div",{class:"search_result",children:[this.state.items.length>0&&Object(ue.jsxs)("div",{class:"search_result_item",children:[Object(ue.jsx)("h6",{class:"color_white",children:"Items"}),Object(ue.jsx)("ul",{children:this.state.items.map((function(t,s){return Object(ue.jsxs)("li",{children:[Object(ue.jsxs)("div",{class:"search_result_left",children:[Object(ue.jsx)("a",{href:"javascript:void(0)",onClick:function(){e.searchNavigate(t,"item")},children:Object(ue.jsx)("img",{src:t.thumb,alt:""})})," "]}),Object(ue.jsx)("div",{class:"search_result_right",children:Object(ue.jsx)("a",{href:"javascript:void(0)",onClick:function(){e.searchNavigate(t,"item")},children:t.name})})]})}))})]}),this.state.creators.length>0&&Object(ue.jsxs)("div",{class:"search_result_user",children:[Object(ue.jsx)("h6",{children:"Creators"}),Object(ue.jsx)("ul",{children:this.state.creators.map((function(t,s){return Object(ue.jsxs)("li",{children:[Object(ue.jsx)("div",{class:"search_result_left",children:Object(ue.jsx)("a",{href:"javascript:void(0)",onClick:function(){e.searchNavigate(t,"user")},children:Object(ue.jsx)("img",{src:t.profile_image,alt:""})})}),Object(ue.jsx)("div",{class:"search_result_right",children:Object(ue.jsx)("a",{href:"javascript:void(0)",onClick:function(){e.searchNavigate(t,"user")},children:t.fullname})})]})}))})]})]})]}),Object(ue.jsx)("div",{className:"space-x-20 d-flex flex-column flex-md-row sm:space-y-20",children:Object(ue.jsxs)("div",{className:"header__actions",children:[!this.state.isLoggedIn&&Object(ue.jsxs)("a",{className:"btn btn-white",onClick:this.LoginAction,href:"javascript:void(0)",children:[Object(ue.jsx)("i",{className:"ri-wallet-3-line"})," Connect wallet"]}),this.state.isLoggedIn&&Object(ue.jsxs)("div",{ref:this.dropDownRef,className:"header__action header__action--profile",children:[Object(ue.jsxs)("a",{className:"header__profile-btn "+(!0===this.state.is_verfied?"header__profile-btn--verified":""),href:"javascript:void(0)",role:"button",id:"dropdownMenuProfile","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:function(){e.showDropDownMenu()},children:[Object(ue.jsxs)("div",{class:"menu_profile_image",children:[Object(ue.jsx)("img",{src:this.state.profile_image,alt:""}),this.state.notificationcount>0&&Object(ue.jsx)("span",{children:this.state.notificationcount_str})]}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)("p",{children:this.state.user_name}),Object(ue.jsxs)("span",{children:[this.state.user_balance," MATIC"]})]}),!this.state.showDropDownMenu&&Object(ue.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(ue.jsx)("path",{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"})}),this.state.showDropDownMenu&&Object(ue.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(ue.jsx)("path",{fillRule:"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"})})]}),Object(ue.jsxs)("ul",{className:"dropdown-menu header__profile-menu "+(this.state.showDropDownMenu?"show":""),"aria-labelledby":"dropdownMenuProfile",children:[Object(ue.jsx)("li",{children:Object(ue.jsxs)("a",{href:"javascript:void(0)",onClick:function(){e.menuAction("profile")},children:[Object(ue.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(ue.jsx)("path",{d:"M15.71,12.71a6,6,0,1,0-7.42,0,10,10,0,0,0-6.22,8.18,1,1,0,0,0,2,.22,8,8,0,0,1,15.9,0,1,1,0,0,0,1,.89h.11a1,1,0,0,0,.88-1.1A10,10,0,0,0,15.71,12.71ZM12,12a4,4,0,1,1,4-4A4,4,0,0,1,12,12Z"})})," ",Object(ue.jsx)("span",{children:"Profile"})]})}),Object(ue.jsx)("li",{children:Object(ue.jsxs)("a",{href:"javascript:void(0)",onClick:function(){e.menuAction("notification")},children:[Object(ue.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-bell",viewBox:"0 0 16 16",children:Object(ue.jsx)("path",{d:"M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"})})," ",Object(ue.jsx)("span",{children:"Notifications"}),this.state.notificationcount>0&&Object(ue.jsx)("div",{className:"badge",children:this.state.notificationcount_str})]})}),Object(ue.jsx)("li",{children:Object(ue.jsxs)("a",{href:"javascript:void(0)",onClick:function(){e.menuAction("logout")},children:[Object(ue.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(ue.jsx)("path",{d:"M4,12a1,1,0,0,0,1,1h7.59l-2.3,2.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0l4-4a1,1,0,0,0,.21-.33,1,1,0,0,0,0-.76,1,1,0,0,0-.21-.33l-4-4a1,1,0,1,0-1.42,1.42L12.59,11H5A1,1,0,0,0,4,12ZM17,2H7A3,3,0,0,0,4,5V8A1,1,0,0,0,6,8V5A1,1,0,0,1,7,4H17a1,1,0,0,1,1,1V19a1,1,0,0,1-1,1H7a1,1,0,0,1-1-1V16a1,1,0,0,0-2,0v3a3,3,0,0,0,3,3H17a3,3,0,0,0,3-3V5A3,3,0,0,0,17,2Z"})})," ",Object(ue.jsx)("span",{children:"Sign out"})]})})]})]})]})}),Object(ue.jsx)("div",{className:"header__burger js-header-burger",onClick:this.showMenu}),Object(ue.jsx)("div",{className:" header__mobile js-header-mobile  ".concat(this.state.showMenu?"visible":null," "),children:Object(ue.jsx)("div",{className:"header__mobile__menu space-y-40",children:Object(ue.jsxs)("ul",{className:"d-flex space-y-20",children:[Object(ue.jsx)("li",{children:Object(ue.jsx)(u.b,{to:"/",className:"/"==this.state.path?"color_brand":"color_black",onClick:this.showMenu,children:"Home"})}),Object(ue.jsx)("li",{children:Object(ue.jsx)(u.b,{to:"/marketplace",className:"/marketplace"==this.state.path?"color_brand":"color_black",onClick:this.showMenu,children:"Marketplace"})}),Object(ue.jsx)("li",{children:Object(ue.jsx)(u.b,{to:"/activity",className:"/activity"==this.state.path?"color_brand":"color_black",onClick:this.showMenu,children:"Activity"})}),Object(ue.jsx)("li",{children:Object(ue.jsx)(u.b,{to:"/creators",className:"/creators"==this.state.path?"color_brand":"color_black",onClick:this.showMenu,children:"Creators"})})]})})})]})})})})}}]),s}(a.a.Component);var me=Object(m.b)((function(e){return{notifier:e.notifier}}),{actionNotifyUser:w})(Object(p.g)(pe)),je=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).getFooter=function(){W("footer").then((function(t){if(!0===t.status){var s=JSON.parse(t.result.value);e.setState({facebook:s.facebook,messenger:s.messenger,whatsapp:s.whatsapp,youtube:s.youtube,copy_rights:s.copy_rights,footer_html:s.footer_html,footerloading:!1})}}))},e.state={facebook:"",messenger:"",whatsapp:"",youtube:"",copy_rights:"",footer_html:"",footerloading:!0},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getFooter()}},{key:"render",value:function(){return Object(ue.jsx)("div",{children:Object(ue.jsx)("footer",{className:"footer__1",children:Object(ue.jsxs)("div",{className:"container",children:[Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsxs)("div",{className:"col-lg-6 space-y-20",children:[Object(ue.jsx)("div",{className:"footer__logo",children:Object(ue.jsx)(u.b,{to:"/",children:Object(ue.jsx)("img",{src:"/assets/img/logos/Logo.svg",alt:"logo",id:"logo_js_f"})})}),Object(ue.jsx)("p",{className:"footer__text",children:"Mliki is a shared liquidity NFT market smart contract"}),!this.state.footerloading&&Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)("div",{children:Object(ue.jsxs)("ul",{className:"footer__social space-x-10 mb-40",children:[Object(ue.jsx)("li",{children:Object(ue.jsx)("a",{href:this.state.facebook,rel:"noreferrer",target:"_blank",children:Object(ue.jsx)("i",{className:"ri-facebook-line"})})}),Object(ue.jsx)("li",{children:Object(ue.jsx)("a",{href:this.state.messenger,rel:"noreferrer",target:"_blank",children:Object(ue.jsx)("i",{className:"ri-messenger-line"})})}),Object(ue.jsx)("li",{children:Object(ue.jsx)("a",{href:this.state.whatsapp,target:"_blank",rel:"noreferrer",children:Object(ue.jsx)("i",{className:"ri-whatsapp-line"})})}),Object(ue.jsx)("li",{children:Object(ue.jsx)("a",{href:this.state.youtube,target:"_blank",rel:"noreferrer",children:Object(ue.jsx)("i",{className:"ri-youtube-line"})})})]})})})]}),!this.state.footerloading&&Object(ue.jsx)("div",{className:"col-lg-6 space-y-20",dangerouslySetInnerHTML:{__html:this.state.footer_html}})]}),!this.state.footerloading&&Object(ue.jsx)("p",{className:"copyright text-center",children:this.state.copy_rights})]})})})}}]),s}(a.a.Component),fe=s(28),be=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).navigateActivity=function(){"follow"===e.props.data.history_type?e.props.history.push("/profile/"+e.props.data.object_id):e.props.history.push("/item/"+e.props.data.object_id)},e.state={},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(ue.jsxs)(ue.Fragment,{children:["true"===this.props.skeleton&&Object(ue.jsx)(fe.a,{baseColor:"#202020",highlightColor:"#444",children:Object(ue.jsx)("div",{className:"creators_box",children:Object(ue.jsxs)("div",{className:"avatars space-x-10",children:[Object(ue.jsx)("div",{className:"media",children:Object(ue.jsx)(fe.b,{width:80,height:80})}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)("h5",{className:"color_black",children:Object(ue.jsx)(fe.b,{width:180,height:10})}),Object(ue.jsx)("div",{className:"d-flex space-x-10",children:Object(ue.jsx)("span",{className:"price color_text",children:Object(ue.jsx)(fe.b,{width:100,height:8})})})]})]})})}),"false"===this.props.skeleton&&Object(ue.jsx)("div",{children:Object(ue.jsx)("div",{className:"creators_box",children:Object(ue.jsxs)("div",{className:"avatars space-x-10",children:[Object(ue.jsx)("div",{className:"media",children:Object(ue.jsx)("a",{href:"javascript:void(0)",onClick:this.navigateActivity,children:Object(ue.jsx)("img",{src:this.props.data.image,alt:"Avatar",className:"avatar avatar-md"})})}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)("h5",{className:"color_white",children:this.props.data.object_title}),Object(ue.jsxs)("div",{className:"d-flex space-x-10",children:["follow"===this.props.data.history_type&&Object(ue.jsxs)("p",{class:"activity__text",children:["Followed by ",Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:this.props.data.fullname})]}),"admin_comission"===this.props.data.history_type&&Object(ue.jsxs)("p",{class:"activity__text",children:["Platform comission by ",Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:this.props.data.fullname})," for ",Object(ue.jsxs)("b",{children:[this.props.data.price," ",I]})]}),"comission"===this.props.data.history_type&&Object(ue.jsxs)("p",{class:"activity__text",children:["Royalty by ",Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:this.props.data.fullname})," for ",Object(ue.jsxs)("b",{children:[this.props.data.price," ",I]})]}),"transfer"===this.props.data.history_type&&Object(ue.jsxs)("p",{class:"activity__text",children:["Transferred to ",Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:this.props.data.fullname}),Object(ue.jsx)("br",{}),"for ",Object(ue.jsx)("a",{href:A+"tx/"+this.props.data.transaction_hash,target:"_blank",children:Object(ue.jsxs)("b",{children:[this.props.data.price," ",I]})})]}),"minted"===this.props.data.history_type&&Object(ue.jsxs)("p",{class:"activity__text",children:["Listed by ",Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:this.props.data.fullname}),Object(ue.jsx)("br",{}),"for ",Object(ue.jsx)("a",{href:A+"tx/"+this.props.data.transaction_hash,target:"_blank",children:Object(ue.jsxs)("b",{children:[this.props.data.price," ",I]})})]}),"bids"===this.props.data.history_type&&Object(ue.jsxs)("p",{class:"activity__text",children:["Offered by ",Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:this.props.data.fullname}),Object(ue.jsx)("br",{}),"for ",Object(ue.jsx)("a",{href:A+"tx/"+this.props.data.transaction_hash,target:"_blank",children:Object(ue.jsxs)("b",{children:[this.props.data.price," ",I]})})]}),"deposit"===this.props.data.history_type&&Object(ue.jsxs)("p",{class:"activity__text",children:["Deposited by ",Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:this.props.data.fullname}),Object(ue.jsx)("br",{}),"for ",Object(ue.jsx)("a",{href:A+"tx/"+this.props.data.transaction_hash,target:"_blank",children:Object(ue.jsxs)("b",{children:[this.props.data.price," ",I]})})]}),"withdraw"===this.props.data.history_type&&Object(ue.jsxs)("p",{class:"activity__text",children:["Withdraw by ",Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:this.props.data.fullname}),Object(ue.jsx)("br",{}),"for ",Object(ue.jsxs)("b",{children:[this.props.data.price," ",I]})]})]}),Object(ue.jsx)("p",{className:"date color_text d-none d-sm-block",children:this.props.data.timeago})]})]})})})]})}}]),s}(a.a.Component),ge=Object(p.g)(be),ve=s(34),_e=s(54),Oe=s.n(_e),xe={getShortenNum:function(e){return e<1e3?e:e>=1e3&&e<1e6?+(e/1e3).toFixed(1)+"K":e>=1e6&&e<1e9?+(e/1e6).toFixed(1)+"M":e>=1e9&&e<1e12?+(e/1e9).toFixed(1)+"B":e>=1e12?+(e/1e12).toFixed(1)+"T":void 0},changepriceformat:function(e){var t=String(e),s=e;return t.includes(".")&&t.split(".")[1].length>6&&(s=parseFloat(s).toFixed(6)),s},parseHistoryList:function(e){var t=this,s=[];return e.forEach((function(e){var i,a,n,r,o;if("follow"===e.history_type){var c,l,d,h,u,p,m,j,f,b;if(e.to_id.profile_image)if(e.to_id.profile_image.length>0)i=e.to_id.profile_image;else i="/images/avatars/avatar5.jpg";else i="/images/avatars/avatar5.jpg";r=null===(c=e.to_id)||void 0===c?void 0:c._id,o=(null===(l=e.to_id)||void 0===l?void 0:l.first_name.length)>0?(null===(d=e.to_id)||void 0===d?void 0:d.first_name)+" "+(null===(h=e.to_id)||void 0===h?void 0:h.last_name):null===(u=e.to_id)||void 0===u?void 0:u.username,n=null===(p=e.from_id)||void 0===p?void 0:p._id,a=(null===(m=e.from_id)||void 0===m?void 0:m.first_name.length)>0?(null===(j=e.from_id)||void 0===j?void 0:j.first_name)+" "+(null===(f=e.from_id)||void 0===f?void 0:f.last_name):null===(b=e.from_id)||void 0===b?void 0:b.username}else if("minted"===e.history_type||"transfer"===e.history_type||"comission"===e.history_type||"admin_comission"===e.history_type){var g,v,_,O,x,y,w,k,N,C;if(null!==(g=e.item_id)&&void 0!==g&&g.thumb)if((null===(N=e.item_id)||void 0===N?void 0:N.thumb.length)>0)i=+(null===(C=e.item_id)||void 0===C?void 0:C.thumb);else i="/images/cover/cover-big.jpg";else i="/images/cover/cover-big.jpg";o=null===(v=e.item_id)||void 0===v?void 0:v.name,a=(null===(_=e.to_id)||void 0===_?void 0:_.first_name.length)>0?(null===(O=e.to_id)||void 0===O?void 0:O.first_name)+" "+(null===(x=e.to_id)||void 0===x?void 0:x.last_name):null===(y=e.to_id)||void 0===y?void 0:y.username,n=null===(w=e.to_id)||void 0===w?void 0:w._id,r=null===(k=e.item_id)||void 0===k?void 0:k._id}else if("bids"===e.history_type){var S,I,D,T,A,M,F,P,U,L;if(null!==(S=e.item_id)&&void 0!==S&&S.thumb)if((null===(U=e.item_id)||void 0===U?void 0:U.thumb.length)>0)i=null===(L=e.item_id)||void 0===L?void 0:L.thumb;else i="/images/cover/cover-big.jpg";else i="/images/cover/cover-big.jpg";o=null===(I=e.item_id)||void 0===I?void 0:I.name,a=(null===(D=e.from_id)||void 0===D?void 0:D.first_name.length)>0?(null===(T=e.from_id)||void 0===T?void 0:T.first_name)+" "+(null===(A=e.from_id)||void 0===A?void 0:A.last_name):null===(M=e.from_id)||void 0===M?void 0:M.username,n=null===(F=e.from_id)||void 0===F?void 0:F._id,r=null===(P=e.item_id)||void 0===P?void 0:P._id}else if("deposit"==e.history_type||"withdraw"==e.history_type){var E,H,R,B;if(a=(null===(E=e.from_id)||void 0===E?void 0:E.first_name.length)>0?(null===(H=e.from_id)||void 0===H?void 0:H.first_name)+" "+(null===(R=e.from_id)||void 0===R?void 0:R.last_name):null===(B=e.from_id)||void 0===B?void 0:B.username,""!=e.from_id.profile_image){if(e.from_id.profile_image.length>0)i=e.from_id.profile_image,i="/images/avatars/avatar5.jpg"}else i="/images/avatars/avatar5.jpg";n=e.from_id._id}s.push({history_id:e._id,history_type:e.history_type,object_id:r,object_title:o,fullname:a,image:i,price:t.changepriceformat(e.price),timeago:Oe()(e.created_date).fromNow(),user_id:n,transaction_hash:e.transaction_hash})})),s},parseTradeHistoryList:function(e){var t=this,s=[];return e.forEach((function(e){var i,a,n,r,o;e.from_id?(a=e.from_id._id,i=e.from_id.first_name.length>0?e.from_id.first_name+" "+e.from_id.last_name:e.from_id.username,o=""!=e.from_id.profile_image&&e.from_id.profile_image.length>0?e.from_id.profile_image:"/images/avatars/avatar5.jpg"):o="/images/avatars/avatar5.jpg";e.to_id&&(r=e.to_id._id,n=e.to_id.first_name.length>0?e.to_id.first_name+" "+e.to_id.last_name:e.to_id.username),s.push({history_id:e._id,history_type:e.history_type,event:e.history_type.replace("_"," "),sender:i,sender_id:a,receiver:n,receiver_id:r,price:t.changepriceformat(e.price),timeago:Oe()(e.created_date).fromNow(),transaction_hash:e.transaction_hash,image:o})})),s},parseOfferList:function(e){var t=this,s=[];return e.forEach((function(e){var i=e.sender._id,a=e.sender.first_name.length>0?e.sender.first_name+" "+e.sender.last_name:e.sender.username;s.push({offer_id:e._id,username:a,user_id:i,receiver_id:e.receiver._id,price:t.changepriceformat(e.price),status:e.status,timeago:Oe()(e.created_date).fromNow()})})),s},parsePriceList:function(e){var t=this,s=[];return e.forEach((function(e){var i=e.user_id._id,a=e.user_id.first_name.length>0?e.user_id.first_name+" "+e.user_id.last_name:e.user_id.username;s.push({price_id:e._id,username:a,user_id:i,price:t.changepriceformat(e.price),timeago:Oe()(e.created_date).fromNow()})})),s}},ye=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).state={},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(ue.jsx)("div",{class:"box page-404",children:Object(ue.jsx)("div",{class:"page-404__wrap",children:Object(ue.jsx)("div",{class:"page-404__content",children:Object(ue.jsx)("p",{class:"page-404__text",children:"Sorry, No data to display"})})})})}}]),s}(a.a.Component),we=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).initFields=function(){e.setState({activities:[],loading:!0,paging:!1}),window.scrollTo(0,0),e.page=1,e.historyAPI(e.page)},e.getStaticcontent=function(){W("title").then((function(t){if(!0===t.status){var s=JSON.parse(t.result.value);console.log("parse ->",s),e.setState({activity_title:s.activity_page_title})}}))},e.historyAPI=function(t){var s={page:t};e.history_type.trim().length>0&&(s.filter=e.history_type),le(s).then((function(s){if(!0===s.status){var i=xe.parseHistoryList(s.data.docs),a=e.state.activities;if(1!==t)for(var n=0;n<i.length;n++)a.push(i[n]);else a=i;e.setState({loading:!1,paging:s.data.docs.length>0,activities:a})}}))},e.fetchMoreData=function(){e.page=e.page+1,e.historyAPI(e.page)},e.resetFilter=function(){e.history_type="";for(var t=e.state.filters,s=0;s<t.length;s++)t[s].status=!1;e.setState({filters:t}),e.initFields()},e.handleClick=function(t){for(var s=e.state.filters,i=0;i<s.length;i++)s[i].value===t.value?(e.history_type=t.value,s[i].status=!0):s[i].status=!1;e.setState({filters:s}),e.initFields()},e.page=1,e.loading=!1,e.history_type="",e.state={activities:[],filters:[{type:"Listings",value:"minted",status:!1},{type:"Sales",value:"comission",status:!1},{type:"Platform Sales",value:"admin_comission",status:!1},{type:"Transfer",value:"transfer",status:!1},{type:"Bids",value:"bids",status:!1},{type:"Followings",value:"follow",status:!1}],skeleton:[1,1,1,1,1,1,1,1,1,1,1,1],paging:!1,loading:!0,history_type:e.history_type,activity_title:""},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.initFields(),this.getStaticcontent()}},{key:"render",value:function(){return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("div",{children:Object(ue.jsx)("div",{children:Object(ue.jsx)("div",{className:"hero__activity",children:Object(ue.jsx)("div",{className:"container",children:Object(ue.jsx)("div",{className:"space-y-10",dangerouslySetInnerHTML:{__html:this.state.activity_title}})})})})}),Object(ue.jsx)("div",{className:"container mt-100",children:Object(ue.jsx)("div",{class:"row",children:Object(ue.jsxs)("div",{class:"col-12",children:[!this.state.loading&&this.state.activities.length>0&&Object(ue.jsx)(ve.a,{dataLength:this.state.activities.length,next:this.fetchMoreData,hasMore:this.state.paging,children:Object(ue.jsx)("div",{class:"row justify-content-center",children:Object(ue.jsx)("div",{className:"col-lg-6 col-md-8 col-sm-10",children:Object(ue.jsx)("div",{className:"space-y-20",children:this.state.activities.map((function(e,t){return Object(ue.jsx)("div",{className:"box",children:Object(ue.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:Object(ue.jsx)(ge,{skeleton:"false",data:e})})},t)}))})})})}),this.state.loading&&Object(ue.jsx)("div",{class:"row justify-content-center",children:Object(ue.jsx)("div",{className:"col-lg-6 col-md-8 col-sm-10",children:Object(ue.jsx)("div",{className:"space-y-20",children:this.state.skeleton.map((function(e,t){return Object(ue.jsx)("div",{className:"box",children:Object(ue.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:Object(ue.jsx)(ge,{skeleton:"true",data:null})})},t)}))})})}),!this.state.loading&&0===this.state.activities.length&&Object(ue.jsx)(ye,{})]})})})]})}}]),s}(a.a.Component),ke=s(110),Ne=s(247),Ce=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).offerComplete=function(){e.setState({has_offer:!1})},e.state={has_offer:!1},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=!1;"false"===this.props.skeleton&&(e=this.props.data.has_offer,this.setState({has_offer:e}))}},{key:"render",value:function(){var e=this;return Object(ue.jsxs)(ue.Fragment,{children:["true"===this.props.skeleton&&Object(ue.jsx)(fe.a,{baseColor:"#202020",highlightColor:"#444",children:Object(ue.jsx)("div",{className:"card__item four",children:Object(ue.jsxs)("div",{className:"cards",children:[Object(ue.jsx)(fe.b,{height:300}),Object(ue.jsx)("div",{className:"top-mode",children:Object(ue.jsx)(fe.b,{height:10})}),Object(ue.jsx)("div",{className:"row",children:Object(ue.jsx)("div",{className:"col-sm-8",children:Object(ue.jsx)(fe.b,{height:6})})}),Object(ue.jsx)("div",{className:"lean-line",children:Object(ue.jsx)(fe.b,{height:1})}),Object(ue.jsx)("div",{className:"row",children:Object(ue.jsx)("div",{className:"col-sm-6",children:Object(ue.jsx)("div",{className:"bid-new",children:Object(ue.jsx)(fe.b,{height:32})})})})]})})}),"true"!==this.props.skeleton&&Object(ue.jsx)("div",{className:"card__item four liveactionlist",children:Object(ue.jsxs)("div",{className:"card_body space-y-10",children:[Object(ue.jsx)("div",{className:"creators space-x-10",children:Object(ue.jsxs)("div",{className:"avatars space-x-6",children:[Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:Object(ue.jsx)("img",{src:this.props.data.profile_image,alt:"Avatar",className:"avatar avatar-sm"})}),Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,className:"ml-2",children:Object(ue.jsx)("p",{className:"avatars_name txt_xs",children:this.props.data.fullname})})]})}),Object(ue.jsxs)("div",{className:"card_head",children:[Object(ue.jsxs)(u.b,{to:"/item/"+this.props.data.item_id,children:[Object(ue.jsx)("img",{src:this.props.data.thumb,alt:"nftimage"}),this.props.data.has_offer&&"active"==this.props.data.status&&Object(ue.jsx)("span",{class:"countdown",children:Object(ue.jsx)(ke.a,{date:this.props.data.offer_time,onComplete:function(){e.offerComplete()}})}),this.props.data.has_offer&&"active"==this.props.data.status&&this.props.data.percentage>0&&Object(ue.jsx)(Ne.a,{now:this.props.data.percentage})]}),Object(ue.jsxs)(u.b,{to:"/item/"+this.props.data.item_id,className:"likes space-x-3",children:[Object(ue.jsx)("i",{className:"ri-heart-3-fill"}),Object(ue.jsx)("span",{className:"txt_sm",children:this.props.data.like_count})]})]}),Object(ue.jsx)("h6",{className:"card_title",children:Object(ue.jsx)(u.b,{className:"color_black",to:"/item/"+this.props.data.item_id,children:this.props.data.name})}),Object(ue.jsx)("div",{className:"card_footer d-block space-y-10",children:Object(ue.jsxs)("div",{className:"card_footer justify-content-between",children:[Object(ue.jsx)("div",{className:"creators",children:Object(ue.jsx)("p",{className:"txt_sm",children:"In stock"})}),Object(ue.jsx)("div",{children:this.props.data.price>0&&!1===this.props.data.has_offer&&Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsxs)("div",{className:" color_text txt_sm",children:["Price:",Object(ue.jsxs)("span",{className:"color_green txt_sm",children:[this.props.data.price," ",I]})]})})})]})})]})})]})}}]),s}(a.a.Component),Se=function(){return new Promise((function(e,t){var s=L.apiHeaderForGuest,i=L.base+L.category_list;H.a.get(i,{headers:s}).then((function(t){e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))}))},Ie=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).getStaticcontent=function(){W("title").then((function(t){if(!0===t.status){var s=JSON.parse(t.result.value);console.log("parse ->",s),e.setState({marketplace_title:s.marketplace_page_title})}}))},e.itemAPIAction=function(t,s){var i={type:"explorer",keyword:t,sortby:e.sortby,collection_id:e.collectionId,page:s};e.categoryId.trim().length>0&&(i.category_id=e.categoryId),e.collectionId.trim().length>0&&(i.collection_id=e.collectionId),e.cancelTokenSource=H.a.CancelToken.source(),function(e,t){return new Promise((function(s,i){var a=L.apiHeaderForGuest,n=L.base+L.item_list;e.page&&(n=n+"?page="+e.page),e.type&&(n=n+"&type="+e.type),e.keyword&&(n=n+"&keyword="+e.keyword),e.sortby&&(n=n+"&sortby="+e.sortby),e.collection_id&&(n=n+"&collection_id="+e.collection_id),e.category_id&&(n=n+"&category_id="+e.category_id),H.a.get(n,{cancelToken:t.token},{headers:a}).then((function(e){s(e.data)})).catch((function(e){s({status:!1,message:e.message})}))}))}(i,e.cancelTokenSource).then((function(t){if(!0===t.status){e.cancelTokenSource=null;var i=se.parseItemList(t.data.docs),a=e.state.items;if(1!==s)for(var n=0;n<i.length;n++)a.push(i[n]);else a=i;e.setState({loading:!1,paging:t.data.docs.length>0,items:a})}}))},e.fetchMoreData=function(){e.page=e.page+1,e.itemAPIAction(e.keyword,e.page)},e.changeKeyword=function(t){e.page=1;var s=t.target.value;e.keyword=s,e.cancelTokenSource&&e.cancelTokenSource.cancel(),e.setState({items:[],loading:!0,paging:!1,keyword:t.target.value}),e.itemAPIAction(e.keyword,e.page)},e.changeType=function(t){e.page=1,e.sortby=t,e.setState({items:[],loading:!0,paging:!1,sortby:e.sortby}),e.itemAPIAction(e.keyword,e.page)},e.changeCategory=function(t){e.page=1,e.categoryId=t,e.setState({items:[],loading:!0,paging:!1,category_id:e.categoryId}),e.itemAPIAction(e.keyword,e.page)},e.changeCollection=function(t){e.page=1,e.collectionId=t.target.value,e.setState({items:[],loading:!0,paging:!1,collection_id:e.collectionId}),e.itemAPIAction(e.keyword,e.page)},e.getCategories=function(){Se().then((function(t){e.setState({categories:t.data}),e.itemAPIAction(e.keyword,e.page)}))},e.getCollections=function(){new Promise((function(e,t){var s=L.apiHeaderForGuest,i=L.base+L.collection_all_list;H.a.get(i,{headers:s}).then((function(t){e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))})).then((function(t){e.setState({collections:t.data}),e.getCategories()}))},e.page=1,e.loading=!1,e.user=null,e.firstTime=!1,e.collectionId="",e.categoryId="",e.sortby="latest",e.keyword="",e.cancelTokenSource=null,e.state={skeleton:[1,1,1,1,1,1,1,1,1,1,1,1],items:[],paging:!1,loading:!0,collection_id:"",category_id:"",sortby:e.sortby,keyword:"",categories:[],collections:[],marketplace_title:""},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.setState({items:[],loading:!0,paging:!1}),this.page=1,this.getCollections(),this.getStaticcontent()}},{key:"render",value:function(){var e,t=this;return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("div",{children:Object(ue.jsx)("div",{children:Object(ue.jsx)("div",{className:"hero_marketplace bg_black",children:Object(ue.jsx)("div",{className:"container",children:Object(ue.jsx)("h1",{className:"text-center color_white",children:this.state.marketplace_title})})})})}),Object(ue.jsx)("div",{className:"d-flex justify-content-center",children:Object(ue.jsxs)("ul",{className:"menu_categories  bg_black py-20 px-15 w-100",children:[Object(ue.jsx)("li",{children:Object(ue.jsx)("a",{className:"color_brand",href:"javascript:void(0)",onClick:function(){t.changeCategory("")},children:Object(ue.jsx)("span",{children:" All "})})}),null===(e=this.state.categories)||void 0===e?void 0:e.map((function(e,s){return Object(ue.jsx)("li",{children:Object(ue.jsx)("a",{href:"javascript:void(0)",className:"color_brand",onClick:function(){t.changeCategory(e._id)},children:Object(ue.jsx)("span",{children:e.title})})})}))]})}),Object(ue.jsxs)("div",{className:"container",children:[Object(ue.jsx)("div",{className:"row row--grid",children:Object(ue.jsx)("div",{className:"col-12",children:Object(ue.jsx)("div",{children:Object(ue.jsx)("h2",{className:"mt-40 mb-20 color_white",children:"Marketplace"})})})}),Object(ue.jsx)("div",{className:"row row--grid",children:Object(ue.jsx)("div",{class:"col-12",children:Object(ue.jsx)("div",{class:"tabsContainer",children:Object(ue.jsxs)("div",{className:"d-flex space-x-10 mb-30 nav-tabs",children:[Object(ue.jsx)("div",{children:Object(ue.jsx)("a",{className:"btn btn-white btn-sm "+("latest"==this.state.sortby?"btn-primary":""),href:"javascript:void(0)",onClick:function(){t.changeType("latest")},children:"New"})}),Object(ue.jsx)("div",{children:Object(ue.jsx)("a",{className:"btn btn-white btn-sm "+("offer"==this.state.sortby?"btn-primary":""),href:"javascript:void(0)",onClick:function(){t.changeType("offer")},children:"On Auction"})}),Object(ue.jsx)("div",{children:Object(ue.jsx)("a",{className:"btn btn-white btn-sm "+("mostviewed"==this.state.sortby?"btn-primary":""),href:"javascript:void(0)",onClick:function(){t.changeType("mostviewed")},children:"Most Viewed"})}),Object(ue.jsx)("div",{children:Object(ue.jsx)("a",{className:"btn btn-white btn-sm "+("mostliked"==this.state.sortby?"btn-primary":""),href:"javascript:void(0)",onClick:function(){t.changeType("mostliked")},children:"Most Liked"})})]})})})}),Object(ue.jsxs)("div",{class:"item-grid",children:[this.state.loading&&Object(ue.jsx)("div",{className:"row row--grid",children:this.state.skeleton.map((function(e,t){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-3",children:Object(ue.jsx)(Ce,{skeleton:"true",data:null})})}))}),!this.state.loading&&this.state.items.length>0&&Object(ue.jsx)(ve.a,{dataLength:this.state.items.length,next:this.fetchMoreData,hasMore:this.state.paging,children:Object(ue.jsx)("div",{className:"row row--grid",children:this.state.items.map((function(e,t){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-3",children:Object(ue.jsx)(Ce,{skeleton:"false",data:e})})}))})}),!this.state.loading&&0===this.state.items.length&&Object(ue.jsx)(ye,{})]})]})]})}}]),s}(a.a.Component),De=function(e){var t=[];return e.forEach((function(e){var s;e.slider_image&&e.slider_image.length>0&&(s=L.media_path+"/images/slider/"+e.slider_image),t.push({slider_id:e._id,slider_title:e.title,slider_description:e.desc,slider_image:s,slider_link:e.slider_link})})),t},Te=function(e){var t=[];return e.forEach((function(e){t.push({title:e.question,content:e.answer})})),t},Ae=(s(401),s(235)),Me=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).getBanners=function(){new Promise((function(e,t){var s="";s=L.apiHeaderForGuest;var i=localStorage.getItem("token");delete s.authorization,i&&(s.authorization=localStorage.getItem("token"));var a=L.base+L.banner_list;H.a.get(a,{headers:s}).then((function(t){e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))})).then((function(t){if(!0===t.status){for(var s=De(t.data),i=[],a=0;a<s.length&&(i.push(s[a]),3!=a);a++);e.setState({bannerItem:i,bannerloading:!1})}}))},e.gotoCollection=function(){var t=B();null!==t?e.props.history.push("/profile/"+t.user_id+"/collection"):Object(re.b)("Please log to continue",{type:"success"})},e.state={bannerItem:[],bannerloading:!0},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getBanners()}},{key:"render",value:function(){return Object(ue.jsx)("div",{className:"hero__1",children:Object(ue.jsx)("div",{className:"container",children:!this.state.bannerloading&&this.state.bannerItem.length>0&&Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)(Ae.Carousel,{autoPlay:"true",infiniteLoop:"true",children:this.state.bannerItem.map((function(e,t){return Object(ue.jsxs)("div",{className:"row align-items-center",children:[Object(ue.jsx)("div",{className:"col-lg-6",children:Object(ue.jsxs)("div",{className:"hero__left space-y-20",children:[Object(ue.jsx)("h1",{className:"hero__title color_white",children:Object(ue.jsx)("a",{href:"#",onClick:function(){return window.open(e.slider_link,"_blank")},children:e.slider_title})}),Object(ue.jsx)("p",{className:"hero__text txt color_light",children:e.slider_description}),Object(ue.jsx)("div",{className:"space-x-20 d-flex flex-column flex-md-row sm:space-y-20",children:Object(ue.jsx)(u.b,{className:"btn btn-primary",to:"marketplace",children:"View market"})})]})}),Object(ue.jsx)("div",{className:"col-lg-6",children:Object(ue.jsx)("a",{href:"#",onClick:function(){return window.open(e.slider_link,"_blank")},children:Object(ue.jsx)("img",{className:"img-fluid w-full",id:"img_js",src:e.slider_image,alt:"img"})})})]},t)}))})})})})}}]),s}(a.a.Component),Fe=Object(p.g)(Me),Pe=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).state={},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(ue.jsxs)(ue.Fragment,{children:["true"==this.props.skeleton&&Object(ue.jsx)(fe.a,{baseColor:"#202020",highlightColor:"#444",children:Object(ue.jsx)("div",{className:"col-xl-3 col-lg-4 col-md-4 col-sm-6 mb-20",children:Object(ue.jsx)("div",{className:"creator_item creator_card space-x-10 ",children:Object(ue.jsx)("div",{className:"usercard",children:Object(ue.jsx)("div",{className:"cards",children:Object(ue.jsxs)("div",{className:"new-collecter",children:[Object(ue.jsx)(fe.b,{className:"circles",variant:"circular",width:80,height:80}),Object(ue.jsxs)("div",{className:"new-wayer",children:[Object(ue.jsx)(fe.b,{className:"small-lines",width:140,height:10}),Object(ue.jsx)(fe.b,{className:"small-lines",height:10})]})]})})})})})}),"false"==this.props.skeleton&&Object(ue.jsx)("div",{className:"col-xl-3 col-lg-4 col-md-4 col-sm-6 mb-20",children:Object(ue.jsx)("div",{className:"creator_item creator_card space-x-10 ",children:Object(ue.jsxs)("div",{className:"avatars space-x-10",children:[Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:Object(ue.jsx)("img",{src:this.props.data.profile_image,alt:"Avatar",className:"avatar avatar-md"})}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:Object(ue.jsx)("p",{className:"avatars_name color_black",children:this.props.data.fullname})}),0===this.props.data.follower_count&&Object(ue.jsx)("span",{className:"price color_green",children:"No Followers"}),0!==this.props.data.follower_count&&Object(ue.jsxs)("span",{className:"price color_green",children:[this.props.data.follower_count_str," Followers"]})]})]})})})]})}}]),s}(a.a.Component),Ue=s(87),Le=s.n(Ue),Ee=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).state={},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(ue.jsxs)(ue.Fragment,{children:["true"===this.props.skeleton&&Object(ue.jsx)(fe.a,{baseColor:"#202020",highlightColor:"#444",children:Object(ue.jsx)("div",{className:"collections space-y-10 mb-30",children:Object(ue.jsx)("div",{className:"collections_item",children:Object(ue.jsx)("div",{className:"usercard",children:Object(ue.jsxs)("div",{className:"cards",children:[Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsx)("div",{className:"col-sm-4",children:Object(ue.jsx)(fe.b,{height:94})}),Object(ue.jsx)("div",{className:"col-sm-4",children:Object(ue.jsx)(fe.b,{height:94})}),Object(ue.jsx)("div",{className:"col-sm-4",children:Object(ue.jsx)(fe.b,{height:94})})]}),Object(ue.jsx)("div",{className:"collection-one",children:Object(ue.jsx)(fe.b,{height:302})})]})})})})}),"false"===this.props.skeleton&&Object(ue.jsxs)("div",{className:"collections space-y-10 mb-30",children:[Object(ue.jsx)(u.b,{to:"/collection/"+this.props.data.collection_id,children:Object(ue.jsx)("div",{className:"collections_item",children:Object(ue.jsxs)("div",{className:"images-box space-y-10",children:[Object(ue.jsxs)("div",{className:"top_imgs",children:[this.props.data.item_info.length>0&&Object(ue.jsx)(ue.Fragment,{children:this.props.data.item_info.map((function(e,t){return Object(ue.jsx)(u.b,{to:"/item/"+e._id,children:Object(ue.jsx)("img",{src:e.image,alt:"prv"})})}))}),this.props.data.item_info.length<3&&Object(ue.jsx)(ue.Fragment,{children:Le.a.times(3-this.props.data.item_info.length,(function(e){return Object(ue.jsx)(u.b,{to:"#",children:Object(ue.jsx)("img",{src:"/assets/img/items/item_15.png",alt:"prv"})})}))})]}),Object(ue.jsx)("img",{src:this.props.data.banner,alt:"prv"})]})})}),Object(ue.jsx)("div",{className:"collections_footer justify-content-between",children:Object(ue.jsx)("h5",{className:"collection_title",children:Object(ue.jsx)(u.b,{to:"/collection/"+this.props.data.collection_id,children:this.props.data.name})})}),Object(ue.jsxs)("div",{className:"creators space-x-10",children:[Object(ue.jsxs)("span",{className:"color_text txt_md",children:[this.props.data.item_count," items \xb7 Created by"]}),Object(ue.jsx)("div",{className:"avatars space-x-5",children:Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:Object(ue.jsx)("img",{src:this.props.data.profile_image,alt:"Avatar",className:"avatar avatar-sm"})})}),Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:Object(ue.jsx)("p",{className:"avatars_name txt_sm",children:this.props.data.fullname})})]})]})]})}}]),s}(a.a.Component),He={getShortenNum:function(e){return e<1e3?e:e>=1e3&&e<1e6?+(e/1e3).toFixed(1)+"K":e>=1e6&&e<1e9?+(e/1e6).toFixed(1)+"M":e>=1e9&&e<1e12?+(e/1e9).toFixed(1)+"B":e>=1e12?+(e/1e12).toFixed(1)+"T":void 0},parseCollectionList:function(e){var t=this,s=[];return e.forEach((function(e){var i,a,n,r;e.banner&&(e.banner.length>0&&e.banner);e.author_id.profile_image?i=e.author_id.profile_image.length>0?e.author_id.profile_image:"/images/avatars/avatar5.jpg":i="/images/avatars/avatar5.jpg";e.item.length>0&&e.item.forEach((function(e,t){if(0==t){if(e.thumb.length>0){var s=e.thumb;a=s}else a="/assets/img/items/item_13.png";e.image=a}else if(1==t){if(e.thumb.length>0){var i=e.thumb;n=i}else n="/assets/img/items/item_14.png";e.image=n}else if(2==t){if(e.thumb.length>0){var o=e.thumb;r=o}else r="/assets/img/items/item_15.png";e.image=r}})),s.push({collection_id:e._id,name:e.name,banner:e.banner,profile_image:i,fullname:e.author_id.first_name.length>0?e.author_id.first_name+" "+e.author_id.last_name:e.author_id.username,user_id:e.author_id._id,item_count:e.item_count,is_verified:e.author_id.is_verified,item_count_str:t.getShortenNum(e.item_count),item_info:e.item})})),s}},Re=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).getStaticcontent=function(){W("title").then((function(t){if(!0===t.status){var s=JSON.parse(t.result.value);e.setState({auctions_title:s.auctions_title,sellers_title:s.sellers_title,explore_title:s.explore_title,collection_title:s.collection_title})}}))},e.getTopSeller=function(){e.cancelTokenSource=H.a.CancelToken.source(),q({keyword:"",sortby:"top",type:"all",page:1},e.cancelTokenSource).then((function(t){if(!0===t.status){e.cancelTokenSource=null;for(var s=te.parseSellerList(t.data.docs),i=[],a=0;a<s.length&&(i.push(s[a]),14!=a);a++);e.setState({sellerloading:!1,sellers:i,sellerNav:s.length>15})}}))},e.getOfferList=function(){ce({type:"offer",page:1}).then((function(t){if(!0===t.status){for(var s=se.parseItemList(t.data.docs),i=[],a=0;a<s.length&&(i.push(s[a]),3!=a);a++);e.setState({offerItem:i,offerloading:!1,offerNav:s.length>4})}}))},e.getRecentList=function(){ce({type:"marketplace",page:1}).then((function(t){if(!0===t.status){for(var s=se.parseItemList(t.data.docs),i=[],a=0;a<s.length&&(i.push(s[a]),3!=a);a++);e.setState({recentItem:i,recentloading:!1,recentNav:s.length>4})}}))},e.getTopCollection=function(){Z({type:"sold",page:1}).then((function(t){if(!0===t.status){for(var s=He.parseCollectionList(t.data.docs),i=[],a=0;a<s.length&&(i.push(s[a]),5!=a);a++);e.setState({collectionloading:!1,topcollection:i})}else e.setState({collectionloading:!1})}))},e.state={auction:[1,2,3,4],sellerloading:!0,sellerskeleton:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],sellers:[],topcollection:[],collectionloading:!0,sellerNav:!1,offerItem:[],offerloading:!0,offerNav:!1,recentItem:[],recentloading:!0,recentNav:!1,auctions_title:"",sellers_title:"",explore_title:"",collection_title:""},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getTopCollection(),this.getTopSeller(),this.getOfferList(),this.getRecentList(),this.getStaticcontent()}},{key:"render",value:function(){return Object(ue.jsxs)("div",{children:[Object(ue.jsx)(Fe,{}),Object(ue.jsx)("div",{className:"mt-100",children:Object(ue.jsxs)("div",{className:"container",children:[this.state.offerloading&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("div",{className:"row",children:Object(ue.jsx)("div",{className:"section_head mb-30",children:Object(ue.jsx)("h2",{className:"section__title ",children:this.state.auctions_title})})}),Object(ue.jsx)("div",{className:"row",children:this.state.auction.map((function(e,t){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-3",children:Object(ue.jsx)(Ce,{skeleton:"true",data:null})})}))})]}),!this.state.offerloading&&this.state.offerItem.length>0&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("div",{className:"section_head mb-30 liveaction",children:Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsx)("div",{class:"col-md-6 col-sm-12",children:Object(ue.jsx)("h2",{class:"section__title ",children:this.state.auctions_title})}),Object(ue.jsx)("div",{class:"col-md-6 col-sm-12",children:this.state.offerNav&&Object(ue.jsxs)(u.b,{to:"/marketplace",class:"main__link",children:["View all ",Object(ue.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(ue.jsx)("path",{d:"M17.92,11.62a1,1,0,0,0-.21-.33l-5-5a1,1,0,0,0-1.42,1.42L14.59,11H7a1,1,0,0,0,0,2h7.59l-3.3,3.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0l5-5a1,1,0,0,0,.21-.33A1,1,0,0,0,17.92,11.62Z"})})]})})]})}),Object(ue.jsx)("div",{className:"row",children:this.state.offerItem.map((function(e,t){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-3",children:Object(ue.jsx)(Ce,{skeleton:"false",data:e})})}))})]})]})}),Object(ue.jsx)("div",{className:"mt-100",children:Object(ue.jsxs)("div",{className:"container",children:[this.state.sellerloading&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("div",{className:"row",children:Object(ue.jsx)("div",{className:"section_head mb-30",children:Object(ue.jsx)("h2",{class:"section__title ",children:this.state.sellers_title})})}),Object(ue.jsx)("div",{class:"row",children:Object(ue.jsx)("div",{class:"col-12",children:Object(ue.jsx)("div",{className:"section__body",children:Object(ue.jsx)("div",{className:"row mb-20_reset",children:this.state.sellerskeleton.map((function(e,t){return Object(ue.jsx)(Pe,{rank:t+1,skeleton:"true",data:null})}))})})})})]}),!this.state.sellerloading&&this.state.sellers.length>0&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("div",{className:"row",children:Object(ue.jsxs)("div",{className:"section_head mb-30",children:[Object(ue.jsx)("h2",{class:"section__title ",children:this.state.sellers_title}),this.state.sellerNav&&Object(ue.jsxs)(u.b,{to:"/creators",class:"main__link",children:["View all ",Object(ue.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(ue.jsx)("path",{d:"M17.92,11.62a1,1,0,0,0-.21-.33l-5-5a1,1,0,0,0-1.42,1.42L14.59,11H7a1,1,0,0,0,0,2h7.59l-3.3,3.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0l5-5a1,1,0,0,0,.21-.33A1,1,0,0,0,17.92,11.62Z"})})]})]})}),Object(ue.jsx)("div",{class:"row",children:Object(ue.jsx)("div",{class:"col-12",children:Object(ue.jsx)("div",{className:"section__body",children:Object(ue.jsx)("div",{className:"row mb-20_reset",children:this.state.sellers.map((function(e,t){return Object(ue.jsx)(Pe,{rank:t+1,skeleton:"false",data:e})}))})})})})]})]})}),Object(ue.jsx)("div",{className:"mt-100",children:Object(ue.jsxs)("div",{className:"container",children:[this.state.recentloading&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("div",{className:"row",children:Object(ue.jsx)("div",{className:"section_head mb-30",children:Object(ue.jsx)("h2",{class:"section__title ",children:this.state.explore_title})})}),Object(ue.jsx)("div",{class:"row",children:this.state.auction.map((function(e,t){return Object(ue.jsx)("div",{className:"col-xl-3 col-lg-4 col-md-6 col-sm-6",children:Object(ue.jsx)(Ce,{skeleton:"true",data:null})},t)}))})]}),!this.state.recentloading&&this.state.recentItem.length>0&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("div",{className:"row",children:Object(ue.jsxs)("div",{className:"section_head mb-30",children:[Object(ue.jsx)("h2",{class:"section__title ",children:this.state.explore_title}),this.state.sellerNav&&Object(ue.jsxs)(u.b,{to:"/marketplace",class:"main__link",children:["View all ",Object(ue.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(ue.jsx)("path",{d:"M17.92,11.62a1,1,0,0,0-.21-.33l-5-5a1,1,0,0,0-1.42,1.42L14.59,11H7a1,1,0,0,0,0,2h7.59l-3.3,3.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0l5-5a1,1,0,0,0,.21-.33A1,1,0,0,0,17.92,11.62Z"})})]})]})}),Object(ue.jsx)("div",{class:"row item-grid",children:this.state.recentItem.map((function(e,t){return Object(ue.jsx)("div",{className:"col-xl-3 col-lg-4 col-md-6 col-sm-6",children:Object(ue.jsx)(Ce,{skeleton:"false",data:e})},t)}))})]})]})}),Object(ue.jsx)("div",{className:"mt-100",children:Object(ue.jsxs)("div",{className:"container",children:[this.state.collectionloading&&Object(ue.jsxs)("div",{children:[Object(ue.jsx)("div",{className:"row",children:Object(ue.jsx)("div",{className:"section_head mb-30",children:Object(ue.jsx)("h2",{class:"section__title ",children:this.state.collection_title})})}),Object(ue.jsx)("div",{class:"row",children:this.state.auction.map((function(e,t){return Object(ue.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-8",children:Object(ue.jsx)(Ee,{skeleton:"true",data:null})})}))})]}),!this.state.collectionloading&&this.state.topcollection.length>0&&Object(ue.jsxs)("div",{children:[Object(ue.jsx)("div",{className:"row",children:Object(ue.jsx)("div",{className:"section_head mb-30",children:Object(ue.jsx)("h2",{class:"section__title ",children:this.state.collection_title})})}),Object(ue.jsx)("div",{class:"row",children:this.state.topcollection.map((function(e,t){return Object(ue.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-8",children:Object(ue.jsx)(Ee,{skeleton:"false",data:e})})}))})]})]})})]})}}]),s}(a.a.Component),Be=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).state={},e}return Object(l.a)(s,[{key:"followAction",value:function(){this.props.follow(this.props.data)}},{key:"render",value:function(){return Object(ue.jsxs)(ue.Fragment,{children:["true"===this.props.skeleton&&Object(ue.jsx)(fe.a,{baseColor:"#202020",highlightColor:"#444",children:Object(ue.jsxs)("div",{class:"author",children:[Object(ue.jsx)("a",{href:"javascript:void(0)",class:"author__cover author__cover--bg",children:Object(ue.jsx)(fe.b,{height:"100%"})}),Object(ue.jsxs)("div",{class:"author__meta",children:[Object(ue.jsx)("a",{href:"javascript:void(0)",class:"author__avatar",children:Object(ue.jsx)(fe.b,{height:"100%"})}),Object(ue.jsx)("h3",{class:"author__name",children:Object(ue.jsx)(fe.b,{})}),Object(ue.jsx)("h3",{class:"author__nickname",children:Object(ue.jsx)(fe.b,{width:"75%"})}),Object(ue.jsx)("div",{class:"author__wrap",children:Object(ue.jsxs)("div",{class:"author__followers",children:[Object(ue.jsx)("p",{children:Object(ue.jsx)(fe.b,{})}),Object(ue.jsx)("span",{children:"Followers"})]})})]})]})}),"false"===this.props.skeleton&&Object(ue.jsxs)("div",{class:"author",children:[Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,class:"author__cover author__cover--bg",children:Object(ue.jsx)("img",{src:this.props.data.profile_cover})}),Object(ue.jsxs)("div",{class:"author__meta",children:[Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,className:"author__avatar "+(this.props.data.is_verified?"author__avatar--verified":""),children:Object(ue.jsx)("img",{src:this.props.data.profile_image,alt:""})}),Object(ue.jsx)("h3",{class:"author__name",children:Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:this.props.data.fullname})}),Object(ue.jsx)("h3",{class:"author__nickname",children:Object(ue.jsxs)(u.b,{to:"/profile/"+this.props.data.user_id,children:["@",this.props.data.username]})}),Object(ue.jsxs)("div",{class:"author__wrap",children:[Object(ue.jsxs)("div",{class:"author__followers",children:[this.props.data.follower_count>0&&Object(ue.jsx)("p",{children:this.props.data.follower_count_str}),0===this.props.data.follower_count&&Object(ue.jsx)("p",{children:"NO"}),Object(ue.jsx)("span",{children:"Followers"})]}),this.props.isLogged&&0===this.props.data.is_follow&&Object(ue.jsx)("button",{class:"author__follow",type:"button",onClick:this.followAction.bind(this),children:"Follow"}),this.props.isLogged&&1===this.props.data.is_follow&&Object(ue.jsx)("button",{class:"author__follow",type:"button",onClick:this.followAction.bind(this),children:"UnFollow"})]})]})]})]})}}]),s}(a.a.Component),ze=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).initData=function(){e.user=B(),e.setState({isLogged:null!==e.user,creators:[],loading:!0,paging:!1,keyword:"",sortby:"latest",type:"all"}),e.page=1,e.sellerAPIAction(e.keyword,e.page)},e.sellerAPIAction=function(t,s){var i={keyword:t,sortby:e.sortby,type:e.type,page:e.page};null!==e.user&&(i.user_id=e.user.user_id),e.cancelTokenSource=H.a.CancelToken.source(),q(i,e.cancelTokenSource).then((function(t){if(!0===t.status){e.cancelTokenSource=null;var i=te.parseSellerList(t.data.docs),a=e.state.creators;if(1!==s)for(var n=0;n<i.length;n++)a.push(i[n]);else a=i;e.setState({loading:!1,paging:t.data.docs.length>0,creators:a})}}))},e.fetchMoreData=function(){e.page=e.page+1,e.sellerAPIAction(e.keyword,e.page)},e.changeSortby=function(t){e.page=1,e.sortby=t.target.value,e.setState({creators:[],loading:!0,paging:!1,sortby:e.sortby}),e.sellerAPIAction(e.keyword,e.page)},e.changeType=function(t){e.page=1,e.type=t.target.value,e.setState({creators:[],loading:!0,paging:!1,type:e.type}),e.sellerAPIAction(e.keyword,e.page)},e.changeKeyword=function(t){e.page=1;var s=t.target.value;e.keyword=s,e.cancelTokenSource&&e.cancelTokenSource.cancel(),e.setState({creators:[],loading:!0,paging:!1,keyword:t.target.value}),e.sellerAPIAction(e.keyword,e.page)},e.followAction=function(t){var s=t.is_follow,i={status:0===s?1:2,user_id:t.user_id},a=t.follower_count;0===s?a+=1:a-=1;for(var n=e.state.creators,r=0;r<n.length;r++){var o=e.state.creators[r];o.user_id===t.user_id&&(o.is_follow=0===s?1:0,o.follower_count=a,o.follower_count_str=te.getShortenNum(o.follower_count))}e.setState({creators:n}),V(i).then((function(e){console.log(e)}))},e.page=1,e.user=null,e.cancelTokenSource=null,e.loading=!1,e.sortby="latest",e.type="all",e.keyword="",e.state={creators:[],skeleton:[1,1,1,1,1,1,1,1,1,1,1,1],paging:!1,keyword:"",sortby:"latest",type:"all",loading:!0,isLogged:!1},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.initData()}},{key:"componentDidUpdate",value:function(e){this.props.notifier!==e.notifier&&this.initData()}},{key:"render",value:function(){var e=this;return Object(ue.jsxs)("div",{className:"container",children:[Object(ue.jsx)("div",{className:"row row--grid mb-30",children:Object(ue.jsx)("div",{className:"col-12",children:Object(ue.jsx)("div",{className:"main__title main__title--page",children:Object(ue.jsx)("h1",{children:"Creators"})})})}),this.state.loading&&Object(ue.jsx)("div",{className:"row row--grid",children:this.state.skeleton.map((function(e,t){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-3",children:Object(ue.jsx)(Be,{skeleton:"true",data:null})})}))}),!this.state.loading&&this.state.creators.length>0&&Object(ue.jsx)(ve.a,{dataLength:this.state.creators.length,next:this.fetchMoreData,hasMore:this.state.paging,children:Object(ue.jsx)("div",{className:"row row--grid",children:this.state.creators.map((function(t,s){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-3",children:Object(ue.jsx)(Be,{skeleton:"false",data:t,isLogged:e.state.isLogged,follow:e.followAction})})}))})}),!this.state.loading&&0===this.state.creators.length&&Object(ue.jsx)(ye,{})]})}}]),s}(a.a.Component);var Ge=Object(m.b)((function(e){return{notifier:e.notifier}}))(Object(p.g)(ze)),qe=s(50),Ve=s(64),We=function(e){var t;return Object(qe.d)((function(e){t=Object(re.b)("uploading...",{closeButton:!1,autoClose:!1,progress:0,isLoading:!0})})),Object(qe.c)((function(e){re.b.update(t,{progress:e.completed})})),Object(qe.b)((function(s){re.b.dismiss(t),1==s.uploadResponse.data.status?e.onDone(s.uploadResponse.data.result):e.onError(s.uploadResponse.data.message)})),null},Ye=s(471),$e=s(472),Je=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).getProfileInfo=function(t){z(t).then((function(t){if(console.log("user info",t),!0===t.status){e.currentUser=t.result;var s="/images/avatars/avatar5.jpg";e.currentUser.profile_image&&0!==e.currentUser.profile_image.length&&(s=e.currentUser.profile_image);var i="/images/bg/bg.png";e.currentUser.profile_cover&&0!==e.currentUser.profile_cover.length&&(i=e.currentUser.profile_cover);var a="";a=0!==e.currentUser.first_name.length?e.currentUser.first_name+" "+e.currentUser.last_name:e.currentUser.username;var n=B(),r=!1,o=!1;null!==n&&(r=!0,o=e.currentUser._id===n.user_id),e.setState({profile_image:s,profile_cover:i,user_name:e.currentUser.username,full_name:a,is_verified:e.currentUser.is_verified,description:e.currentUser.description,address:e.currentUser.public_key,website_url:e.currentUser.website_url,facebook_url:e.currentUser.facebook_url,twitter_url:e.currentUser.twitter_url,linkedin_url:e.currentUser.linkedin_url,instagram_url:e.currentUser.instagram_url,is_following:1===t.is_follow?1:0,followText:1===t.is_follow?"UnFollow":"Follow",follow_count:e.currentUser.follower_count,follow_count_str:te.getShortenNum(e.currentUser.follower_count),creation_count:t.creations,creation_count_str:te.getShortenNum(t.creations),isOwner:o,isLoggedIn:r}),null===n||o||e.addProfileView()}}))},e.addProfileView=function(){var t;(t={profile_id:e.state.profileId},new Promise((function(e,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.post(L.base+L.user_views,t,{headers:i}).then((function(t){console.warn("user view response",t.data),e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))}))).then((function(e){}))},e.setPath=function(t,s){var i,a,n=t.split("/");console.log(n),3==n.length?(i="collected",a=n[n.length-1],e.setState({path:i,profileId:a})):(i=n[n.length-1],a=n[n.length-2],e.setState({path:i,profileId:a})),(a!=e.state.profileId||s)&&e.getProfileInfo(a),"settings"===i||"notification"===i?e.setState({showMenu:!1}):e.setState({showMenu:!0})},e.avatarUpload=function(){return e.state.isOwner?Object(ue.jsxs)(qe.a,{accept:"image/*",destination:{url:L.base+"/media/avatar"},children:[Object(ue.jsx)(Ve.a,{className:"avatarUploader",text:"EDIT"}),Object(ue.jsx)(We,{onDone:e.avatarUploadDone,onError:e.avatarUploadError})]}):Object(ue.jsx)("div",{})},e.avatarUploadDone=function(t){G(e.currentUser._id,{profile_image:t,type:"profile"}).then((function(t){if(!0===t.status){localStorage.setItem("token",t.token);var s=B();e.props.actionNotifyUser({type:"update",payload:s}),Object(re.b)(t.message,{type:"success"})}else Object(re.b)(t.message,{type:"error"})}))},e.avatarUploadError=function(e){Object(re.b)(e,{type:"success"})},e.coverUpload=function(){return e.state.isOwner?Object(ue.jsxs)(qe.a,{accept:"image/*",destination:{url:L.base+"/media/cover"},children:[Object(ue.jsx)(Ve.a,{className:"coverUploader",text:"Change Cover"}),Object(ue.jsx)(We,{onDone:e.coverUploadDone,onError:e.avatarUploadError})]}):Object(ue.jsx)("div",{})},e.coverUploadDone=function(t){G(e.currentUser._id,{profile_cover:t,type:"cover"}).then((function(s){!0===s.status?(e.setState({profile_cover:L.media_path+"/images/cover/"+t}),Object(re.b)(s.message,{type:"success"})):Object(re.b)(s.message,{type:"error"})}))},e.followAction=function(){var t=e.state.is_following,s={status:0===t?1:2,user_id:e.state.profileId},i=e.state.follow_count;0===t?i+=1:i-=1,e.setState({is_following:0===t?1:0,followText:0===t?"UnFollow":"Follow",follow_count:i,follow_count_str:te.getShortenNum(i)}),V(s).then((function(e){console.log(e)}))},e.verifyAction=function(){if(0!==e.currentUser.email.trim().length){var t=Object(re.b)("sending verification otp",{closeButton:!1,autoClose:!1,isLoading:!0});new Promise((function(e,t){var s=L.apiHeaderForGuest;s.authorization=localStorage.getItem("token"),H.a.post(L.base+L.user_verfiy,{},{headers:s}).then((function(t){console.warn("verify response",t.data),e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))})).then((function(s){re.b.dismiss(t),!1!==s.status?e.setState({showVerify:!0}):Object(re.b)(s.message,{type:"error"})}))}else Object(re.b)("Please update profile before verify your account",{type:"error"})},e.closeVerifyModal=function(){e.setState({showVerify:!1,otp:""})},e.confirmVerifyModal=function(){if(0!==e.state.otp.trim().length){var t,s=Object(re.b)("confirming verification otp",{closeButton:!1,autoClose:!1,isLoading:!0});(t={verification_code:e.state.otp},new Promise((function(e,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.post(L.base+L.user_confirm,t,{headers:i}).then((function(t){console.warn("verify response",t.data),e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))}))).then((function(e){re.b.dismiss(s),!1!==e.status?window.location.reload():Object(re.b)(e.message,{type:"error"})})),e.setState({showVerify:!1,otp:""})}else Object(re.b)("otp is required",{type:"error"})},e.handleOTPChange=function(t){e.state.otp;e.setState({otp:t.target.value})},e.toast=null,e.currentUser=null,e.state={path:"collected",profileId:"",showMenu:!0,follow_count:0,follow_count_str:"",creation_count:0,creation_count_str:"",is_following:0,followText:"Follow",isLoggedIn:!1,isOwner:!1,profile_cover:"/images/bg/bg.png",profile_image:"/images/avatars/avatar5.jpg",user_id:"",user_name:"",full_name:"",description:"",address:"",user_balance:"",is_verified:!1,otp:"",showVerify:!1,website_url:"",facebook_url:"",twitter_url:"",instagram_url:"",linkedin_url:""},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.setPath(this.props.location.pathname,!0)}},{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&(window.scrollTo(0,0),this.setPath(this.props.location.pathname,!1)),this.props.notifier!==e.notifier&&this.setPath(this.props.location.pathname,!0)}},{key:"copyAddress",value:function(){ne(this.state.address),Object(re.b)("Address copied",{type:"success"})}},{key:"render",value:function(){var e=this;return Object(ue.jsxs)("div",{class:"profileContainer",children:[Object(ue.jsx)("div",{className:"mb-100",children:Object(ue.jsxs)("div",{className:"hero__profile",children:[Object(ue.jsxs)("div",{className:"cover",children:[Object(ue.jsx)("img",{src:this.state.profile_cover,alt:"ImgPreview"}),this.coverUpload()]}),Object(ue.jsx)("div",{className:"infos",children:Object(ue.jsx)("div",{className:"container",children:Object(ue.jsxs)("div",{className:"row flex-wrap align-items-center justify-content-between sm:space-y-50",children:[Object(ue.jsx)("div",{className:"col-md-auto mr-20",children:Object(ue.jsxs)("div",{className:"avatars d-flex space-x-20 align-items-center",children:[Object(ue.jsxs)("div",{className:"avatar_wrap avatar_wrap_new",children:[Object(ue.jsx)("img",{className:"avatar avatar-lg",src:this.state.profile_image,alt:"avatar"}),Object(ue.jsx)("div",{className:"edit-center",children:this.avatarUpload()})]}),Object(ue.jsxs)("h5",{children:["@",this.state.full_name]})]})}),Object(ue.jsx)("div",{className:"col-md-auto follow-one",children:Object(ue.jsxs)("div",{className:"d-sm-flex flex-wrap align-items-center space-x-20 mb-20_reset d-sm-block",children:[Object(ue.jsx)("div",{className:"mb-20",children:Object(ue.jsx)("div",{className:"copy",onClick:function(){e.copyAddress()},children:Object(ue.jsxs)("span",{className:"color_text",children:[this.state.address," "]})})}),Object(ue.jsxs)("div",{className:"d-flex flex-wrap align-items-center space-x-20",children:[Object(ue.jsx)("div",{className:"mb-20",children:this.state.isLoggedIn&&!this.state.isOwner&&Object(ue.jsx)("button",{class:"btn btn-dark btn-sm 'btn-prim",type:"button",onClick:function(){e.followAction()},children:this.state.followText})}),this.state.isLoggedIn&&this.state.isOwner&&Object(ue.jsx)("div",{className:"mb-20",children:Object(ue.jsx)(u.b,{to:"/profile/"+this.state.profileId+"/settings",className:"btn btn-dark btn-sm content space-x-10 d-flex",children:Object(ue.jsx)("span",{children:"Edit Profile "})})})]})]})})]})})}),"notification"==this.state.path&&Object(ue.jsx)(u.b,{to:"/",className:"btn btn-white btn-sm my-40 backhomebtn",children:"Back to home"})]})}),Object(ue.jsx)("div",{class:"container",children:Object(ue.jsxs)("div",{className:"row justify-content-center",children:[this.state.showMenu&&Object(ue.jsx)("div",{className:"col-lg-3 col-md-7 order-md-0 order-1",children:Object(ue.jsx)("div",{className:"profile__sidebar",children:Object(ue.jsxs)("div",{className:"space-y-40",children:[Object(ue.jsxs)("div",{className:"space-y-10",children:[Object(ue.jsx)("h5",{className:"color_white",children:"About me"}),Object(ue.jsxs)("div",{className:"box space-y-20",children:[Object(ue.jsx)("p",{className:"color_white",children:this.state.description}),Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsxs)("div",{className:"col-6",children:[Object(ue.jsx)("span",{className:"txt_sm color_white",children:"Followers"}),0===this.state.follow_count&&Object(ue.jsx)("h4",{className:"color_white",children:"NO"}),0!==this.state.follow_count&&Object(ue.jsx)("h4",{className:"color_white",children:this.state.follow_count_str})]}),Object(ue.jsxs)("div",{className:"col-6",children:[Object(ue.jsx)("span",{className:"txt_sm color_white",children:"Creations"}),0===this.state.follow_count&&Object(ue.jsx)("h4",{className:"color_white",children:"NO"}),0!==this.state.follow_count&&Object(ue.jsx)("h4",{className:"color_white",children:this.state.creation_count_str})]})]})]})]}),(this.state.facebook_url.length>0||this.state.instagram_url.length>0||this.state.twitter_url.length>0||this.state.website_url.length>0)&&Object(ue.jsxs)("div",{className:"space-y-10",children:[Object(ue.jsx)("h5",{className:"color_white",children:"Follow me"}),Object(ue.jsx)("div",{className:"box",children:Object(ue.jsxs)("ul",{className:"social_profile space-y-10 overflow-hidden",children:[this.state.facebook_url.length>0&&Object(ue.jsx)("li",{children:Object(ue.jsxs)("a",{href:this.state.facebook_url,rel:"noreferrer",target:"_blank",children:[Object(ue.jsx)("i",{className:"ri-facebook-line"}),Object(ue.jsxs)("span",{className:"color_white",children:["facebook/@",this.state.full_name]})]})}),this.state.instagram_url.length>0&&Object(ue.jsx)("li",{children:Object(ue.jsxs)("a",{href:this.state.facebook_url,rel:"noreferrer",target:"_blank",children:[Object(ue.jsx)("i",{className:"ri-instagram-line"}),Object(ue.jsxs)("span",{className:"color_white",children:[" instagram/@",this.state.full_name]})]})}),this.state.twitter_url.length>0&&Object(ue.jsx)("li",{children:Object(ue.jsxs)("a",{href:this.state.twitter_url,target:"_blank",rel:"noreferrer",children:[Object(ue.jsx)("i",{className:"ri-twitter-line"}),Object(ue.jsxs)("span",{className:"color_white",children:[" twitter/@",this.state.full_name]})]})}),this.state.website_url.length>0&&Object(ue.jsx)("li",{children:Object(ue.jsxs)("a",{href:this.state.website_url,target:"_blank",rel:"noreferrer",children:[Object(ue.jsx)("i",{className:"ri-messenger-line"}),Object(ue.jsxs)("span",{className:"color_white",children:["website/@",this.state.full_name]})]})})]})})]})]})})}),Object(ue.jsxs)("div",{className:"col-lg-9 col-md-12 order-md-1 order-0",children:[this.state.showMenu&&Object(ue.jsx)("div",{class:"tabsContainer",children:Object(ue.jsxs)("div",{className:"d-flex space-x-10 mb-30 nav-tabs",children:[Object(ue.jsx)("div",{children:Object(ue.jsx)(u.b,{className:"btn btn-white btn-sm "+("collected"==this.state.path?"btn-primary":""),to:"/profile/"+this.state.profileId+"/collected",children:"Owned"})}),Object(ue.jsx)("div",{children:Object(ue.jsx)(u.b,{className:"btn btn-white btn-sm "+("created"==this.state.path?"btn-primary":""),to:"/profile/"+this.state.profileId+"/created",children:"Created"})}),Object(ue.jsx)("div",{children:Object(ue.jsx)(u.b,{className:"btn btn-white btn-sm "+("activity"==this.state.path?"btn-primary":""),to:"/profile/"+this.state.profileId+"/activity",children:"Activity"})}),this.state.isOwner&&Object(ue.jsx)("div",{children:Object(ue.jsx)(u.b,{className:"btn btn-white btn-sm "+("collection"==this.state.path?"btn-primary":""),to:"/profile/"+this.state.profileId+"/collection",children:"Collections"})})]})}),this.state.isOwner&&Object(ue.jsx)("div",{class:"d-flex space-x-10 mb-30 nav-tabs righttab",children:("collected"==this.state.path||"created"==this.state.path||"activity"==this.state.path||"collection"==this.state.path)&&Object(ue.jsxs)(u.b,{to:"/addcollection",class:"main__link",children:[Object(ue.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"bi bi-plus-square",viewBox:"0 0 16 16",children:[Object(ue.jsx)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),Object(ue.jsx)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})]}),"Add Collection"]})}),Object(ue.jsx)("div",{class:"tab-content",children:Object(ue.jsxs)(p.d,{children:[Object(ue.jsx)(p.a,{exact:!0,from:"/profile/"+this.state.profileId,to:"/profile/"+this.state.profileId+"/collected"}),this.props.routes.map((function(t,s){return Object(ue.jsx)(p.b,{path:t.path,exact:t.exact,render:function(s){return Object(ue.jsx)(t.component,Object(o.a)(Object(o.a)({},s),{},{path:e.state.path,profileId:e.state.profileId}))}},"path_".concat(s))}))]})})]})]})}),Object(ue.jsxs)(Ye.a,{show:this.state.showVerify,onHide:this.closeVerifyModal,children:[Object(ue.jsx)(Ye.a.Header,{closeButton:!0,children:Object(ue.jsx)(Ye.a.Title,{children:"Verify Account"})}),Object(ue.jsx)(Ye.a.Body,{children:Object(ue.jsx)("div",{class:"row verifyContent",children:Object(ue.jsx)("div",{class:"col-12",children:Object(ue.jsx)("div",{class:"sign__group",children:Object(ue.jsx)("input",{id:"otp",type:"text",name:"otp",class:"sign__input",placeholder:"Enter OTP",onChange:this.handleOTPChange.bind("otp"),value:this.state.otp})})})})}),Object(ue.jsxs)(Ye.a.Footer,{children:[Object(ue.jsx)($e.a,{variant:"primary",onClick:this.closeVerifyModal,children:"Close"}),Object(ue.jsx)($e.a,{variant:"primary",onClick:this.confirmVerifyModal,children:"Verify"})]})]})]})}}]),s}(a.a.Component);var Ke=Object(m.b)((function(e){return{notifier:e.notifier}}),{actionNotifyUser:w})(Object(p.g)(Je)),Ze=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).initData=function(){if(console.log("test"),e.user=B(),null!=e.user){var t=e.props.location.pathname.split("/"),s=t[t.length-2];e.user.user_id===s?(e.setState({collections:[],loading:!1,paging:!1}),e.page=1,console.log("test2"),e.collectionAPIAction(e.page)):e.setState({collections:[],paging:!1,loading:!1})}else e.setState({collections:[],paging:!1,loading:!1})},e.collectionAPIAction=function(t){Z({type:"my",page:t}).then((function(s){if(!0===s.status){var i=He.parseCollectionList(s.data.docs),a=e.state.collections;if(1!==t)for(var n=0;n<i.length;n++)a.push(i[n]);else a=i;e.setState({loading:!1,paging:s.data.docs.length>0,collections:a})}}))},e.fetchMoreData=function(){e.page=e.page+1,e.collectionAPIAction(e.page)},e.page=1,e.loading=!1,e.user=null,e.firstTime=!1,e.state={skeleton:[1,1,1,1,1,1,1,1,1,1,1,1],collections:[],paging:!1,loading:!0},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.initData(),this.props.actionNotifyUser({type:"dummy",payload:{}})}},{key:"componentDidUpdate",value:function(e){this.props.notifier!==e.notifier&&this.initData()}},{key:"render",value:function(){return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("section",{class:"row row--grid",children:Object(ue.jsx)("div",{class:"col-12",children:Object(ue.jsx)("div",{class:"main__title mb-20",children:Object(ue.jsx)("h2",{children:"Collections"})})})}),Object(ue.jsxs)("div",{children:[this.state.loading&&Object(ue.jsx)("div",{className:"row row--grid",children:this.state.skeleton.map((function(e,t){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-4",children:Object(ue.jsx)(Ee,{skeleton:"true",data:null})})}))}),!this.state.loading&&this.state.collections.length>0&&Object(ue.jsx)(ve.a,{dataLength:this.state.collections.length,next:this.fetchMoreData,hasMore:this.state.paging,children:Object(ue.jsx)("div",{className:"row row--grid",children:this.state.collections.map((function(e,t){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-6",children:Object(ue.jsx)(Ee,{skeleton:"false",data:e})})}))})}),!this.state.loading&&0===this.state.collections.length&&Object(ue.jsx)(ye,{})]})]})}}]),s}(a.a.Component);var Qe=Object(m.b)((function(e){return{notifier:e.notifier}}),{actionNotifyUser:w})(Object(p.g)(Ze)),Xe=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).initFields=function(){var t=e.props.location.pathname.split("/");e.page_type=t[1],e.page_id=t[2],e.setState({activities:[],loading:!0,paging:!1}),e.page=1,e.historyAPI(e.page)},e.historyAPI=function(t){var s={page:t};"profile"===e.page_type?(s.type="profile",s.user_id=e.page_id):"collection"===e.page_type&&(s.type="collection",s.collection_id=e.page_id),le(s).then((function(s){if(!0===s.status){var i=xe.parseHistoryList(s.data.docs),a=e.state.activities;if(1!==t)for(var n=0;n<i.length;n++)a.push(i[n]);else a=i;e.setState({loading:!1,paging:s.data.docs.length>0,activities:a})}}))},e.fetchMoreData=function(){e.page=e.page+1,e.historyAPI(e.page)},e.page_type="",e.page_id="",e.page=1,e.loading=!1,e.state={activities:[],skeleton:[1,1,1,1,1,1,1,1,1,1,1,1],paging:!1,loading:!0},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.initFields()}},{key:"componentDidUpdate",value:function(e){this.props.notifier!==e.notifier&&this.initFields()}},{key:"render",value:function(){return Object(ue.jsxs)(ue.Fragment,{children:[!this.state.loading&&this.state.activities.length>0&&Object(ue.jsx)(ve.a,{dataLength:this.state.activities.length,next:this.fetchMoreData,hasMore:this.state.paging,children:Object(ue.jsx)("div",{class:"row justify-content-center",children:Object(ue.jsx)("div",{className:"col-lg-12 col-md-12 col-sm-12",children:Object(ue.jsx)("div",{className:"space-y-20",children:this.state.activities.map((function(e,t){return Object(ue.jsx)("div",{className:"box",children:Object(ue.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:Object(ue.jsx)(ge,{skeleton:"false",data:e})})},t)}))})})})}),this.state.loading&&Object(ue.jsx)("div",{class:"row justify-content-center",children:Object(ue.jsx)("div",{className:"col-lg-12 col-md-12 col-sm-12",children:Object(ue.jsx)("div",{className:"space-y-20",children:this.state.skeleton.map((function(e,t){return Object(ue.jsx)("div",{className:"box",children:Object(ue.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:Object(ue.jsx)(ge,{skeleton:"true",data:null})})},t)}))})})}),!this.state.loading&&0===this.state.activities.length&&Object(ue.jsx)(ye,{})]})}}]),s}(a.a.Component);var et=Object(m.b)((function(e){return{notifier:e.notifier}}),{})(Object(p.g)(Xe)),tt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).state={},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(ue.jsxs)("div",{class:"permission",children:[Object(ue.jsx)("div",{class:"permission__img",children:Object(ue.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"75",height:"75",fill:"currentColor",class:"bi bi-slash-circle",viewBox:"0 0 16 16",children:[Object(ue.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(ue.jsx)("path",{d:"M11.354 4.646a.5.5 0 0 0-.708 0l-6 6a.5.5 0 0 0 .708.708l6-6a.5.5 0 0 0 0-.708z"})]})}),Object(ue.jsx)("div",{class:"permission__title",children:Object(ue.jsx)("h2",{className:"color_white",children:"Permission Denied"})})]})}}]),s}(a.a.Component),st=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).initFields=function(){var t=B();if(null!==t){var s=e.props.location.pathname.split("/"),i=s[s.length-2];e.setState({profileId:i}),t.user_id===i?(e.setState({has_permission:!0}),e.getProfileInfo(i)):e.setState({has_permission:!1})}else e.setState({has_permission:!1})},e.getProfileInfo=function(t){z(t).then((function(t){if(!0===t.status){var s=t.result;e.setState({fields:{username:s.username,first_name:s.first_name,last_name:s.last_name,email:s.email,description:s.description,website_url:s.website_url,facebook_url:s.facebook_url,twitter_url:s.twitter_url,linkedin_url:s.linkedin_url,instagram_url:s.instagram_url}})}}))},e.handleChange=function(t,s){var i=e.state.fields;i[t]=s.target.value,e.setState({fields:i})},e.updateProfile=function(){if(e.validateFields()){var t=e.state.fields;t.type="general",G(e.state.profileId,t).then((function(t){if(!0===t.status){localStorage.setItem("token",t.token);var s=B();e.props.actionNotifyUser({type:"update",payload:s}),Object(re.b)(t.message,{type:"success"}),e.props.history.push("/profile/"+e.state.profileId+"/collected")}else Object(re.b)(t.message,{type:"error"})}))}},e.validateFields=function(){if(0===e.state.fields.username.trim().length)return Object(re.b)("Username is required",{type:"error"}),!1;if(e.state.fields.username.trim().length>32)return Object(re.b)("Username should not exceed 32 characters",{type:"error"}),!1;if(0===e.state.fields.email.trim().length)return Object(re.b)("Email is required",{type:"error"}),!1;if(!/^((?!\.)[\w\-_.]*[^.])(@\w+)(\.\w+(\.\w+)?[^.\W])$/.test(e.state.fields.email))return Object(re.b)("Invalid Email",{type:"error"}),!1;if(0===e.state.fields.first_name.trim().length)return Object(re.b)("First name is required",{type:"error"}),!1;if(!e.state.fields.first_name.match(/^[a-zA-Z]+$/))return Object(re.b)("First name should be letters",{type:"error"}),!1;if(e.state.fields.first_name.trim().length>32)return Object(re.b)("First name should not exceed 32 characters",{type:"error"}),!1;if(0===e.state.fields.last_name.trim().length)return Object(re.b)("Last name is required",{type:"error"}),!1;if(!e.state.fields.last_name.match(/^[a-zA-Z]+$/))return Object(re.b)("Last name should be letters",{type:"error"}),!1;if(e.state.fields.last_name.trim().length>32)return Object(re.b)("Last name should not exceed 32 characters",{type:"error"}),!1;if(e.state.fields.description.trim().length>255)return Object(re.b)("Description should not exceed 255 characters",{type:"error"}),!1;var t=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/;return e.state.fields.website_url.trim().length>0&&!t.test(e.state.fields.website_url)?(Object(re.b)("Invalid website url",{type:"error"}),!1):e.state.fields.facebook_url.trim().length>0&&!t.test(e.state.fields.facebook_url)||e.state.fields.twitter_url.trim().length>0&&!t.test(e.state.fields.twitter_url)||e.state.fields.instagram_url.trim().length>0&&!t.test(e.state.fields.instagram_url)?(Object(re.b)("Invalid url",{type:"error"}),!1):!(e.state.fields.linkedin_url.trim().length>0&&!t.test(e.state.fields.linkedin_url))||(Object(re.b)("Invalid url",{type:"error"}),!1)},e.state={profileId:"",has_permission:!0,fields:{username:"",first_name:"",last_name:"",email:"",description:"",website_url:"",facebook_url:"",twitter_url:"",linkedin_url:"",instagram_url:""}},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.initFields()}},{key:"componentDidUpdate",value:function(e){this.props.notifier!==e.notifier&&this.initFields()}},{key:"render",value:function(){var e=this;return Object(ue.jsxs)("form",{action:"#",class:"box in__upload profiled mb-120",children:[this.state.has_permission&&Object(ue.jsxs)("div",{class:"row",children:[Object(ue.jsx)("div",{class:"col-12",children:Object(ue.jsx)("h3",{class:"color_white mb-20",children:"Update Profile"})}),Object(ue.jsx)("div",{class:"col-12 col-md-6 col-lg-12 col-xl-6",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"Username"}),Object(ue.jsx)("input",{id:"username",type:"text",name:"username",class:"form-control",placeholder:"Enter username",onChange:this.handleChange.bind(this,"username"),value:this.state.fields.username})]})}),Object(ue.jsx)("div",{class:"col-12 col-md-6 col-lg-12 col-xl-6",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"Email"}),Object(ue.jsx)("input",{id:"email",type:"text",name:"email",class:"form-control",placeholder:"Enter email",onChange:this.handleChange.bind(this,"email"),value:this.state.fields.email})]})}),Object(ue.jsx)("div",{class:"col-12 col-md-6 col-lg-12 col-xl-6",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"First name"}),Object(ue.jsx)("input",{id:"first_name",type:"text",name:"first_name",class:"form-control",placeholder:"Enter first name",onChange:this.handleChange.bind(this,"first_name"),value:this.state.fields.first_name})]})}),Object(ue.jsx)("div",{class:"col-12 col-md-6 col-lg-12 col-xl-6",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"Last name"}),Object(ue.jsx)("input",{id:"last_name",type:"text",name:"last_name",class:"form-control",placeholder:"Enter last name",onChange:this.handleChange.bind(this,"last_name"),value:this.state.fields.last_name})]})}),Object(ue.jsx)("div",{class:"col-12 col-md-12 col-lg-12 col-xl-12",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"Description"}),Object(ue.jsx)("textarea",{name:"description",class:"form-control",placeholder:"Enter description",onChange:this.handleChange.bind(this,"description"),value:this.state.fields.description})]})}),Object(ue.jsx)("div",{class:"col-12 col-md-6 col-lg-12 col-xl-6",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"Website"}),Object(ue.jsx)("input",{id:"website",type:"text",name:"website_url",class:"form-control",placeholder:"Website url",onChange:this.handleChange.bind(this,"website_url"),value:this.state.fields.website_url})]})}),Object(ue.jsx)("div",{class:"col-12 col-md-6 col-lg-12 col-xl-6",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"Facebook"}),Object(ue.jsx)("input",{id:"facebook",type:"text",name:"facebook_url",class:"form-control",placeholder:"Facebook url",onChange:this.handleChange.bind(this,"facebook_url"),value:this.state.fields.facebook_url})]})}),Object(ue.jsx)("div",{class:"col-12 col-md-6 col-lg-12 col-xl-6",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"Twitter"}),Object(ue.jsx)("input",{id:"twitter",type:"text",name:"twitter_url",class:"form-control",placeholder:"Twitter url",onChange:this.handleChange.bind(this,"twitter_url"),value:this.state.fields.twitter_url})]})}),Object(ue.jsx)("div",{class:"col-12 col-md-6 col-lg-12 col-xl-6",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"Instagram"}),Object(ue.jsx)("input",{id:"instagram",type:"text",name:"instagram_url",class:"form-control",placeholder:"Instagram url",onChange:this.handleChange.bind(this,"instagram_url"),value:this.state.fields.instagram_url})]})}),Object(ue.jsxs)("div",{class:"col-12",children:[Object(ue.jsx)("a",{class:"btn btn-grad btn_create","aria-describedby":"popup-109",href:"javascript:void(0)",onClick:function(){e.updateProfile()},children:"Save"}),Object(ue.jsx)("a",{class:"btn btn-grad btn_create","aria-describedby":"popup-109",href:"javascript:void(0)",onClick:this.props.history.goBack,children:"Cancel"})]})]}),!1===this.state.has_permission&&Object(ue.jsx)(tt,{})]})}}]),s}(a.a.Component);var it=Object(m.b)((function(e){return{notifier:e.notifier}}),{actionNotifyUser:w})(Object(p.g)(st)),at=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).setPath=function(t){var s=t.split("/");if(3===s.length){e.setState({page_title:"Edit Collection"}),e.isEdit=!0,e.setState({isEdit:!0});var i=s[s.length-1];K(i).then((function(t){e.contractDetails=t.result,e.setState({fields:{name:e.contractDetails.name,royalties:e.contractDetails.royalties.toString(),description:e.contractDetails.description,banner:e.contractDetails.banner},item_count:e.contractDetails.item_count}),e.getRoyalties()}))}else e.isEdit=!1,e.setState({page_title:"Add Collection"})},e.getRoyalties=function(){Q(e.contractDetails._id).then((function(t){e.hasRoyalty=t.status}))},e.handleChange=function(t,s){var i=e.state.fields;i[t]=s.target.value,e.setState({fields:i})},e.collectionAction=function(){if(e.validateFields()){var t=e.state.fields;if(e.isEdit){var s=B();if(s.user_id!==e.contractDetails.author_id._id)return Object(re.b)("Permission denied",{type:"error"}),!1;t.collection_id=e.contractDetails._id,e.toastObj=Object(re.b)(e.contractDetails.contract_address?"Updating Collection":"Creating Collection",{closeButton:!1,autoClose:!1,isLoading:!0}),e.setState({isSubmit:!0}),$(t).then((function(t){if(!1===t.status)return re.b.dismiss(e.toastObj),e.setState({isSubmit:!1}),Object(re.b)(t.message,{type:"error"}),!1;re.b.dismiss(e.toastObj),e.setState({isSubmit:!1}),Object(re.b)(t.message,{type:"success"}),e.props.history.push("/profile/"+s.user_id+"/collection"),e.contractDetails=t.result}))}else e.setState({isSubmit:!0}),e.toastObj=Object(re.b)("Creating Collection",{closeButton:!1,autoClose:!1,isLoading:!0}),function(e){return new Promise((function(t,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.post(L.base+L.collection_add,e,{headers:i}).then((function(e){console.warn("collection add response",e.data),t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))}(t).then((function(t){if(!1===t.status)return re.b.dismiss(e.toastObj),Object(re.b)(t.message,{type:"error"}),e.setState({isSubmit:!1}),!1;e.contractDetails=t.result,$({collection_id:e.contractDetails._id,contract_address:F,name:e.contractDetails.name,royalties:e.contractDetails.royalties,description:e.contractDetails.description,banner:e.contractDetails.banner}).then((function(t){re.b.dismiss(e.toastObj),e.setState({isSubmit:!1}),!0===t.status&&Object(re.b)("Collection created successfully",{type:"success"});var s=B();e.props.history.push("/profile/"+s.user_id+"/collection")}))}))}},e.coverUpload=function(){return Object(ue.jsxs)(qe.a,{accept:"image/*",destination:{url:L.base+"/media/collection"},children:[Object(ue.jsx)(Ve.a,{type:"button",className:"collectionUploader",text:"e. g. Png, Jpg, Jpeg"}),Object(ue.jsx)(We,{onDone:e.coverUploadDone,onError:e.coverUploadError})]})},e.coverUploadDone=function(t){var s=e.state.fields;s.banner=t,e.setState({fields:s})},e.coverUploadError=function(e){Object(re.b)(e,{type:"error"})},e.deleteBanner=function(){var t=e.state.fields;t.banner="",e.setState({fields:t})},e.validateFields=function(){return null===B()?(Object(re.b)("Login is required",{type:"error"}),!1):0===e.state.fields.name.trim().length?(Object(re.b)("Name is required",{type:"error"}),!1):e.state.fields.name.trim().length>32?(Object(re.b)("Name should not exceed 32 characters",{type:"error"}),!1):0===e.state.fields.royalties.trim().length?(Object(re.b)("Royalties is required",{type:"error"}),!1):e.state.fields.royalties.match(/^[0-9]+$/)?e.state.fields.royalties<0||e.state.fields.royalties>100?(Object(re.b)("Royalties should between 0 to 100",{type:"error"}),!1):e.state.fields.description.trim().length>255?(Object(re.b)("Description should not exceed 255 characters",{type:"error"}),!1):0!=e.state.fields.banner.trim().length||(Object(re.b)("Collection banner is required",{type:"error"}),!1):(Object(re.b)("Royalties should be numbers",{type:"error"}),!1)},e.deleteAction=function(){e.setState({showConfirmation:!0})},e.closeConfirmationModal=function(){e.setState({showConfirmation:!1})},e.deleteConfirmationModal=function(){e.setState({showConfirmation:!1});var t,s=B();return null===s?(Object(re.b)("Login is required",{type:"error"}),!1):s.user_id!==e.contractDetails.author_id._id?(Object(re.b)("Permission denied",{type:"error"}),!1):void(t={collection_id:e.contractDetails._id},new Promise((function(e,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.delete(L.base+L.collection_delete,{headers:i,data:t}).then((function(t){console.warn("collection delete response",t.data),e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))}))).then((function(t){if(!1===t.status)return Object(re.b)(t.message,{type:"error"}),!1;e.props.history.push("/profile/"+s.user_id+"/collection")}))},e.toastObj=null,e.contractDetails=null,e.isEdit=!1,e.hasRoyalty=!1,e.state={page_title:"Add Collection",fields:{name:"",royalties:"",description:"",banner:""},isSubmit:!1,isEdit:!1,item_count:0,showConfirmation:!1},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.setPath(this.props.location.pathname)}},{key:"componentDidUpdate",value:function(e){var t=this,s=this.props.notifier;if(s)if("contractfail"===s.type){re.b.dismiss(this.toastObj),this.setState({isSubmit:!1}),Object(re.b)("contract creation successful, but blockchain contract creating has failure",{type:"error"});var i=B();this.props.history.push("/profile/"+i.user_id+"/collection")}else if("contractsuccess"===s.type)$({collection_id:this.contractDetails._id,contract_address:s.payload.contract_address,name:this.contractDetails.name,royalties:this.contractDetails.royalties,description:this.contractDetails.description,banner:this.contractDetails.banner}).then((function(e){re.b.dismiss(t.toastObj),t.setState({isSubmit:!1}),!0===e.status||Object(re.b)("contract creation successful, but blockchain contract creating has failure",{type:"error"});var s=B();t.props.history.push("/profile/"+s.user_id+"/collection")}));else if("royaltycompleted"===s.type){re.b.dismiss(this.toastObj),this.setState({isSubmit:!1});var a=B();this.props.history.push("/profile/"+a.user_id+"/collection")}}},{key:"render",value:function(){var e=this;return Object(ue.jsxs)("div",{class:"container",children:[Object(ue.jsx)("div",{class:"collectionAction",children:Object(ue.jsx)("div",{class:"box in__upload mt-10 mb-80",children:Object(ue.jsxs)("div",{class:"row",children:[Object(ue.jsx)("div",{class:"col-12",children:Object(ue.jsx)("h3",{class:"color_white mb-20",children:this.state.page_title})}),Object(ue.jsx)("div",{class:"col-12 col-md-6 col-lg-12 col-xl-6",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"Name"}),Object(ue.jsx)("input",{id:"name",type:"text",name:"name",class:"form-control",placeholder:"Enter collection name",onChange:this.handleChange.bind(this,"name"),value:this.state.fields.name})]})}),Object(ue.jsx)("div",{class:"col-12 col-md-6 col-lg-12 col-xl-6",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"Royalties"}),Object(ue.jsx)("input",{id:"royalties",type:"text",name:"royalties",class:"form-control",placeholder:"Enter royalties",onChange:this.handleChange.bind(this,"royalties"),value:this.state.fields.royalties})]})}),Object(ue.jsx)("div",{class:"col-12 col-md-12 col-lg-12 col-xl-12",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"Description"}),Object(ue.jsx)("textarea",{name:"description",class:"form-control",placeholder:"Enter description",onChange:this.handleChange.bind(this,"description"),value:this.state.fields.description})]})}),Object(ue.jsxs)("div",{class:"col-12",children:[Object(ue.jsx)("div",{children:Object(ue.jsx)("span",{class:"nameInput color_white",children:"Upload image"})}),0===this.state.fields.banner.length&&Object(ue.jsx)("div",{class:"sign__file",children:this.coverUpload()}),0!==this.state.fields.banner.length&&Object(ue.jsxs)("div",{class:"form_preview",children:[Object(ue.jsx)("button",{class:"deletecover",onClick:this.deleteBanner,children:"delete"}),Object(ue.jsx)("img",{src:this.state.fields.banner})]})]}),!this.state.isSubmit&&Object(ue.jsx)("div",{class:"bottom-0 left-0 right-0",children:Object(ue.jsx)("div",{class:"container",children:Object(ue.jsxs)("div",{class:"row content justify-content-between mb-20_reset",children:[this.state.isEdit&&0===this.state.item_count&&Object(ue.jsx)("div",{class:"col-md-auto col-12 mb-20",children:Object(ue.jsx)("div",{class:"space-x-10",children:Object(ue.jsx)("a",{class:"btn btn-white others_btn",href:"javascript:void(0)",onClick:function(){e.deleteAction()},children:"Delete"})})}),Object(ue.jsxs)("div",{class:"col-md-auto col-12 mb-20",children:[Object(ue.jsx)("a",{class:"btn btn-grad btn_create","aria-describedby":"popup-109",href:"javascript:void(0)",onClick:function(){e.collectionAction()},children:"Save"}),Object(ue.jsx)("a",{class:"btn btn-grad btn_create","aria-describedby":"popup-109",href:"javascript:void(0)",onClick:this.props.history.goBack,children:"Cancel"})]})]})})})]})})}),Object(ue.jsxs)(Ye.a,{show:this.state.showConfirmation,onHide:this.closeConfirmationModal,children:[Object(ue.jsx)(Ye.a.Header,{closeButton:!0,children:Object(ue.jsx)(Ye.a.Title,{children:"Confirmation"})}),Object(ue.jsx)(Ye.a.Body,{children:Object(ue.jsx)("div",{class:"row verifyContent",children:Object(ue.jsx)("div",{class:"col-12",children:"Are you sure to delete ?"})})}),Object(ue.jsxs)(Ye.a.Footer,{children:[Object(ue.jsx)($e.a,{variant:"primary",onClick:this.closeConfirmationModal,children:"Close"}),Object(ue.jsx)($e.a,{variant:"primary",onClick:this.deleteConfirmationModal,children:"Delete"})]})]})]})}}]),s}(a.a.Component);var nt=Object(m.b)((function(e){return{notifier:e.notifier}}),{actionNotifyUser:w})(Object(p.g)(at)),rt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).setPath=function(t,s){var i,a,n=t.split("/");3==n.length?(i="created",a=n[n.length-1],e.setState({path:i,collectionId:a})):(i=n[n.length-1],a=n[n.length-2],e.setState({path:i,collectionId:a})),(a!=e.state.collectionId||s)&&e.getCollectionInfo(a)},e.changepriceformat=function(e){var t=String(e),s=e;return t.includes(".")&&t.split(".")[1].length>6&&(s=parseFloat(s).toFixed(6)),s},e.getCollectionInfo=function(t){K(t).then((function(t){e.currentCollection=t.result;var s="/images/avatars/avatar5.jpg";0!==e.currentCollection.author_id.profile_image.length&&(s=e.currentCollection.author_id.profile_image);e.currentCollection.banner&&0!==e.currentCollection.banner.length&&e.currentCollection.banner;var i=!1,a=B();a&&a.user_id===e.currentCollection.author_id._id&&(i=!0),e.setState({name:e.currentCollection.name,royalties:e.currentCollection.royalties.toString(),item_count:e.currentCollection.item_count,item_count_str:He.getShortenNum(e.currentCollection.item_count),volume_traded:e.currentCollection.volume_traded,volume_traded_str:e.changepriceformat(e.currentCollection.volume_traded),address:e.currentCollection.contract_address,desc:e.currentCollection.description,status:e.currentCollection.status,author_id:e.currentCollection.author_id._id,is_verified:e.currentCollection.author_id.is_verified,profile_image:s,banner:e.currentCollection.banner,is_owner:i}),e.getRoyalties()}))},e.getRoyalties=function(){Q(e.currentCollection._id).then((function(t){e.setState({showRoyalty:t.status})}))},e.editAction=function(){e.props.actionNotifyUser({type:"clear",payload:{}}),e.props.history.push("/addcollection/"+e.currentCollection._id)},e.addAction=function(){e.props.history.push("/upload-options/"+e.currentCollection._id)},e.currentCollection=null,e.state={collectionId:"",path:"",banner:"/images/bg/bg.png",profile_image:"/images/avatars/avatar5.jpg",is_verified:!1,author_id:"",name:"",address:"",item_count:0,item_count_str:"",volume_traded:0,volume_traded_str:"",royalties:0,desc:"",status:0,is_owner:!1,showRoyalty:!1},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.setPath(this.props.location.pathname,!0)}},{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&(window.scrollTo(0,0),this.setPath(this.props.location.pathname,!1)),this.props.notifier!==e.notifier&&this.setPath(this.props.location.pathname,!0)}},{key:"copyAddress",value:function(){ne(this.state.address),Object(re.b)("Contract Address copied",{type:"success"})}},{key:"render",value:function(){var e=this;return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("div",{className:"mb-100",children:Object(ue.jsxs)("div",{className:"hero__profile",children:[Object(ue.jsx)("div",{className:"cover",children:Object(ue.jsx)("img",{src:this.state.banner,alt:"ImgPreview"})}),Object(ue.jsx)("div",{className:"infos",children:Object(ue.jsx)("div",{className:"container",children:Object(ue.jsxs)("div",{className:"row flex-wrap align-items-center justify-content-between sm:space-y-50",children:[Object(ue.jsx)("div",{className:"col-md-auto mr-20",children:Object(ue.jsxs)("div",{className:"avatars d-flex space-x-20 align-items-center",children:[Object(ue.jsx)("div",{className:"avatar_wrap",children:Object(ue.jsx)(u.b,{to:"/profile/"+this.state.author_id,children:Object(ue.jsx)("img",{className:"avatar avatar-lg",src:this.state.profile_image,alt:"avatar"})})}),Object(ue.jsx)("h5",{children:this.state.name})]})}),Object(ue.jsx)("div",{className:"col-md-auto follow-one",children:Object(ue.jsxs)("div",{className:"d-sm-flex flex-wrap align-items-center space-x-20 mb-20_reset d-sm-block",children:[Object(ue.jsx)("div",{className:"mb-20",children:Object(ue.jsx)("div",{className:"copy",onClick:function(){e.copyAddress()},children:Object(ue.jsxs)("span",{className:"color_text",children:[this.state.address," "]})})}),Object(ue.jsxs)("div",{className:"d-flex flex-wrap align-items-center space-x-20",children:[Object(ue.jsx)("div",{className:"mb-20",children:this.state.is_owner&&Object(ue.jsx)("button",{class:"btn btn-dark btn-sm 'btn-prim",type:"button",onClick:function(){e.editAction()},children:"Edit"})}),this.state.is_owner&&Object(ue.jsx)("div",{className:"mb-20",children:Object(ue.jsx)("button",{class:"btn btn-dark btn-sm 'btn-prim",type:"button",onClick:function(){e.addAction()},children:"Add Item"})})]})]})})]})})})]})}),Object(ue.jsx)("div",{class:"container",children:Object(ue.jsxs)("div",{className:"row justify-content-center",children:[Object(ue.jsx)("div",{className:"col-lg-3 col-md-7 order-md-0 order-1",children:Object(ue.jsx)("div",{className:"profile__sidebar",children:Object(ue.jsx)("div",{className:"space-y-40",children:Object(ue.jsxs)("div",{className:"space-y-10",children:[Object(ue.jsx)("h5",{className:"color_white",children:"About Collection"}),Object(ue.jsxs)("div",{className:"box space-y-20",children:[Object(ue.jsx)("p",{className:"color_white",children:this.state.desc}),Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsxs)("div",{className:"col-6",children:[Object(ue.jsx)("span",{className:"txt_sm color_white",children:"Royalty"}),Object(ue.jsxs)("h4",{className:"color_white",children:[this.state.royalties,"%"]})]}),Object(ue.jsxs)("div",{className:"col-6",children:[Object(ue.jsx)("span",{className:"txt_sm color_white",children:"Volume"}),0===this.state.volume_traded&&Object(ue.jsx)("h4",{className:"color_white",children:"NO"}),0!==this.state.volume_traded&&Object(ue.jsx)("h4",{className:"color_white",children:this.state.volume_traded_str})]})]})]})]})})})}),Object(ue.jsxs)("div",{className:"col-lg-9 col-md-12 order-md-1 order-0",children:[Object(ue.jsx)("div",{class:"tabsContainer",children:Object(ue.jsxs)("div",{className:"d-flex space-x-10 mb-30 nav-tabs",children:[Object(ue.jsx)("div",{children:Object(ue.jsx)(u.b,{to:"/collection/"+this.state.collectionId+"/created",className:"nav-btn btn btn-white btn-sm  "+("created"==this.state.path?"btn-primary":""),children:"Created"})}),Object(ue.jsx)("div",{children:Object(ue.jsx)(u.b,{to:"/collection/"+this.state.collectionId+"/onauction",className:"btn btn-white btn-sm  "+("onauction"==this.state.path?"btn-primary":""),children:"On Auction"})}),Object(ue.jsx)("div",{children:Object(ue.jsx)(u.b,{to:"/collection/"+this.state.collectionId+"/sold",className:"btn btn-white btn-sm  "+("sold"==this.state.path?"btn-primary":""),children:"Sold"})}),Object(ue.jsx)("div",{children:Object(ue.jsx)(u.b,{to:"/collection/"+this.state.collectionId+"/activity",className:"btn btn-white btn-sm  "+("activity"==this.state.path?"btn-primary":""),children:"Activity"})})]})}),Object(ue.jsx)("div",{class:"tab-content",children:Object(ue.jsxs)(p.d,{children:[Object(ue.jsx)(p.a,{exact:!0,from:"/collection/"+this.state.collectionId,to:"/collection/"+this.state.collectionId+"/created"}),this.props.routes.map((function(t,s){return Object(ue.jsx)(p.b,{path:t.path,exact:t.exact,render:function(s){return Object(ue.jsx)(t.component,Object(o.a)(Object(o.a)({},s),{},{path:e.state.path}))}})}))]})})]})]})})]})}}]),s}(a.a.Component);var ot=Object(m.b)((function(e){return{notifier:e.notifier}}),{actionNotifyUser:w})(Object(p.g)(rt)),ct=s(72),lt=s(111),dt=s.n(lt),ht=s(142),ut=(s(223),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).setPath=function(t){var s=t.split("/");4===s.length?(e.setState({page_title:"Edit Item"}),e.isEdit=!0,e.setState({isEdit:!0}),e.collection_id=s[s.length-2],e.item_id=s[s.length-1],e.itemDetail()):(e.isEdit=!1,e.setState({page_title:"Add Item"}),e.collection_id=s[s.length-1],e.getCategories()),e.getCollectionDetail();var i=e.state.fields,a=B();if(null===a)return Object(re.b)("Login is required",{type:"error"}),setTimeout((function(){window.location.href="/"}),2e3),!1;i.address=a.public_key,i.collection_id=e.collection_id,e.setState({fields:i})},e.getCollectionDetail=function(){K(e.collection_id).then((function(t){e.collectionDetails=t.result}))},e.itemDetail=function(){ce({page:1,item_id:e.item_id,type:"view"}).then((function(t){t.data.docs.length>0&&(e.itemDetails=t.data.docs[0],e.fillEditFields(),e.getCategories())}))},e.fillEditFields=function(){var t=e.state.fields;t.name=e.itemDetails.name,t.description=e.itemDetails.description,t.external_link=e.itemDetails.external_link,t.category_id=e.itemDetails.category_id._id,t.unlock_content_url=e.itemDetails.unlock_content_url,t.thumb=e.itemDetails.thumb,t.media=e.itemDetails.media;for(var s=[],i=0;i<e.itemDetails.attributes.length;i++){var a=e.itemDetails.attributes[i];a.name.trim().length>0&&a.type.trim().length>0&&s.push({name:a.name,type:a.type})}e.setState({hasProperty:0!==s.length,status:e.itemDetails.status}),0===s.length&&s.push({name:"",type:""}),t.attributes=s;for(var n=[],r=0;r<e.itemDetails.levels.length;r++){var o=e.itemDetails.levels[r];o.name.trim().length>0&&o.value>0&&o.valueof>0&&n.push({name:o.name,value:o.value.toString(),valueof:o.valueof.toString()})}e.setState({hasLevel:0!==n.length}),0===n.length&&n.push({name:"",value:"",valueof:""}),t.levels=n;for(var c=[],l=0;l<e.itemDetails.stats.length;l++){var d=e.itemDetails.stats[l];d.name.trim().length>0&&d.value>0&&d.valueof>0&&c.push({name:d.name,value:d.value.toString(),valueof:d.valueof.toString()})}e.setState({hasStat:0!==c.length}),0===c.length&&c.push({name:"",value:"",valueof:""}),t.stats=c,t.no_of_copies=e.itemDetails.copies,e.setState({fields:t,isSold:e.itemDetails.author_id!==e.itemDetails.current_owner._id})},e.getCategories=function(){Se().then((function(t){for(var s=[],i=0;i<t.data.length;i++){var a=t.data[i],n="";null!==e.itemDetails&&(console.log(a._id),a._id===e.itemDetails.category_id._id&&(n="selected")),s.push({_id:a._id,title:a.title,selected:n})}e.setState({categories:s})}))},e.handleChange=function(t,s){var i=e.state.fields;i[t]=s.target.value,e.setState({fields:i})},e.coverThumb=function(){return Object(ue.jsxs)(qe.a,{accept:"image/*",destination:{url:L.base+"/media/thumb"},children:[Object(ue.jsx)(Ve.a,{type:"button",className:"collectionUploader",text:"e. g. Png, Jpg, Jpeg, Gif"}),Object(ue.jsx)(We,{onDone:e.thumbUploadDone,onError:e.mediaUploadError})]})},e.thumbUploadDone=function(t){var s=e.state.fields;s.thumb=t,e.setState({fields:s})},e.deleteThumb=function(){var t=e.state.fields;t.thumb="",e.setState({fields:t})},e.coverMedia=function(){return Object(ue.jsxs)(qe.a,{accept:"image/*,video/*,application/*,audio/*",destination:{url:L.base+"/media/media"},children:[Object(ue.jsx)(Ve.a,{type:"button",className:"collectionUploader",text:"e. g. Png, Jpg, Jpeg, Gif, MP4, MP3, PDF"}),Object(ue.jsx)(We,{onDone:e.mediaUploadDone,onError:e.mediaUploadError})]})},e.mediaUploadDone=function(t){var s=e.state.fields;s.media=t,e.setState({fields:s})},e.mediaUploadError=function(e){Object(re.b)(e,{type:"error"})},e.deleteMedia=function(){var t=e.state.fields;t.media="",e.setState({fields:t})},e.handleLockChange=function(t){var s=e.state.fields;s.unlock_content_url=t,e.setState({fields:s})},e.handleOfferChange=function(t){var s=e.state.fields;s.is_offer=t,e.setState({fields:s})},e.handleApply=function(t,s){var i=new Date(s.startDate),a=new Date(s.endDate),n=e.state.fields;n.offer_days=e.getDifferenceInDays(i,a),n.offer_date=s.startDate,e.setState({fields:n})},e.itemAction=function(){if(e.validateFields()){if(e.setState({isSubmit:!0}),""==e.state.fields.offer_date){var t=new Date;t.setHours(0,0,0,0);var s=e.state.fields;s.offer_days=1,s.offer_date=t}if(e.state.isEdit){e.toastObj=Object(re.b)("updating item",{closeButton:!1,autoClose:!1,isLoading:!0});var i=e.state.fields;i.item_id=e.item_id,function(e){return new Promise((function(t,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.put(L.base+L.item_update,e,{headers:i}).then((function(e){console.warn("item update response",e.data),t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))}(i).then((function(t){e.setState({isSubmit:!1}),re.b.dismiss(e.toastObj),!0===t.status?(Object(re.b)(t.message,{type:"success"}),e.props.history.push("/item/"+e.item_id)):Object(re.b)(t.message,{type:"error"})}))}else{e.toastObj=Object(re.b)("creating new item",{closeButton:!1,autoClose:!1,isLoading:!0}),function(e){return new Promise((function(t,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.post(L.base+L.item_add,e,{headers:i}).then((function(e){console.warn("item add response",e.data),t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))}(e.state.fields).then((function(t){re.b.dismiss(e.toastObj),e.setState({isSubmit:!1}),!0===t.status?e.props.history.push("/item/"+t.result._id):Object(re.b)("create item failed",{type:"error"})}))}}},e.validateFields=function(){var t=B();if(null===t)return Object(re.b)("Permission denied",{type:"error"}),!1;if(e.state.isEdit){if(e.itemDetails.current_owner._id!==t.user_id)return Object(re.b)("Permission denied",{type:"error"}),!1}else if(e.collectionDetails.author_id._id!==t.user_id)return Object(re.b)("Permission denied",{type:"error"}),!1;if(0===e.collectionDetails.status)return Object(re.b)("Contract was not publised yet. please publish contract and try again",{type:"error"}),!1;if(0===e.state.fields.name.trim().length)return Object(re.b)("Item name is required",{type:"error"}),!1;if(e.state.fields.name.trim().length<3)return Object(re.b)("Item name alteast have 3 characters",{type:"error"}),!1;if(e.state.fields.name.trim().length>255)return Object(re.b)("Item name maximum have 255 characters",{type:"error"}),!1;if(0===e.state.fields.description.trim().length)return Object(re.b)("Item description is required",{type:"error"}),!1;if(e.state.fields.description.trim().length>1e3)return Object(re.b)("Item description maximum have 1000 characters",{type:"error"}),!1;if(e.state.fields.external_link.trim().length>0&&!/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/.test(e.state.fields.external_link))return Object(re.b)("Invalid external url",{type:"error"}),!1;if(0===e.state.fields.category_id.trim().length)return Object(re.b)("Category is required",{type:"error"}),!1;if(0===e.state.fields.thumb.trim().length)return Object(re.b)("Item preview is required",{type:"error"}),!1;if(0===e.state.fields.media.trim().length)return Object(re.b)("Item media is required",{type:"error"}),!1;if(""==e.state.fields.no_of_copies)return Object(re.b)("No of copies is required",{type:"error"}),!1;if(e.state.fields.no_of_copies>0||""!=e.state.fields.no_of_copies){if(!/^[0-9]*$/.test(e.state.fields.no_of_copies))return Object(re.b)("No of copies is allowed number only ",{type:"error"}),!1}return!0},e.propertyAction=function(){for(var t=[],s=0;s<e.state.fields.attributes.length;s++)t.push(e.state.fields.attributes[s]);e.currentItemData=t,e.setState({modelOpen:!0,modelType:"property",modelTitle:"Add Properties"})},e.statsAction=function(){for(var t=[],s=0;s<e.state.fields.stats.length;s++)t.push(e.state.fields.stats[s]);e.currentItemData=t,e.setState({modelOpen:!0,modelType:"stat",modelTitle:"Add Stats"})},e.levelAction=function(){for(var t=[],s=0;s<e.state.fields.levels.length;s++)t.push(e.state.fields.levels[s]);e.currentItemData=t,e.setState({modelOpen:!0,modelType:"level",modelTitle:"Add Levels"})},e.closeItemModal=function(){var t=e.state.fields;"property"===e.state.modelType?t.attributes=e.currentItemData:"stat"===e.state.modelType?t.stats=e.currentItemData:"level"===e.state.modelType&&(t.levels=e.currentItemData),e.currentItemData=null,e.setState({modelOpen:!1,modelType:"",modelTitle:"",fields:t})},e.saveItemModal=function(){var t=e.state.fields;if("property"===e.state.modelType){for(var s=t.attributes,i=[],a=0;a<s.length;a++){var n=s[a];""!==n.type.trim()&&""!==n.name.trim()&&i.push(n)}e.setState({hasProperty:0!==i.length}),0===i.length&&i.push({name:"",type:""}),t.attributes=i}else if("stat"===e.state.modelType){for(var r=t.stats,o=[],c=0;c<r.length;c++){var l=r[c];""!==l.name.trim()&&""!==l.value.trim()&&""!==l.valueof.trim()&&o.push(l)}e.setState({hasStat:0!==o.length}),0===o.length&&o.push({name:"",value:"",valueof:""}),t.stats=o}else if("level"===e.state.modelType){for(var d=t.levels,h=[],u=0;u<d.length;u++){var p=d[u];""!==p.name.trim()&&""!==p.value.trim()&&""!==p.valueof.trim()&&h.push(p)}e.setState({hasLevel:0!==h.length}),0===h.length&&h.push({name:"",value:"",valueof:""}),t.levels=h}e.setState({modelOpen:!1,modelType:"",fields:t})},e.deleteAdditionalItem=function(t){var s=e.state.fields;if("property"===e.state.modelType){var i=s.attributes;i.length>1?i.splice(t,1):i=[{name:"",type:""}],s.attributes=i}else if("stat"===e.state.modelType){var a=s.stats;a.length>1?a.splice(t,1):a=[{name:"",value:"",valueof:""}],s.stats=a}else if("level"===e.state.modelType){var n=s.levels;n.length>1?n.splice(t,1):n=[{name:"",value:"",valueof:""}],s.levels=n}e.setState({fields:s})},e.additionAddMore=function(){var t=e.state.fields;if("property"===e.state.modelType){var s=t.attributes;s.push({name:"",type:""}),t.attributes=s}else if("stat"===e.state.modelType){var i=t.stats;i.push({name:"",value:"",valueof:""}),t.stats=i}else if("level"===e.state.modelType){var a=t.levels;a.push({name:"",value:"",valueof:""}),t.levels=a}e.setState({fields:t})},e.handleAdditionalLeftChange=function(t,s,i){var a=e.state.fields;if("property"===e.state.modelType){var n=a.attributes;n[s].type=i.target.value,a.attributes=n}else if("stat"===e.state.modelType){var r=a.stats;r[s].name=i.target.value,a.stats=r}else if("level"===e.state.modelType){var o=a.levels;o[s].name=i.target.value,a.levels=o}e.setState({fields:a})},e.handleAdditionalRightChange=function(t,s,i){var a=e.state.fields;if("property"===e.state.modelType){var n=a.attributes;n[s].name=i.target.value,a.attributes=n}else if("stat"===e.state.modelType){var r=a.stats;r[s].value=i.target.value,a.stats=r}else if("level"===e.state.modelType){var o=a.levels;o[s].value=i.target.value,a.levels=o}e.setState({fields:a})},e.handleAdditionalRightChange1=function(t,s,i){var a=e.state.fields;if("stat"===e.state.modelType){var n=a.stats;n[s].valueof=i.target.value,a.stats=n}else if("level"===e.state.modelType){var r=a.levels;r[s].valueof=i.target.value,a.levels=r}e.setState({fields:a})},e.deleteAction=function(){e.setState({showConfirmation:!0})},e.closeConfirmationModal=function(){e.setState({showConfirmation:!1})},e.deleteConfirmationModal=function(){e.setState({showConfirmation:!1});var t,s=B();return null===s?(Object(re.b)("Login is required",{type:"error"}),!1):s.user_id!==e.itemDetails.author_id?(Object(re.b)("Permission denied",{type:"error"}),!1):void(t={item_id:e.itemDetails._id},new Promise((function(e,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.delete(L.base+L.item_delete,{headers:i,data:t}).then((function(t){console.warn("item delete response",t.data),e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))}))).then((function(t){if(!1===t.status)return Object(re.b)(t.message,{type:"error"}),!1;e.props.history.push("/profile/"+s.user_id+"/collection")}))},e.toastObj=null,e.collection_id=null,e.collectionDetails=null,e.item_id=null,e.itemDetails=null,e.currentItemData=null,e.waiting=!1,e.state={page_title:"Add Item",fields:{address:"",name:"",description:"",external_link:"",collection_id:"",category_id:"",thumb:"",media:"",token_id:"",transaction_hash:"",unlock_content_url:!1,attributes:[{name:"",type:""}],levels:[{name:"",value:"",valueof:""}],stats:[{name:"",value:"",valueof:""}],no_of_copies:1},categories:[],isSubmit:!1,isEdit:!1,isSold:!1,showConfirmation:!1,modelType:"",modelOpen:!1,modelTitle:"",status:"",currentItemData:null,hasProperty:!1,hasStat:!1,hasLevel:!1},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.setPath(this.props.location.pathname)}},{key:"componentDidUpdate",value:function(e){if(this.props.notifier!==e.notifier)this.props.notifier}},{key:"getDifferenceInDays",value:function(e,t){var s=Math.abs(t-e);return Math.round(s/864e5)}},{key:"render",value:function(){var e=this;return Object(ue.jsxs)("div",{class:"container",children:[Object(ue.jsx)("div",{class:"collectionAction",children:Object(ue.jsx)("div",{class:"box in__upload mb-120",children:Object(ue.jsxs)("div",{class:"row",children:[Object(ue.jsx)("div",{class:"col-12",children:Object(ue.jsx)("h3",{class:"color_white mb-20",children:this.state.page_title})}),Object(ue.jsx)("div",{class:"col-12 col-md-12 col-lg-12 col-xl-12",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"Name"}),Object(ue.jsx)("input",{id:"name",type:"text",name:"name",class:"form-control",placeholder:"Enter item name",onChange:this.handleChange.bind(this,"name"),value:this.state.fields.name})]})}),Object(ue.jsx)("div",{class:"col-12 col-md-12 col-lg-12 col-xl-12",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"Description"}),Object(ue.jsx)("textarea",{name:"description",class:"form-control",placeholder:"Enter description",onChange:this.handleChange.bind(this,"description"),value:this.state.fields.description})]})}),Object(ue.jsx)("div",{class:"col-12 col-md-12 col-lg-12 col-xl-12",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"External link"}),Object(ue.jsx)("input",{id:"external_link",type:"text",name:"external_link",class:"form-control",placeholder:"Enter external link",onChange:this.handleChange.bind(this,"external_link"),value:this.state.fields.external_link})]})}),Object(ue.jsx)("div",{class:"col-12 col-md-12 col-lg-12 col-xl-12",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"Category"}),Object(ue.jsxs)("select",{id:"category",name:"category",class:"form-control",onChange:this.handleChange.bind(this,"category_id"),children:[Object(ue.jsx)("option",{value:"",children:"Select category"}),this.state.categories.map((function(e,t){return Object(ue.jsx)("option",{value:e._id,selected:e.selected,children:e.title})}))]})]})}),Object(ue.jsxs)("div",{class:"col-12",children:[Object(ue.jsx)("div",{children:Object(ue.jsx)("span",{class:"nameInput color_white",children:"Item preview"})}),0===this.state.fields.thumb.length&&Object(ue.jsx)("div",{class:"sign__file",children:this.coverThumb()}),0!==this.state.fields.thumb.length&&Object(ue.jsxs)("div",{class:"form_preview",children:[Object(ue.jsx)("button",{class:"deletecover",onClick:this.deleteThumb,children:"delete"}),Object(ue.jsx)("img",{src:this.state.fields.thumb})]})]}),Object(ue.jsxs)("div",{class:"col-12",children:[Object(ue.jsx)("div",{children:Object(ue.jsx)("span",{class:"nameInput color_white",children:"Item media"})}),0===this.state.fields.media.length&&Object(ue.jsx)("div",{class:"sign__file",children:this.coverMedia()}),0!==this.state.fields.media.length&&Object(ue.jsxs)("div",{class:"form_preview",children:[Object(ue.jsx)("button",{class:"deletecover",onClick:this.deleteMedia,children:"delete"}),Object(ue.jsxs)("div",{class:"media_preview",children:[Object(ue.jsx)("div",{children:Object(ue.jsx)(ct.a,{color:"#e7e7e7",size:75})}),Object(ue.jsx)("div",{class:"media_preview_title",children:this.state.fields.media})]})]})]}),Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)("div",{class:"col-12",children:Object(ue.jsxs)("div",{class:"form_section",children:[Object(ue.jsxs)("div",{class:"form_section_left",children:[Object(ue.jsx)("span",{children:Object(ue.jsx)(ct.b,{color:"#bdbdbd",size:20})}),"Lock media for only owner"]}),Object(ue.jsx)("div",{class:"form_section_right",children:Object(ue.jsx)(dt.a,{onChange:this.handleLockChange,checked:this.state.fields.unlock_content_url,uncheckedIcon:!1,checkedIcon:!1,onColor:"#6164ff",offColor:"#bdbdbd"})})]})})}),Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)("div",{class:"col-12 col-md-12 col-lg-12 col-xl-12",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"No. of Copies"}),Object(ue.jsx)("input",{id:"no_of_copies",type:"text",name:"no_of_copies",class:"form-control",placeholder:"Enter No of copies",onChange:this.handleChange.bind(this,"no_of_copies"),value:this.state.fields.no_of_copies})]})})}),!this.state.isSubmit&&Object(ue.jsx)("div",{class:"bottom-0 left-0 right-0",children:Object(ue.jsx)("div",{class:"container",children:Object(ue.jsxs)("div",{class:"row content justify-content-between mb-20_reset",children:[this.state.isEdit&&!this.state.isSold&&Object(ue.jsx)("div",{class:"col-md-auto col-12 mb-20",children:Object(ue.jsx)("div",{class:"space-x-10",children:Object(ue.jsx)("a",{class:"btn btn-white others_btn",href:"javascript:void(0)",onClick:function(){e.deleteAction()},children:"Delete"})})}),Object(ue.jsxs)("div",{class:"col-md-auto col-12 mb-20",children:[Object(ue.jsx)("a",{class:"btn btn-grad btn_create","aria-describedby":"popup-109",href:"javascript:void(0)",onClick:function(){e.itemAction()},children:"Save"}),Object(ue.jsx)("a",{class:"btn btn-grad btn_create","aria-describedby":"popup-109",href:"javascript:void(0)",onClick:this.props.history.goBack,children:"Cancel"})]})]})})})]})})}),Object(ue.jsxs)(Ye.a,{show:this.state.modelOpen,onHide:this.closeItemModal,children:[Object(ue.jsx)(Ye.a.Header,{closeButton:!0,children:Object(ue.jsx)(Ye.a.Title,{children:this.state.modelTitle})}),Object(ue.jsxs)(Ye.a.Body,{children:["property"===this.state.modelType&&Object(ue.jsxs)("div",{class:"adddtionalContent",children:[Object(ue.jsxs)("div",{class:"additionalHeader clearfix",children:[Object(ue.jsx)("div",{class:"additionalHeaderLeft",children:"Type"}),Object(ue.jsx)("div",{class:"additionalHeaderRight",children:"Name"})]}),this.state.fields.attributes.map((function(t,s){return Object(ue.jsxs)("div",{class:"additionalContentRow clearfix",children:[Object(ue.jsxs)("div",{class:"additionalContentLeft",children:[Object(ue.jsx)("div",{class:"additionalContentLeftDelete",children:Object(ue.jsx)("button",{onClick:function(){e.deleteAdditionalItem(s)},children:Object(ue.jsx)(ct.c,{color:"#000",size:40})})}),Object(ue.jsx)("input",{type:"text",name:"type_"+s,class:"sign__input",placeholder:"Character",onChange:e.handleAdditionalLeftChange.bind(e,"type_"+s,s),value:t.type})]}),Object(ue.jsx)("div",{class:"additionalContentRight",children:Object(ue.jsx)("input",{type:"text",name:"name_"+s,class:"sign__input",placeholder:"Male",onChange:e.handleAdditionalRightChange.bind(e,"name_"+s,s),value:t.name})})]})}))]}),"level"===this.state.modelType&&Object(ue.jsxs)("div",{class:"adddtionalContent",children:[Object(ue.jsxs)("div",{class:"additionalHeader clearfix",children:[Object(ue.jsx)("div",{class:"additionalHeaderLeft",children:"Name"}),Object(ue.jsx)("div",{class:"additionalHeaderRight",children:"Value"})]}),this.state.fields.levels.map((function(t,s){return Object(ue.jsxs)("div",{class:"additionalContentRow clearfix",children:[Object(ue.jsxs)("div",{class:"additionalContentLeft",children:[Object(ue.jsx)("div",{class:"additionalContentLeftDelete",children:Object(ue.jsx)("button",{onClick:function(){e.deleteAdditionalItem(s)},children:Object(ue.jsx)(ct.c,{color:"#000",size:40})})}),Object(ue.jsx)("input",{type:"text",name:"name_"+s,class:"sign__input",placeholder:"Speed",onChange:e.handleAdditionalLeftChange.bind(e,"name_"+s,s),value:t.name})]}),Object(ue.jsxs)("div",{class:"additionalContentRight additionalContentRightLevel",children:[Object(ue.jsx)("input",{type:"number",name:"value_"+s,class:"sign__input",placeholder:"3",onChange:e.handleAdditionalRightChange.bind(e,"value_"+s,s),value:t.value}),Object(ue.jsx)("span",{children:"Of"}),Object(ue.jsx)("input",{type:"number",name:"valueof_"+s,class:"sign__input",placeholder:"5",onChange:e.handleAdditionalRightChange1.bind(e,"valueof_"+s,s),value:t.valueof})]})]})}))]}),"stat"===this.state.modelType&&Object(ue.jsxs)("div",{class:"adddtionalContent",children:[Object(ue.jsxs)("div",{class:"additionalHeader clearfix",children:[Object(ue.jsx)("div",{class:"additionalHeaderLeft",children:"Name"}),Object(ue.jsx)("div",{class:"additionalHeaderRight",children:"Value"})]}),this.state.fields.stats.map((function(t,s){return Object(ue.jsxs)("div",{class:"additionalContentRow clearfix",children:[Object(ue.jsxs)("div",{class:"additionalContentLeft",children:[Object(ue.jsx)("div",{class:"additionalContentLeftDelete",children:Object(ue.jsx)("button",{onClick:function(){e.deleteAdditionalItem(s)},children:Object(ue.jsx)(ct.c,{color:"#000",size:40})})}),Object(ue.jsx)("input",{type:"text",name:"name_"+s,class:"sign__input",placeholder:"Speed",onChange:e.handleAdditionalLeftChange.bind(e,"name_"+s,s),value:t.name})]}),Object(ue.jsxs)("div",{class:"additionalContentRight additionalContentRightLevel",children:[Object(ue.jsx)("input",{type:"number",name:"value_"+s,class:"sign__input",placeholder:"3",onChange:e.handleAdditionalRightChange.bind(e,"value_"+s,s),value:t.value}),Object(ue.jsx)("span",{children:"Of"}),Object(ue.jsx)("input",{type:"number",name:"valueof_"+s,class:"sign__input",placeholder:"5",onChange:e.handleAdditionalRightChange1.bind(e,"valueof_"+s,s),value:t.valueof})]})]})}))]}),Object(ue.jsx)("div",{class:"adddtionalfooter",children:Object(ue.jsx)($e.a,{variant:"primary",onClick:this.additionAddMore,children:"Add More"})})]}),Object(ue.jsxs)(Ye.a.Footer,{children:[Object(ue.jsx)($e.a,{variant:"primary",onClick:this.closeItemModal,children:"Close"}),Object(ue.jsx)($e.a,{variant:"primary",onClick:this.saveItemModal,children:"Save"})]})]}),Object(ue.jsxs)(Ye.a,{show:this.state.showConfirmation,onHide:this.closeConfirmationModal,children:[Object(ue.jsx)(Ye.a.Header,{closeButton:!0,children:Object(ue.jsx)(Ye.a.Title,{children:"Confirmation"})}),Object(ue.jsx)(Ye.a.Body,{children:Object(ue.jsx)("div",{class:"row verifyContent",children:Object(ue.jsx)("div",{class:"col-12",children:"Are you sure to delete ?"})})}),Object(ue.jsxs)(Ye.a.Footer,{children:[Object(ue.jsx)($e.a,{variant:"primary",onClick:this.closeConfirmationModal,children:"Close"}),Object(ue.jsx)($e.a,{variant:"primary",onClick:this.deleteConfirmationModal,children:"Delete"})]})]})]})}}]),s}(a.a.Component));var pt=Object(m.b)((function(e){return{notifier:e.notifier}}),{actionNotifyUser:w})(Object(p.g)(ut)),mt=s(96),jt=(s(87),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).uploadCsv=function(){var t=e.state.tokens;return Object(ue.jsxs)(qe.a,{accept:".csv",inputFieldName:"inputfile",destination:{url:L.base+"/item/read-csv",headers:{authorization:t}},children:[Object(ue.jsx)(Ve.a,{type:"button",className:"collectionUploader",text:"Upload CSV File"}),Object(ue.jsx)(We,{onDone:e.csvUploadDone,onError:e.csvUploadError})]})},e.csvUploadDone=function(t){e.removeTost(),e.setState({items:t,defaulStep:0,errorData:[],errorMsg:"",status:!1}),e.toastsucc=Object(re.b)("Items uploaded successfully. Please click in next to continue.",{type:"success"})},e.csvUploadError=function(t){e.removeTost(),e.toasterr=Object(re.b)(t,{type:"error"})},e.listItem=function(){0==e.state.items.length?(e.removeTost(),e.toasterr=Object(re.b)("No records found",{type:"error"})):e.setState({defaulStep:1})},e.deleteAction=function(t){e.state.items.splice(t,1),console.log(e.state.items.length),0==e.state.items.length?e.setState({defaulStep:0,items:e.state.items,errorData:[],errorMsg:"",status:!1}):e.setState({items:e.state.items})},e.clearItem=function(){e.setState({defaulStep:0,items:[],errorData:[],errorMsg:"",status:!1})},e.removeTost=function(){re.b.dismiss(e.toastObj),re.b.dismiss(e.toasterr),re.b.dismiss(e.toastsucc)},e.saveItem=function(){e.setState({defaulStep:2});var t=B();console.log(t);var s={address:t.public_key,result:e.state.items};e.removeTost(),e.toastObj=Object(re.b)("Creating item please wait",{type:"success"}),function(e){return new Promise((function(t,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.post(L.base+L.item_csv,e,{headers:i}).then((function(e){console.warn("csv response",e.data),t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))}(s).then((function(t){if(!1===t.status){if(e.removeTost(),e.toasterr=Object(re.b)("Please check the errors",{type:"error"}),t.errors.message&&""!=t.errors.message)e.setState({errorMsg:t.errors.message});else{for(var s=e.state.errorData,i=0;i<t.errors.length;i++)s.push(t.errors[i]);e.setState({errorData:s,status:!1})}return console.log(e.state.errorData),!1}e.setState({defaulStep:3}),e.removeTost(),e.toastsucc=Object(re.b)("Items created successfully",{type:"success"}),e.setState({errorData:[],errorMsg:"",status:!0})}))},e.downloadCsv=function(){var e=new Blob([["Name","Collection","Category","External Link","Description","Thumb Image URL","Media URL","No of Copies"]],{type:"text/csv"}),t=window.URL.createObjectURL(e),s="Item_"+Date.now()+".csv",i=document.createElement("a");i.href=t,i.download=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(t)},e.state={defaulStep:0,csvFilename:"",setUsertoken:"",items:[],errorData:[],errorMsg:"",tokens:localStorage.getItem("token"),status:!1},e}return Object(l.a)(s,[{key:"render",value:function(){var e=this;return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("div",{class:"container",children:Object(ue.jsx)("div",{class:"row mt-4",children:Object(ue.jsxs)("div",{class:"right_btn",children:[Object(ue.jsx)("a",{class:"btn btn-white others_btn",href:"javascript:void(0)",onClick:this.props.history.goBack,children:"Back"}),Object(ue.jsx)("a",{class:"btn btn-white others_btn",href:"javascript:void(0)",onClick:function(){e.downloadCsv()},children:"Download Csv"})]})})}),Object(ue.jsx)("div",{class:"container item_stepper",children:Object(ue.jsxs)("div",{class:"row",children:[Object(ue.jsxs)(mt.b,{activeStep:this.state.defaulStep,children:[Object(ue.jsx)(mt.a,{label:"Choose Item"}),Object(ue.jsx)(mt.a,{label:"Upload Item"}),Object(ue.jsx)(mt.a,{label:"Done"})]}),Object(ue.jsxs)("div",{class:"col-md-8 offset-md-2 col-sm-12",children:[0==this.state.defaulStep&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("div",{class:"text-center chooseContainer",children:Object(ue.jsx)("div",{class:"sign__file",children:this.uploadCsv()})}),Object(ue.jsx)("div",{class:"text-center mt-4 mb-2",children:Object(ue.jsx)("a",{class:"btn btn-white others_btn",href:"javascript:void(0)",onClick:function(){e.listItem()},children:"Next"})}),Object(ue.jsx)("div",{class:"text-center successnoteMessage",children:Object(ue.jsx)("p",{children:"Note: Kindly use only CSV file."})})]}),1==this.state.defaulStep&&this.state.items.length>0&&Object(ue.jsxs)("div",{class:"table-responsive",children:[Object(ue.jsxs)("table",{class:"listView",children:[Object(ue.jsx)("thead",{children:Object(ue.jsxs)("tr",{children:[Object(ue.jsx)("th",{children:"Name"}),Object(ue.jsx)("th",{children:"Collection"}),Object(ue.jsx)("th",{children:"Thumb"}),Object(ue.jsx)("th",{children:"Action"})]})}),Object(ue.jsxs)("tbody",{children:[this.state.items.map((function(t,s){return Object(ue.jsxs)("tr",{children:[Object(ue.jsx)("td",{children:t.name}),Object(ue.jsx)("td",{children:t.collection}),Object(ue.jsx)("td",{children:Object(ue.jsx)("img",{src:t.thumb_image_url,width:"75px"})}),Object(ue.jsx)("td",{children:Object(ue.jsx)("a",{class:"btn btn-white others_btn",href:"javascript:void(0)",onClick:function(){e.deleteAction(s)},children:"Delete"})})]})})),Object(ue.jsx)("tr",{children:Object(ue.jsx)("td",{colSpan:4})})]})]}),Object(ue.jsxs)("div",{class:"bottomButtons",children:[Object(ue.jsx)("a",{class:"btn btn-white others_btn",href:"javascript:void(0)",onClick:function(){e.clearItem()},children:"Back"}),Object(ue.jsx)("a",{class:"btn btn-white others_btn",href:"javascript:void(0)",onClick:function(){e.clearItem()},children:"Clear All"}),Object(ue.jsx)("a",{class:"btn btn-white others_btn",href:"javascript:void(0)",onClick:function(){e.saveItem()},children:"Next"})]})]}),2==this.state.defaulStep&&Object(ue.jsxs)(ue.Fragment,{children:[this.state.errorData.length>0&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)("div",{class:"mt-4 mb-4 text-center errorResult",children:[Object(ue.jsx)("h2",{children:"Errors in uploaded CSV file:"}),Object(ue.jsx)("ul",{class:"report-email",children:this.state.errorData.map((function(e,t){return Object(ue.jsxs)("li",{children:[Object(ue.jsxs)("b",{children:["Row: ",e.row]}),e.msg.map((function(e,t){return Object(ue.jsxs)("div",{children:["Error Details: ",e]})}))]})}))})]}),Object(ue.jsx)("div",{class:"text-center",children:Object(ue.jsx)("a",{class:"btn btn-white others_btn",href:"javascript:void(0)",onClick:function(){e.clearItem()},children:"Add More"})})]}),""!=this.state.errorMsg&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("div",{class:"text-center errorMessage",children:Object(ue.jsx)("p",{children:this.state.errorMsg})}),Object(ue.jsx)("div",{class:"text-center",children:Object(ue.jsx)("a",{class:"btn btn-white others_btn",href:"javascript:void(0)",onClick:function(){e.clearItem()},children:"Add More"})})]}),0==this.state.errorData.length&&""==this.state.errorMsg&&Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)("div",{class:"text-center successMessage",children:Object(ue.jsx)("p",{children:"Creating item please wait.."})})})]}),3==this.state.defaulStep&&Object(ue.jsxs)(ue.Fragment,{children:[1==this.state.status&&Object(ue.jsx)("div",{class:"text-center successMessage",children:Object(ue.jsx)("p",{children:"Items updated successfully!!!"})}),Object(ue.jsx)("div",{class:"text-center",children:Object(ue.jsx)("a",{class:"btn btn-white others_btn",href:"javascript:void(0)",onClick:function(){e.clearItem()},children:"Add More"})})]})]})]})})]})}}]),s}(a.a.Component)),ft=s(243),bt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).getProfileInfo=function(t){e.setState({walletAddress:t.public_key,user_id:t.user_id}),z(t.user_id).then((function(t){if(!0===t.status){var s=t.result;e.setState({walletAmount:0==s.wallet_amount?0:parseFloat(s.wallet_amount).toFixed(2)})}}))},e.actions=function(){Object(re.b)("Ethereum address copied",{type:"success",toastId:"successWallet"})},e.handleModal=function(){e.setState({depositModal:!e.state.depositModal,amount:""})},e.handleTrModal=function(){e.setState({transferModal:!e.state.transferModal,transferAmount:""})},e.handleChange=function(t){e.setState({amount:t.target.value})},e.handleTrChange=function(t){e.setState({transferAmount:t.target.value})},e.doDeposit=Object(x.a)(Object(O.a)().mark((function t(){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e.state.amount),e.props.actionNotifyUser({type:"deposit",payload:{wallet:e.state.walletAddress,amount:e.state.amount,user_id:e.state.user_id}});case 2:case"end":return t.stop()}}),t)}))),e.doWithdraw=Object(x.a)(Object(O.a)().mark((function t(){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e.state.walletAmount),console.log(e.state.transferAmount),re.b.dismiss(e.toastObj),e.state.walletAmount>=e.state.transferAmount?e.props.actionNotifyUser({type:"withdraw",payload:{wallet:e.state.walletAddress,amount:e.state.transferAmount,user_id:e.state.user_id}}):e.toastObj=Object(re.b)("Insufficient fund",{type:"errors",toastId:"errorsWallet"});case 4:case"end":return t.stop()}}),t)}))),e.state={user_id:"",walletAmount:"",walletAddress:"",copied:!1,depositModal:!1,amount:"",transferModal:!1,transferAmount:""},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){window.location="/";var e=B();this.getProfileInfo(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.notifier!==e.notifier){var t=B(),s=this.props.notifier;s&&("deposit_success"===s.type?this.setState({depositModal:!1}):"withdraw_success"===s.type&&this.setState({transferModal:!1}),this.getProfileInfo(t))}}},{key:"render",value:function(){var e=this;return Object(ue.jsx)("div",{class:"pagecontainer walletPage",children:Object(ue.jsx)("div",{class:"container",children:Object(ue.jsx)("div",{class:"row",children:Object(ue.jsxs)("div",{class:"col-lg-12",children:[Object(ue.jsxs)("div",{class:"card",children:[Object(ue.jsx)("div",{class:"card-header",children:Object(ue.jsx)("h3",{children:"Wallet"})}),Object(ue.jsxs)("div",{class:"card-body",children:[Object(ue.jsx)("div",{class:"row",children:Object(ue.jsx)("div",{class:"col-12",children:Object(ue.jsx)("div",{class:"",children:Object(ue.jsxs)("h4",{children:["Your Wallet Balance : ",this.state.walletAmount," ",I," "]})})})}),Object(ue.jsx)("div",{class:"form-group row",children:Object(ue.jsx)("div",{class:"col-12",children:Object(ue.jsxs)("div",{class:"input-group",children:[Object(ue.jsx)("input",{type:"text",value:this.state.walletAddress,class:"form-control",disabled:!0}),Object(ue.jsx)(ft.CopyToClipboard,{text:this.state.walletAddress,onCopy:function(){return e.setState({copied:!0})},children:Object(ue.jsx)("span",{children:"Copy"})}),this.state.copied?this.actions():null]})})}),Object(ue.jsx)("div",{class:"row",children:Object(ue.jsx)("div",{class:"text-center",children:Object(ue.jsxs)("div",{class:"mt-2 mb-2",children:[Object(ue.jsx)("button",{type:"button",class:"btn btn-white others_btn",onClick:function(){e.handleModal()},children:"Deposit"}),Object(ue.jsx)("button",{type:"button",class:"btn btn-white others_btn",onClick:function(){e.handleTrModal()},children:"Withdraw"})]})})})]})]}),Object(ue.jsxs)(Ye.a,{show:this.state.depositModal,onHide:function(){return e.handleModal()},children:[Object(ue.jsx)(Ye.a.Header,{closeButton:!0,children:"Deposit MATIC"}),Object(ue.jsx)(Ye.a.Body,{class:"walletBody",children:Object(ue.jsxs)("div",{class:"form-group",children:[Object(ue.jsx)("h5",{children:"MATIC Value"}),Object(ue.jsx)("input",{type:"number",value:this.state.amount,onChange:this.handleChange,placeholder:"Enter MATIC Value",class:"form-control"})]})}),Object(ue.jsxs)(Ye.a.Footer,{children:[Object(ue.jsx)($e.a,{onClick:function(){return e.handleModal()},children:"Close"}),Object(ue.jsx)($e.a,{onClick:function(){return e.doDeposit()},children:"Save"})]})]}),Object(ue.jsxs)(Ye.a,{show:this.state.transferModal,onHide:function(){return e.handleTrModal()},children:[Object(ue.jsx)(Ye.a.Header,{closeButton:!0,children:"Transfer MATIC"}),Object(ue.jsx)(Ye.a.Body,{class:"walletBody",children:Object(ue.jsxs)("div",{class:"form-group",children:[Object(ue.jsx)("h5",{children:"MATIC Value"}),Object(ue.jsx)("input",{type:"number",value:this.state.transfer_amount,onChange:this.handleTrChange,placeholder:"Enter MATIC Value",class:"form-control"})]})}),Object(ue.jsxs)(Ye.a.Footer,{children:[Object(ue.jsx)($e.a,{onClick:function(){return e.handleTrModal()},children:"Close"}),Object(ue.jsx)($e.a,{onClick:function(){return e.doWithdraw()},children:"Save"})]})]})]})})})})}}]),s}(a.a.Component);var gt=Object(m.b)((function(e){return{notifier:e.notifier}}),{actionNotifyUser:w})(Object(p.g)(bt)),vt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).initData=function(){var t=e.props.location.pathname.split("/");e.collectionId=t[t.length-2],e.setState({items:[],loading:!0,paging:!1}),e.page=1,e.getCollectionInfo()},e.getCollectionInfo=function(){K(e.collectionId).then((function(t){e.collectionDetails=t.result,e.itemAPIAction(e.page)}))},e.itemAPIAction=function(t){var s={type:"mycollection",sortby:"created",collection_id:e.collectionId,page:t,user_id:e.collectionDetails.author_id._id};ce(s).then((function(s){if(!0===s.status){var i=se.parseItemList(s.data.docs),a=e.state.items;if(1!==t)for(var n=0;n<i.length;n++)a.push(i[n]);else a=i;e.setState({loading:!1,paging:s.data.docs.length>0,items:a})}}))},e.fetchMoreData=function(){e.page=e.page+1,e.itemAPIAction(e.page)},e.page=1,e.loading=!1,e.user=null,e.firstTime=!1,e.collectionId=null,e.state={skeleton:[1,1,1,1,1,1,1,1,1,1,1,1],items:[],paging:!1,loading:!0},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.initData()}},{key:"componentDidUpdate",value:function(e){this.props.notifier!==e.notifier&&this.initData()}},{key:"render",value:function(){return Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsxs)("div",{class:"item-grid",children:[this.state.loading&&Object(ue.jsx)("div",{className:"row row--grid",children:this.state.skeleton.map((function(e,t){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-4",children:Object(ue.jsx)(Ce,{skeleton:"true",data:null})})}))}),!this.state.loading&&this.state.items.length>0&&Object(ue.jsx)(ve.a,{dataLength:this.state.items.length,next:this.fetchMoreData,hasMore:this.state.paging,children:Object(ue.jsx)("div",{className:"row row--grid",children:this.state.items.map((function(e,t){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-4",children:Object(ue.jsx)(Ce,{skeleton:"false",data:e})})}))})}),!this.state.loading&&0===this.state.items.length&&Object(ue.jsx)(ye,{})]})})}}]),s}(a.a.Component);var _t=Object(m.b)((function(e){return{notifier:e.notifier}}),{})(Object(p.g)(vt)),Ot=s(69),xt=s(244),yt=(s(225),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).initFields=function(){var t=e.props.location.pathname.split("/");e.item_id=t[t.length-1];var s=B();null===s?e.itemDetail():(e.setState({currentUser:s,walletAddress:s.public_key,user_id:s.user_id,walletAmount:s.wallet_amount}),e.addViewsAction())},e.itemDetail=function(){ce({page:1,item_id:e.item_id,type:"view"}).then((function(t){t.data.docs.length>0&&(e.itemDetails=t.data.docs[0],e.setState({is_liked:0!==t.return_id,selectedOffer:t.offer,isOffer:t.has_offer}),e.fillFields(),e.getOffers(e.page),e.getPrices(e.page),e.OfferBidAction(),e.getTradeHistory(e.page))}))},e.fillFields=function(){var t,s=B();e.itemDetails.thumb&&(e.itemDetails.thumb.length>0&&e.itemDetails.thumb);var i,a="Sell";(null!==s&&(s.user_id===e.itemDetails.current_owner._id&&(t=!0),e.itemDetails.current_owner._id!=e.itemDetails.author_id&&(a="Resell")),e.itemDetails.current_owner.profile_image)?i=e.itemDetails.current_owner.profile_image.length>0?e.itemDetails.current_owner.profile_image:"/images/avatars/avatar5.jpg":i="/images/avatars/avatar5.jpg";e.itemDetails.collection_id.banner&&(e.itemDetails.collection_id.banner.length>0&&e.itemDetails.collection_id.banner);for(var n=[],r=0;r<e.itemDetails.attributes.length;r++){var o=e.itemDetails.attributes[r];o.name.trim().length>0&&o.type.trim().length>0&&n.push({name:o.name,type:o.type})}for(var c=[],l=0;l<e.itemDetails.levels.length;l++){var d=e.itemDetails.levels[l];d.name.trim().length>0&&d.value>0&&d.valueof>0&&c.push({name:d.name,value:d.value.toString(),valueof:d.valueof.toString()})}for(var h=[],u=0;u<e.itemDetails.stats.length;u++){var p=e.itemDetails.stats[u];p.name.trim().length>0&&p.value>0&&p.valueof>0&&h.push({name:p.name,value:p.value.toString(),valueof:p.valueof.toString()})}var m,j=!1,f=0;if(!0===e.itemDetails.has_offer){f=Date.parse(e.itemDetails.offer_end_date);var b=Date.now();console.log(f),console.log(b),console.log(e.itemDetails),e.setState({offerCountTime:f}),f<b&&(j=!0,e.setState({offerCountTime:0})),m={price:e.itemDetails.price.toString(),has_offer:!0,offer_price:e.itemDetails.offer_price.toString(),offer_duration:""}}else m={price:e.itemDetails.price.toString(),has_offer:!1,offer_price:"",offer_duration:""};e.setState({itemInfo:e.itemDetails,page_title:e.itemDetails.name,thumb:e.itemDetails.thumb,loading:!1,like_count:e.itemDetails.like_count,like_count_str:se.getShortenNum(e.itemDetails.like_count),view_count:e.itemDetails.view_count,view_count_str:se.getShortenNum(e.itemDetails.view_count),external_link:e.itemDetails.external_link,is_owner:t,profile_image:i,collection_image:e.itemDetails.collection_id.banner,fullname:e.itemDetails.current_owner.first_name.length>0?e.itemDetails.current_owner.first_name+" "+e.itemDetails.current_owner.last_name:e.itemDetails.current_owner.username,attributes:n,levels:c,stats:h,offer_time:f,is_expire:j,offerFields:m,buttonTxt:a}),e.getMoreCollection(),e.page=1,e.setState({histories:[],offers:[],prices:[],paging:!1,assetloading:!0,itemMenu:"history"}),e.getTradeHistory(e.page),null!==s&&e.getApprovalForCollection()},e.getApprovalForCollection=function(){var t,s;(t=e.itemDetails.collection_id._id,s=e.itemDetails.current_owner._id,new Promise((function(e,i){H.a.get(L.base+L.collection_check_approval+"?collection_id="+t+"&&user_id="+s,{headers:L.apiHeaderForGuest}).then((function(t){e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))}))).then((function(t){e.setState({is_ready:t.status})}))},e.getMoreCollection=function(){var t;(t={collection_id:e.itemDetails.collection_id._id,item_id:e.itemDetails._id},new Promise((function(e,s){var i="";i=L.apiHeaderForGuest;var a=localStorage.getItem("token");delete i.authorization,a&&(i.authorization=localStorage.getItem("token"));var n=L.base+L.item_moreFromCollection;t.collection_id&&(n=n+"?collection_id="+t.collection_id),t.item_id&&(n=n+"&item_id="+t.item_id),H.a.get(n,{headers:i}).then((function(t){e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))}))).then((function(t){for(var s=se.parseItemList(t.data),i=[],a=0;a<s.length&&(i.push(s[a]),3!=a);a++);e.setState({moreitemloading:!1,moreitem:i,hasmoreitem:s.length>4})}))},e.getTradeHistory=function(t){var s={page:t,item_id:e.item_id,type:"item"};le(s).then((function(s){if(!0===s.status){var i=xe.parseTradeHistoryList(s.data.docs),a=e.state.histories;if(1!==t)for(var n=0;n<i.length;n++)a.push(i[n]);else a=i;e.setState({assetloading:!1,paging:a.length<s.data.totalDocs,histories:a,historyPrev:s.data.hasPrevPage,historyNext:s.data.hasNextPage})}}))},e.likeAction=function(){if(null===B())return Object(re.b)("Please login to continue",{type:"error"}),!1;var t=0;e.state.is_liked&&(t=1);var s,i=1===t?e.state.like_count-1:e.state.like_count+1;e.setState({like_count:i,like_count_str:se.getShortenNum(i),is_liked:1!==t}),(s={item_id:e.itemDetails._id,type:1===t?"decrease":"increase"},new Promise((function(e,t){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.post(L.base+L.item_add_like,s,{headers:i}).then((function(t){console.warn("item like response",t.data),e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))}))).then((function(e){}))},e.addViewsAction=function(){var t;(t={item_id:e.item_id},new Promise((function(e,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.post(L.base+L.item_add_view,t,{headers:i}).then((function(t){console.warn("item view response",t.data),e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))}))).then((function(t){e.itemDetail()}))},e.purchaseNFT=function(){if(!e.ispending){if(null===B())return Object(re.b)("Please login to continue",{type:"error"}),!1;e.ispending=!0,e.toastObj=Object(re.b)("Purchasing item...",{closeButton:!1,autoClose:!1,isLoading:!0}),e.props.actionNotifyUser({type:"buynft",payload:e.state.itemInfo})}},e.buyNFT=function(){var t={item_id:e.item_id};e.isAcceptOffer&&(e.isAcceptOffer=!1,t.price=e.offerPrice),function(e){return new Promise((function(t,s){L.apiHeaderForGuest.authorization=localStorage.getItem("token"),H.a.post(L.base+L.item_purchase,e,{headers:L.apiHeaderForGuest}).then((function(e){console.warn("item purchased response",e.data),t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))}(t).then((function(t){re.b.dismiss(e.toastObj),console.log("item publish result ->",t),!0===t.status?(Object(re.b)(t.message,{type:"success"}),!0===t.itemredirect?setTimeout((function(){e.props.history.push("/item/"+t.result._id)}),3e3):e.initFields()):Object(re.b)(t.message,{type:"error"})}))},e.assetMenuClick=function(t){e.setState({assetMenu:t})},e.itemMenuClick=function(t){e.page=1,e.setState({histories:[],offers:[],prices:[],paging:!1,assetloading:!0,itemMenu:t}),"history"===t?e.getTradeHistory(e.page):"prices"===t?e.getPrices(e.page):"offers"===t&&e.getOffers(e.page)},e.nextPricePage=function(){console.log("pagex",e.page),e.page=e.page+1,e.getOffers(e.page)},e.prevPricePage=function(){e.page=e.page-1,e.getOffers(e.page)},e.nextHistoryPage=function(){e.historypage=e.historypage+1,e.getTradeHistory(e.historypage)},e.prevHistoryPage=function(){e.historypage=e.historypage-1,e.getTradeHistory(e.historypage)},e.fetchMoreData=function(){e.page=e.page+1,"history"===e.state.itemMenu?e.getTradeHistory(e.page):"prices"===e.state.itemMenu?e.getPrices(e.page):"offers"===e.state.itemMenu&&e.getOffers(e.page)},e.getOffers=function(t){(function(e){return new Promise((function(t,s){var i="";i=L.apiHeaderForGuest;var a=localStorage.getItem("token");delete i.authorization,a&&(i.authorization=localStorage.getItem("token"));var n=L.base+L.item_offers;e.page&&(n=n+"?page="+e.page),e.type&&(n=n+"&type="+e.type),e.item_id&&(n=n+"&item_id="+e.item_id),H.a.get(n,{headers:i}).then((function(e){t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))})({page:t,item_id:e.item_id,type:"item"}).then((function(s){if(!0===s.status){var i=xe.parseOfferList(s.data.docs),a=e.state.offers;if(1!==t)for(var n=0;n<i.length;n++)a.push(i[n]);else a=i;e.setState({assetloading:!1,paging:a.length<s.data.totalDocs,offers:a,offerPrev:s.data.hasPrevPage,offerNext:s.data.hasNextPage})}}))},e.getPrices=function(t){(function(e){return new Promise((function(t,s){var i="";i=L.apiHeaderForGuest;var a=localStorage.getItem("token");delete i.authorization,a&&(i.authorization=localStorage.getItem("token"));var n=L.base+L.item_prices;e.page&&(n=n+"?page="+e.page),e.item_id&&(n=n+"&item_id="+e.item_id),H.a.get(n,{headers:i}).then((function(e){t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))})({page:t,item_id:e.item_id}).then((function(s){if(!0===s.status){var i=xe.parsePriceList(s.data.docs),a=e.state.prices;if(1!==t)for(var n=0;n<i.length;n++)a.push(i[n]);else a=i;e.setState({assetloading:!1,paging:a.length<s.data.totalDocs,prices:a})}}))},e.addOffer=function(){if(e.state.loading=!0,e.state.is_expire)return Object(re.b)("Auction time ended",{type:"error"}),void(e.state.loading=!1);e.setState({showAddOffer:!0,loading:!1})},e.closeOfferModal=function(){e.setState({showAddOffer:!1,bidPrice:""})},e.confirmOfferModal=function(){var t=B();if(null===t)return Object(re.b)("Please login to continue",{type:"error"}),!1;if(!e.ispending){if(e.ispending=!0,!e.state.bidPrice.match(/^\d+(\.\d{1,6})?$/))return Object(re.b)("Bid price should be numbers",{type:"error"}),!1;re.b.dismiss(e.toastbidObj),re.b.dismiss(e.toastsuffObj),e.toastObj=Object(re.b)("Adding offer...",{closeButton:!1,autoClose:!0,isLoading:!0});var s=parseFloat(e.state.bidPrice);if(s<parseFloat(e.state.itemInfo.offer_price))return re.b.dismiss(e.toastObj),e.ispending=!1,e.toastbidObj=Object(re.b)("Bid price should be more than or equal to "+e.state.itemInfo.offer_price+" "+I,{type:"error"}),!1;console.log(e.state.walletAmount),console.log(s),console.log(t),e.props.actionNotifyUser({type:"addoffer",payload:{wallet:t.public_key,amount:s,user_id:t.user_id,item:e.itemDetails}})}},e.addOfferAction=function(){var t,s=parseFloat(e.state.bidPrice);(t={item_id:e.item_id,price:s},new Promise((function(e,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.post(L.base+L.item_add_offers,t,{headers:i}).then((function(t){console.warn("item add offer response",t.data),e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))}))).then((function(t){re.b.dismiss(e.toastObj),!1!==t.status?(e.setState({showAddOffer:!1,bidPrice:""}),e.initFields()):Object(re.b)(t.message,{type:"error"})}))},e.handlePriceChange=function(t){e.setState({bidPrice:t.target.value})},e.removeOffer=function(t){console.log(t),e.toastObj=Object(re.b)("Removing offer...",{closeButton:!1,autoClose:!1,isLoading:!0}),e.ispending=!0,z(t.user_id).then((function(s){console.log(s),e.props.actionNotifyUser({type:"removeoffer",payload:{wallet:s.result.public_key,user_id:s.result._id,amount:t.price,item:t}})}))},e.removeOfferAction=function(t){var s;console.log(t),(s={item_id:e.item_id,offer_id:t.offer_id},new Promise((function(e,t){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.post(L.base+L.item_remove_offers,s,{headers:i}).then((function(t){console.warn("item remove offer response",t.data),e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))}))).then((function(t){e.ispending=!1,re.b.dismiss(e.toastObj),!1!==t.status?(e.initFields(),e.OfferBidAction()):Object(re.b)(t.message,{type:"error"})}))},e.OfferBidAction=function(){var t;(t={item_id:e.item_id},new Promise((function(e,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.post(L.base+L.item_already_bid,t,{headers:i}).then((function(t){console.warn("item remove offer response",t.data),e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))}))).then((function(t){t.bids>0?e.setState({hide_offer:!1}):e.setState({hide_offer:!0})}))},e.actionOffer=function(t,s){var i;e.toastObj=Object(re.b)("cancel"===s?"Cancelling offer...":"Accepting offer...",{closeButton:!1,autoClose:!1,isLoading:!0}),(i={item_id:e.item_id,type:s,offer_id:t.offer_id},new Promise((function(e,t){var s=L.apiHeaderForGuest;s.authorization=localStorage.getItem("token"),H.a.post(L.base+L.item_action_offers,i,{headers:s}).then((function(t){console.warn("item action offer response",t.data),e(t.data)})).catch((function(t){e({status:!1,message:t.message})}))}))).then((function(i){if(re.b.dismiss(e.toastObj),!1!==i.status){var a=[];if("cancel"===s)for(var n=0;n<e.state.offers.length;n++){var r=e.state.offers[n];r.offer_id!==t.offer_id&&a.push(r)}else for(var o=0;o<e.state.offers.length;o++){var c=e.state.offers[o];c.offer_id===t.offer_id&&(c.status="accepted",a.push(c))}e.OfferBidAction(),e.setState({offers:a})}else Object(re.b)(i.message,{type:"error"})}))},e.buyOffer=function(t){if(!e.ispending){e.isAcceptOffer=!0,e.ispending=!0,e.toastObj=Object(re.b)("Purchasing item...",{closeButton:!1,autoClose:!1,isLoading:!0});var s=e.state.itemInfo;s.price=t.price,e.offerPrice=t.price,e.props.actionNotifyUser({type:"buynft",payload:s})}},e.approveCollection=function(){if(!e.ispending){e.ispending=!0;var t=e.state.itemInfo;e.props.actionNotifyUser({type:"approvenft",payload:t})}},e.offerComplete=function(){e.setState({is_expire:!0})},e.showUpdateOffer=function(){"inactive"==e.state.itemInfo.status?0==e.waiting&&(e.waiting=!0,e.toastObj=Object(re.b)("Miniting new item",{closeButton:!1,autoClose:!1,isLoading:!0}),function(e){return new Promise((function(t,s){var i=L.apiHeaderForGuest;localStorage.getItem("token")&&(i.authorization=localStorage.getItem("token"));var a=L.base+L.token_info+"?item_id="+e.item_id;H.a.get(a,{headers:i}).then((function(e){t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))}({item_id:e.state.itemInfo._id}).then((function(t){if(!0===t.status){console.log(t.token),console.log(e.state.itemInfo.copies);var s=!1;e.state.itemInfo.copies>1&&(s=!0);var i=t.token;e.system_token_id=i,e.props.actionNotifyUser({type:"mint_contract",payload:{no_of_copies:e.state.itemInfo.copies,is_type:s,token_id:i,ipfs_cid:e.state.itemInfo.ipfs_cid}})}}))):e.setState({showOffer:!0})},e.updateSaleConfirmation=function(){console.log(e.state.itemInfo);var t=e.state.offerFields;if(t.price=e.state.itemInfo.price,t.offer_price=e.state.itemInfo.offer_price,e.state.itemInfo.has_offer){var s=_e(e.state.itemInfo.offer_date).format("MM/DD/YYYY"),i=_e(s,"MM/DD/YYYY").add(e.state.itemInfo.offer_days-1,"days").format("MM/DD/YYYY");t.startDate=s,t.endDate=i}e.setState({showOffer:!0,fields:t})},e.removeFromSaleConfirmation=function(){e.setState({showConfirmation:!0})},e.closeConfirmationModal=function(){e.setState({showConfirmation:!1})},e.removeFromSale=function(){e.closeConfirmationModal();var t={item_id:e.item_id};oe(t).then((function(t){re.b.dismiss(e.toastObj),!0===t.status?e.itemDetail():Object(re.b)("remove from sale is failed failed",{type:"error"})}))},e.handleApply=function(t,s){var i=new Date(s.startDate),a=new Date(s.endDate),n=e.state.offerFields;n.offer_days=e.getDifferenceInDays(i,a),n.offer_date=s.startDate,n.offer_end_date=s.endDate,e.setState({fields:n})},e.closeUpdateOfferModal=function(){var t;t=!0===e.itemDetails.has_offer?{price:e.itemDetails.price.toString(),has_offer:!0,offer_price:e.itemDetails.offer_price.toString()}:{price:e.itemDetails.price.toString(),has_offer:!1,offer_price:""},e.setState({showOffer:!1,offerFields:t})},e.submitUpdateOffer=function(){if(!0===e.state.offerFields.has_offer){if(""==e.state.offerFields.offer_price)return Object(re.b)("Minimum bid amount is required",{type:"error"}),!1;if(""!=!e.state.offerFields.offer_price)if(!/^\d+(\.\d{1,6})?$/.test(e.state.offerFields.offer_price))return Object(re.b)("Minimum bid amount should be numbers",{type:"error"}),!1;if(parseFloat(e.state.offerFields.offer_price)<0)return Object(re.b)("Minimum bid amount should be greater than zero",{type:"error"}),!1;if(""==e.state.offerFields.offer_date){var t=new Date;t.setHours(0,0,0,0);var s=e.state.offerFields;s.offer_days=1,s.offer_date=t}}else{if(""==e.state.offerFields.price)return Object(re.b)("Item price is required",{type:"error"}),!1;if(""!=!e.state.offerFields.price)if(!/^\d+(\.\d{1,6})?$/.test(e.state.offerFields.price))return Object(re.b)("Price should be numbers",{type:"error"}),!1;if(parseFloat(e.state.offerFields.price)<=0)return Object(re.b)("Price should be greater than zero",{type:"error"}),!1}e.setState({showOffer:!1}),e.toastObj=Object(re.b)("updating offer",{closeButton:!1,autoClose:!1,isLoading:!0});var i=e.state.offerFields;i.item_id=e.item_id,function(e){return new Promise((function(t,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.put(L.base+L.item_update_offer,e,{headers:i}).then((function(e){console.warn("item update offer response",e.data),t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))}(i).then((function(t){var s;!0===t.status?(re.b.dismiss(e.toastObj),Object(re.b)(t.message,{type:"success"}),e.initFields()):(re.b.dismiss(e.toastObj),Object(re.b)(t.message,{type:"error"}),s=!0===e.itemDetails.has_offer?{price:0,has_offer:!0,offer_price:e.itemDetails.offer_price.toString()}:{price:e.itemDetails.price.toString(),has_offer:!1,offer_price:0},e.setState({offerFields:s}))}))},e.handleChange=function(t,s){var i=e.state.offerFields;i[t]=s.target.value,e.setState({offerFields:i})},e.handleOfferChange=function(t){var s=e.state.offerFields;s.has_offer=t,e.setState({offerFields:s})},e.item_id=null,e.itemDetails=null,e.ispending=!1,e.isAcceptOffer=!1,e.offerPrice=0,e.toastObj=null,e.waiting=!1,e.page=1,e.historypage=1,e.system_token_id=0,e.state={loading:!0,user_id:"",walletAmount:"",walletAddress:"",moreitem_skeleton:[1,2,3,4],moreitem:[],moreitemloading:!0,hasmoreitem:!1,page_title:"",thumb:"",like_count:0,like_count_str:"0",is_liked:!1,view_count:0,view_count_str:"0",external_link:"",is_owner:!1,itemInfo:null,profile_image:"/images/avatars/avatar5.jpg",fullname:"",collection_image:"/images/bg/bg.png",attributes:[],levels:[],stats:[],assetMenu:"properties",itemMenu:"history",histories:[],historyPrev:!1,historyNext:!1,offers:[],offerPrev:!1,offerNext:!1,prices:[],paging:!1,assetloading:!1,is_ready:!0,showAddOffer:!1,bidPrice:"",currentUser:null,is_expire:!1,offer_time:0,showOffer:!1,selectedOffer:null,isOffer:!1,saddClass:!1,raddClass:!1,buttonTxt:"Sell",iconname:"",offerCountTime:0,hide_offer:!0,offerFields:{price:"",has_offer:!1,offer_price:"",offer_duration:"",offer_days:"",startDate:_e().fromNow(),endDate:_e().fromNow()}},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.initFields()}},{key:"toggle",value:function(e){this.iconname=e,"share"==this.iconname?this.setState({saddClass:!this.state.saddClass}):this.setState({raddClass:!this.state.raddClass})}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.notifier!==e.notifier){var s=this.props.notifier;if(s)if("mintfailed"===s.type&&!0===this.waiting)this.waiting=!1,re.b.dismiss(this.toastObj),this.setState({isSubmit:!1}),Object(re.b)("mint failed",{type:"error"});else if("mintsuccess"===s.type&&!0===this.waiting){this.waiting=!1,re.b.dismiss(this.toastObj),console.log(s),function(e){return new Promise((function(t,s){var i=L.apiHeaderForGuest;i.authorization=localStorage.getItem("token"),H.a.post(L.base+L.item_sell,e,{headers:i}).then((function(e){console.warn("item sell response",e.data),t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))}({token_id:s.payload.token,transaction_hash:s.payload.hash,item_id:this.item_id,system_token_id:this.system_token_id}).then((function(e){re.b.dismiss(t.toastObj),!0===e.status?(t.itemDetail(),t.updateSaleConfirmation()):Object(re.b)("mint failed",{type:"error"})}))}else if("buyfail"===s.type&&this.ispending)this.ispending=!1,this.isAcceptOffer=!1,this.offerPrice=0,re.b.dismiss(this.toastObj),Object(re.b)("Purchase failed",{type:"error"}),this.ispending=!1;else if("buysuccess"===s.type&&this.ispending)this.ispending=!1,this.buyNFT();else if("login"===s.type)this.initFields();else if("approvesuccess"===s.type&&this.ispending)this.ispending=!1,this.initFields();else if("approvefail"===s.type&&this.ispending)this.ispending=!1;else if("sendoffersuccess"===s.type&&this.ispending)this.ispending=!1,this.addOfferAction();else if("sendofferfail"===s.type&&this.ispending)re.b.dismiss(this.toastObj),this.setState({showAddOffer:!1,bidPrice:""}),this.ispending=!1;else if("create_auction_success"==s.type)re.b.dismiss(this.toastObj),Object(re.b)("Auction created successfully",{type:"success"}),this.initFields();else if("create_auction_fail"==s.type||"delete_auction_success"==s.type){var i={item_id:this.item_id};oe(i).then((function(e){re.b.dismiss(t.toastObj),!0===e.status?t.itemDetail():Object(re.b)("remove from sale is failed failed",{type:"error"})}))}else"delete_auction_fail"==s.type?(re.b.dismiss(this.toastObj),Object(re.b)("item remove from sale is failed",{type:"error"})):"offersuccess"===s.type&&this.ispending?(this.ispending=!1,this.addOfferAction()):"removeoffersuccess"===s.type&&this.ispending?(this.ispending=!1,this.removeOfferAction(s.payload.item)):"offerfail"===s.type&&this.ispending&&(this.ispending=!1,re.b.dismiss(this.toastObj))}this.props.location.pathname!==e.location.pathname&&this.initFields()}},{key:"getDifferenceInDays",value:function(e,t){var s=Math.abs(t-e);return Math.round(s/864e5)}},{key:"render",value:function(){var e=this,t=[],s=[];return this.state.saddClass&&t.push("active"),this.state.raddClass&&s.push("active"),Object(ue.jsxs)(ue.Fragment,{children:[!this.state.loading&&!this.state.is_ready&&this.state.is_owner&&Object(ue.jsx)("div",{class:"row",children:Object(ue.jsx)("div",{class:"col-12",children:Object(ue.jsxs)("div",{class:"approval_warning",children:["You haven't give permission to admin for this collection. ",Object(ue.jsx)("a",{href:"javascript:void(0)",onClick:this.approveCollection,children:"Click Here"})]})})}),!this.state.loading&&Object(ue.jsxs)("div",{className:"container",children:[Object(ue.jsx)(u.b,{to:"/",className:"btn btn-white btn-sm my-40",children:"Back to home"}),Object(ue.jsx)("div",{className:"item_details",children:Object(ue.jsxs)("div",{className:"row sm:space-y-20",children:[Object(ue.jsxs)("div",{className:"col-lg-6",children:[Object(ue.jsxs)("div",{class:"timerdetail",children:[Object(ue.jsx)("img",{className:"item_img itemdetailimg",src:this.state.thumb,alt:"ImgPreview"}),this.state.itemInfo.has_offer&&"active"==this.state.itemInfo.status&&Object(ue.jsx)("span",{class:"countdown",children:Object(ue.jsx)(ke.a,{date:this.state.offerCountTime,onComplete:function(){e.offerComplete()}})})]}),Object(ue.jsx)("div",{class:"row",children:Object(ue.jsxs)("div",{class:"authencity-row",children:[Object(ue.jsx)("h4",{class:"color_white authencity-header",children:"Proof of Authenticity"}),Object(ue.jsxs)("div",{class:"authencity-box",children:[Object(ue.jsxs)("div",{class:"authencity-subbox",children:[Object(ue.jsx)("p",{class:"title-text color_white",children:"Contract Address"}),Object(ue.jsx)("p",{class:"contact-text",children:Object(ue.jsxs)("a",{target:"_blank",class:"copy-link primary-link",href:A+"address/"+F,children:[" ",F," "]})})]}),Object(ue.jsxs)("div",{class:"authencity-subbox",children:[Object(ue.jsx)("p",{class:"title-text color_white",children:"Blockchain"}),Object(ue.jsx)("p",{class:"blockchain-text color_white",children:P})]}),this.state.itemInfo.token_id&&this.state.itemInfo.token_id>0&&Object(ue.jsxs)("div",{class:"authencity-subbox copybox",children:[Object(ue.jsx)("p",{class:"title-text color_white",children:"Token ID"}),Object(ue.jsx)("p",{class:"token-text color_white",children:this.state.itemInfo.token_id})]}),(!this.state.itemInfo.unlock_content_url||null!=this.state.currentUser&&this.state.itemInfo.current_owner._id==this.state.currentUser.user_id)&&Object(ue.jsxs)("div",{class:"authencity-subbox",children:[Object(ue.jsx)("p",{class:"title-text color_white",children:"Media"}),Object(ue.jsx)("p",{class:"contact-text",children:Object(ue.jsx)("a",{target:"_blank",class:"contact-link primary-link",href:this.state.itemInfo.media,children:"Click to View"})})]})]})]})})]}),Object(ue.jsx)("div",{className:"col-lg-6",children:Object(ue.jsxs)("div",{className:"space-y-20",children:[Object(ue.jsx)("h2",{className:"color_white mt-res",children:this.state.itemInfo.name}),Object(ue.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(ue.jsx)("div",{className:"space-x-10 d-flex align-items-center",children:Object(ue.jsxs)("a",{href:"javascript:void(0)",onClick:this.likeAction,className:"likes space-x-3",children:[Object(ue.jsx)("i",{className:"ri-heart-3-fill"}),Object(ue.jsx)("span",{className:"txt_sm",children:this.state.like_count_str})]})}),Object(ue.jsxs)("div",{className:"space-x-10 d-flex align-items-center",children:[Object(ue.jsx)("div",{children:Object(ue.jsxs)("div",{className:"hide share "+t,onClick:this.toggle.bind(this,"share"),children:[Object(ue.jsx)("div",{className:"icon",children:Object(ue.jsx)("i",{className:"ri-share-line"})}),Object(ue.jsx)("div",{className:"dropdown__popup",children:Object(ue.jsxs)("ul",{className:"space-y-10",onClick:this.toggle.bind(this,"share"),children:[Object(ue.jsx)("li",{children:Object(ue.jsx)("a",{href:"https://www.facebook.com/",rel:"noreferrer",target:"_blank",children:Object(ue.jsx)("i",{className:"ri-facebook-line"})})}),Object(ue.jsx)("li",{children:Object(ue.jsx)("a",{href:"https://www.messenger.com/",rel:"noreferrer",target:"_blank",children:Object(ue.jsx)("i",{className:"ri-messenger-line"})})}),Object(ue.jsx)("li",{children:Object(ue.jsx)("a",{href:"https://whatsapp.com",target:"_blank",rel:"noreferrer",children:Object(ue.jsx)("i",{className:"ri-whatsapp-line"})})}),Object(ue.jsx)("li",{children:Object(ue.jsx)("a",{href:"https://youtube.com",target:"_blank",rel:"noreferrer",children:Object(ue.jsx)("i",{className:"ri-youtube-line"})})})]})})]})}),Object(ue.jsx)("div",{children:Object(ue.jsxs)("div",{className:"hide more "+s,onClick:this.toggle.bind(this,"more"),children:[Object(ue.jsx)("div",{className:"icon",children:Object(ue.jsx)("i",{className:"ri-more-fill"})}),Object(ue.jsx)("div",{className:"dropdown__popup",children:Object(ue.jsx)("ul",{className:"space-y-10",children:Object(ue.jsx)("li",{children:Object(ue.jsx)(xt.a,{className:"custom",ref:this.ref,trigger:Object(ue.jsxs)(u.b,{to:"#",className:"content space-x-10 d-flex",children:[Object(ue.jsx)("i",{className:"ri-flag-line"}),Object(ue.jsx)("span",{onClick:this.toggle.bind(this,"more"),children:" Report "})]}),position:"bottom center",children:Object(ue.jsx)("div",{children:Object(ue.jsx)("div",{className:"popup",id:"popup_bid",tabIndex:-1,role:"dialog","aria-hidden":"true",children:Object(ue.jsx)("div",{children:Object(ue.jsx)("div",{className:"space-y-20",children:Object(ue.jsxs)("h5",{children:["Thank you,",Object(ue.jsx)("span",{className:"color_green",children:"we've received your report"})]})})})})})})})})})]})})]})]}),Object(ue.jsx)("div",{className:"numbers",children:Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsx)("div",{className:"col-lg-6",children:Object(ue.jsxs)("div",{className:"space-y-5",children:[Object(ue.jsxs)("p",{className:"color_white",children:["Owner ",Object(ue.jsxs)("span",{className:"color_text",children:[" ",this.state.itemInfo.collection_id.royalties,"% royalties"]})]}),Object(ue.jsxs)("div",{className:"avatars space-x-5",children:[Object(ue.jsx)("div",{className:"media",children:Object(ue.jsx)(u.b,{to:"/profile/"+this.state.itemInfo.current_owner._id,children:Object(ue.jsx)("img",{src:this.state.profile_image,alt:"Avatar",className:"avatar avatar-sm"})})}),Object(ue.jsx)("div",{children:Object(ue.jsx)(u.b,{to:"/profile/"+this.state.itemInfo.current_owner._id,children:Object(ue.jsx)("p",{className:"avatars_name color_black",children:this.state.fullname})})})]})]})}),Object(ue.jsx)("div",{className:"col-lg-6",children:Object(ue.jsxs)("div",{className:"space-y-5",children:[Object(ue.jsx)("p",{className:"color_text",children:"Collection"}),Object(ue.jsxs)("div",{className:"avatars space-x-5",children:[Object(ue.jsx)("div",{className:"media",children:Object(ue.jsx)(u.b,{to:"/collection/"+this.state.itemInfo.collection_id._id,children:Object(ue.jsx)("img",{src:this.state.collection_image,alt:"Avatar",className:"avatar avatar-sm"})})}),Object(ue.jsx)("div",{children:Object(ue.jsx)(u.b,{to:"/collection/"+this.state.itemInfo.collection_id._id,children:Object(ue.jsx)("p",{className:"avatars_name color_black",children:this.state.itemInfo.collection_id.name})})})]})]})})]})}),Object(ue.jsx)("div",{className:"box",children:Object(ue.jsxs)(Ot.d,{className:"space-y-20",children:[Object(ue.jsx)("div",{className:"d-flex justify-content-between mb-30_reset",children:Object(ue.jsxs)(Ot.b,{className:"d-flex space-x-10 mb-30 nav-tabs",children:[Object(ue.jsx)(Ot.a,{className:"nav-item",children:Object(ue.jsx)(u.b,{className:"btn btn-white btn-sm","data-toggle":"tab",to:"#tabs-1",role:"tab",children:"Details"})}),this.state.itemInfo.has_offer&&Object(ue.jsx)(Ot.a,{children:Object(ue.jsx)(u.b,{className:"btn btn-white btn-sm","data-toggle":"tab",to:"#tabs-2",role:"tab",children:"Bids"})}),Object(ue.jsx)(Ot.a,{children:Object(ue.jsx)(u.b,{className:"btn btn-white btn-sm","data-toggle":"tab",to:"#tabs-3",role:"tab",children:"History"})})]})}),Object(ue.jsx)("div",{className:"hr"}),Object(ue.jsxs)("div",{className:"tab-content item-tab-content",children:[Object(ue.jsx)(Ot.c,{className:"active space-y-20",children:Object(ue.jsx)("p",{class:"gray-text",children:this.state.itemInfo.description})}),this.state.itemInfo.has_offer&&Object(ue.jsxs)(Ot.c,{children:[Object(ue.jsxs)("table",{class:"table bidtable table-bordered table-striped table-sm table-border-new",children:[Object(ue.jsx)("thead",{children:Object(ue.jsxs)("tr",{children:[Object(ue.jsx)("th",{children:"Sender"}),Object(ue.jsx)("th",{children:"Price"}),Object(ue.jsx)("th",{children:"Created Date"}),Object(ue.jsx)("th",{children:"Action"})]})}),Object(ue.jsxs)("tbody",{children:[this.state.offers.length>0&&Object(ue.jsx)(ue.Fragment,{children:this.state.offers.map((function(t,s){var i;return Object(ue.jsxs)("tr",{children:[Object(ue.jsx)("td",{children:t.username}),Object(ue.jsx)("td",{children:t.price}),Object(ue.jsx)("td",{children:t.timeago}),Object(ue.jsx)("td",{children:null!=(null===(i=e.state.currentUser)||void 0===i?void 0:i.user_id)&&Object(ue.jsxs)(ue.Fragment,{children:[t.user_id==e.state.currentUser.user_id&&"accepted"!=t.status&&Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)("button",{class:"btn btn-sm btn-secondary",onClick:function(){e.removeOffer(t)},children:"Remove"})}),t.receiver_id==e.state.currentUser.user_id&&"accepted"!=t.status&&1==e.state.currentUser.blockchain_member&&Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)("button",{class:"btn btn-cm btn-secondary",onClick:function(){e.removeOffer(t)},children:"Remove"})}),t.receiver_id==e.state.currentUser.user_id&&"accepted"==t.status&&Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)("button",{class:"btn btn-sm btn-secondary",children:"Waiting for payment"})})]})})]})}))}),0==this.state.offers.length&&Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)("tr",{children:Object(ue.jsxs)("td",{colSpan:"4",children:[Object(ue.jsx)("strong",{children:"Oops!"})," No Data Found"]})})})]})]}),(this.state.offerPrev||this.state.offerNext)&&Object(ue.jsxs)("ul",{class:"pagination",children:[this.state.offerPrev&&Object(ue.jsx)("li",{class:"page-item",children:Object(ue.jsx)("a",{class:"page-link",href:"javascript:void(0)",onClick:function(){e.prevPricePage()},children:"Prev"})}),this.state.offerNext&&Object(ue.jsx)("li",{class:"page-item",children:Object(ue.jsx)("a",{class:"page-link",href:"javascript:void(0)",onClick:function(){e.nextPricePage()},children:"Next"})})]})]}),Object(ue.jsx)(Ot.c,{children:Object(ue.jsxs)("div",{className:"space-y-20",children:[this.state.histories.length>0&&Object(ue.jsxs)(ue.Fragment,{children:[this.state.histories.map((function(e,t){return Object(ue.jsx)("div",{className:"creator_item creator_card space-x-10",children:Object(ue.jsxs)("div",{className:"avatars space-x-10",children:[Object(ue.jsxs)("div",{className:"media",children:[Object(ue.jsx)("div",{className:"badge",children:Object(ue.jsx)("img",{src:"/assets/img/icons/Badge.svg",alt:"ImgPreview"})}),null!=e.sender&&Object(ue.jsxs)(ue.Fragment,{children:[" ",Object(ue.jsx)(u.b,{to:"/profile/"+e.sender_id,children:Object(ue.jsx)("img",{src:e.image,alt:"Avatar",className:"avatar avatar-md"})})]}),null==e.sender_id&&Object(ue.jsxs)(ue.Fragment,{children:[" ",Object(ue.jsx)(u.b,{to:"#",children:Object(ue.jsx)("img",{src:e.image,alt:"Avatar",className:"avatar avatar-md"})})]})]}),Object(ue.jsxs)("div",{children:[null!=e.transaction_hash&&""!=e.transaction_hash&&Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:A+"tx/"+e.transaction_hash,children:"View Transaction"})}),Object(ue.jsxs)("p",{className:"color_white",children:["comission"==e.history_type?"royalties":e.history_type,Object(ue.jsx)("span",{className:"color_brand",children:"minted"!=e.history_type&&Object(ue.jsxs)(ue.Fragment,{children:["\xa0",e.price,"\xa0",I]})}),null!=e.sender&&"transfer"!=e.history_type&&Object(ue.jsxs)(ue.Fragment,{children:["\xa0By\xa0",Object(ue.jsx)(u.b,{className:"color_white txt _bold",to:"/profile/"+e.sender_id,children:e.sender})]}),null!=e.receiver&&"transfer"==e.history_type&&Object(ue.jsxs)(ue.Fragment,{children:["\xa0By\xa0",Object(ue.jsx)(u.b,{className:"color_white txt _bold",to:"/profile/"+e.receiver_id,children:e.receiver})]})]}),Object(ue.jsx)("span",{className:"date color_text",children:e.timeago})]})]})},"history_".concat(t))})),(this.state.historyPrev||this.state.historyNext)&&Object(ue.jsxs)("ul",{class:"pagination",children:[this.state.historyPrev&&Object(ue.jsx)("li",{class:"page-item",children:Object(ue.jsx)("a",{class:"page-link",href:"#javascript",onClick:function(){e.prevHistoryPage()},children:"Prev"})}),this.state.historyNext&&Object(ue.jsx)("li",{class:"page-item",children:Object(ue.jsx)("a",{class:"page-link",href:"#javascript",onClick:function(){e.nextHistoryPage()},children:"Next"})})]})]}),0==this.state.histories.length&&Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)("p",{class:"gray-text",children:"No records found"})})]})})]})]})}),Object(ue.jsxs)("div",{className:"d-flex space-x-20",children:[!1===this.state.itemInfo.has_offer&&"active"==this.state.itemInfo.status&&!this.state.is_owner&&Object(ue.jsx)("div",{class:"asset__btns",children:Object(ue.jsxs)("button",{class:"btn btn-lg btn-primary",type:"button",onClick:this.purchaseNFT,children:["BUY - ",this.state.itemInfo.price," ",I]})}),this.state.itemInfo.has_offer&&"active"==this.state.itemInfo.status&&!this.state.is_owner&&!this.state.is_expire&&Object(ue.jsxs)("div",{class:"asset__btns",children:["Minimum bid price - ",this.state.itemInfo.offer_price," ",I]}),this.state.is_owner&&Object(ue.jsxs)("div",{class:"asset__btns",children:[!1===this.state.itemInfo.enable_price&&"inactive"==this.state.itemInfo.status&&!this.state.itemInfo.is_mint&&Object(ue.jsx)("button",{class:"btn btn-lg btn-primary",type:"button",onClick:this.showUpdateOffer,children:this.state.buttonTxt}),!1===this.state.itemInfo.enable_price&&"inactive"==this.state.itemInfo.status&&this.state.itemInfo.is_mint&&this.state.is_ready&&Object(ue.jsx)("button",{class:"btn btn-lg btn-primary",type:"button",onClick:this.updateSaleConfirmation,children:this.state.buttonTxt}),!0===this.state.itemInfo.enable_price&&Object(ue.jsx)("button",{class:"btn btn-lg btn-primary",type:"button",onClick:this.removeFromSaleConfirmation,children:"Remove From Sale"}),!1===this.state.itemInfo.is_mint&&0==this.state.prices.length&&0==this.state.offers.length&&Object(ue.jsx)(u.b,{to:"/additem/"+this.state.itemInfo.collection_id._id+"/"+this.state.itemInfo._id,class:"btn btn-lg btn-primary",children:"Edit"})]})]}),this.state.itemInfo.has_offer&&!this.state.is_owner&&this.state.hide_offer&&"active"==this.state.itemInfo.status&&!this.state.is_expire&&Object(ue.jsx)("button",{class:"btn btn-primary btn-cm",onClick:function(){e.addOffer()},children:"Make Offer"})]})})]})}),Object(ue.jsxs)(Ye.a,{show:this.state.showAddOffer,onHide:this.closeOfferModal,children:[Object(ue.jsx)(Ye.a.Header,{closeButton:!0,children:Object(ue.jsx)(Ye.a.Title,{children:"Add Offer"})}),Object(ue.jsx)(Ye.a.Body,{children:Object(ue.jsx)("div",{class:"row verifyContent",children:Object(ue.jsx)("div",{class:"col-12",children:Object(ue.jsx)("div",{class:"sign__group",children:Object(ue.jsx)("input",{id:"bidprice",type:"text",name:"bidprice",class:"sign__input",placeholder:"Enter Bid Price",onChange:this.handlePriceChange.bind("bidprice"),value:this.state.bidPrice})})})})}),Object(ue.jsxs)(Ye.a.Footer,{children:[Object(ue.jsx)($e.a,{variant:"primary",onClick:this.closeOfferModal,children:"Close"}),Object(ue.jsx)($e.a,{variant:"primary",onClick:this.confirmOfferModal,children:"Add"})]})]}),Object(ue.jsxs)(Ye.a,{enforceFocus:!1,className:"unique-class",show:this.state.showOffer,onHide:this.closeUpdateOfferModal,children:[Object(ue.jsx)(Ye.a.Header,{closeButton:!0,children:Object(ue.jsx)(Ye.a.Title,{children:"Item Price Update"})}),Object(ue.jsx)(Ye.a.Body,{children:Object(ue.jsxs)("div",{class:"row verifyContent",children:[Object(ue.jsx)("div",{class:"col-12",children:Object(ue.jsxs)("div",{class:"form_section item_detail_form_section",children:[Object(ue.jsx)("div",{class:"form_section_left",children:"Enable auction"}),Object(ue.jsx)("div",{class:"form_section_right",children:Object(ue.jsx)(dt.a,{onChange:this.handleOfferChange,checked:this.state.offerFields.has_offer,uncheckedIcon:!1,checkedIcon:!1,onColor:"#6164ff",offColor:"#bdbdbd"})})]})}),!this.state.offerFields.has_offer&&Object(ue.jsx)("div",{class:"col-12 col-md-12 col-lg-12 col-xl-12",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("span",{class:"nameInput color_white",children:"Price"}),Object(ue.jsx)("input",{id:"price",type:"text",name:"price",class:"sign__input",placeholder:"Enter price",onChange:this.handleChange.bind(this,"price"),value:this.state.offerFields.price})]})}),this.state.offerFields.has_offer&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("div",{class:"col-12 col-md-12 col-lg-12 col-xl-12",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("p",{class:"color_white",htmlFor:"offer_price",children:"Minimum bid price"}),Object(ue.jsx)("input",{id:"offer_price",type:"text",name:"offer_price",class:"sign__input",placeholder:"Enter Minimum bid",onChange:this.handleChange.bind(this,"offer_price"),value:this.state.offerFields.offer_price})]})}),Object(ue.jsx)("div",{class:"col-12 col-md-12 col-lg-12 col-xl-12",children:Object(ue.jsxs)("div",{class:"sign__group",children:[Object(ue.jsx)("p",{class:"color_white",htmlFor:"offer_duration",children:"Bidding Days"}),Object(ue.jsx)(ht.a,{initialSettings:{locale:{format:"M/DD/Y hh:mm A"},timePicker:!0,startDate:this.state.offerFields.startDate,endDate:this.state.offerFields.endDate},onApply:this.handleApply,children:Object(ue.jsx)("input",{type:"text",className:"form-control"})})]})})]})]})}),Object(ue.jsxs)(Ye.a.Footer,{children:[Object(ue.jsx)($e.a,{variant:"primary",onClick:this.closeUpdateOfferModal,children:"Close"}),Object(ue.jsx)($e.a,{variant:"primary",onClick:this.submitUpdateOffer,children:"Add"})]})]}),Object(ue.jsxs)(Ye.a,{show:this.state.showConfirmation,onHide:this.closeConfirmationModal,children:[Object(ue.jsx)(Ye.a.Header,{closeButton:!0,children:Object(ue.jsx)(Ye.a.Title,{children:"Confirmation"})}),Object(ue.jsx)(Ye.a.Body,{children:Object(ue.jsx)("div",{class:"row verifyContent",children:Object(ue.jsx)("div",{class:"col-12",children:"Are you sure to remove from sale ?"})})}),Object(ue.jsxs)(Ye.a.Footer,{children:[Object(ue.jsx)($e.a,{variant:"primary",onClick:this.closeConfirmationModal,children:"Close"}),Object(ue.jsx)($e.a,{variant:"primary",onClick:this.removeFromSale,children:"Remove"})]})]})]})]})}}]),s}(a.a.Component));var wt=Object(m.b)((function(e){return{notifier:e.notifier}}),{actionNotifyUser:w})(Object(p.g)(yt)),kt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).initData=function(){var t=e.props.location.pathname.split("/");e.collectionId=t[t.length-2],e.setState({items:[],loading:!0,paging:!1}),e.page=1,e.getCollectionInfo()},e.getCollectionInfo=function(){K(e.collectionId).then((function(t){e.collectionDetails=t.result,e.itemAPIAction(e.page)}))},e.itemAPIAction=function(t){var s={type:"mycollection",sortby:"hasoffer",collection_id:e.collectionId,page:t,user_id:e.collectionDetails.author_id._id};ce(s).then((function(s){if(!0===s.status){var i=se.parseItemList(s.data.docs),a=e.state.items;if(1!==t)for(var n=0;n<i.length;n++)a.push(i[n]);else a=i;e.setState({loading:!1,paging:s.data.docs.length>0,items:a})}}))},e.fetchMoreData=function(){e.page=e.page+1,e.itemAPIAction(e.page)},e.page=1,e.loading=!1,e.user=null,e.firstTime=!1,e.collectionId=null,e.state={skeleton:[1,1,1,1,1,1,1,1,1,1,1,1],items:[],paging:!1,loading:!0},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.initData()}},{key:"componentDidUpdate",value:function(e){this.props.notifier!==e.notifier&&this.initData()}},{key:"render",value:function(){return Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsxs)("div",{class:"item-grid",children:[this.state.loading&&Object(ue.jsx)("div",{className:"row row--grid",children:this.state.skeleton.map((function(e,t){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-4",children:Object(ue.jsx)(Ce,{skeleton:"true",data:null})})}))}),!this.state.loading&&this.state.items.length>0&&Object(ue.jsx)(ve.a,{dataLength:this.state.items.length,next:this.fetchMoreData,hasMore:this.state.paging,children:Object(ue.jsx)("div",{className:"row row--grid",children:this.state.items.map((function(e,t){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-4",children:Object(ue.jsx)(Ce,{skeleton:"false",data:e})})}))})}),!this.state.loading&&0===this.state.items.length&&Object(ue.jsx)(ye,{})]})})}}]),s}(a.a.Component);var Nt=Object(m.b)((function(e){return{notifier:e.notifier}}),{})(Object(p.g)(kt)),Ct=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).initData=function(){var t=e.props.location.pathname.split("/");e.collectionId=t[t.length-2],e.setState({items:[],loading:!0,paging:!1}),e.page=1,e.getCollectionInfo()},e.getCollectionInfo=function(){K(e.collectionId).then((function(t){e.collectionDetails=t.result,e.itemAPIAction(e.page)}))},e.itemAPIAction=function(t){var s={type:"mycollection",sortby:"sold",collection_id:e.collectionId,page:t,user_id:e.collectionDetails.author_id._id};ce(s).then((function(s){if(!0===s.status){var i=se.parseItemList(s.data.docs),a=e.state.items;if(1!==t)for(var n=0;n<i.length;n++)a.push(i[n]);else a=i;e.setState({loading:!1,paging:s.data.docs.length>0,items:a})}}))},e.fetchMoreData=function(){e.page=e.page+1,e.itemAPIAction(e.page)},e.page=1,e.loading=!1,e.user=null,e.firstTime=!1,e.collectionId=null,e.state={skeleton:[1,1,1,1,1,1,1,1,1,1,1,1],items:[],paging:!1,loading:!0},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.initData()}},{key:"componentDidUpdate",value:function(e){this.props.notifier!==e.notifier&&this.initData()}},{key:"render",value:function(){return Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsxs)("div",{class:"item-grid",children:[this.state.loading&&Object(ue.jsx)("div",{className:"row row--grid",children:this.state.skeleton.map((function(e,t){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-4",children:Object(ue.jsx)(Ce,{skeleton:"true",data:null})})}))}),!this.state.loading&&this.state.items.length>0&&Object(ue.jsx)(ve.a,{dataLength:this.state.items.length,next:this.fetchMoreData,hasMore:this.state.paging,children:Object(ue.jsx)("div",{className:"row row--grid",children:this.state.items.map((function(e,t){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-4",children:Object(ue.jsx)(Ce,{skeleton:"false",data:e})})}))})}),!this.state.loading&&0===this.state.items.length&&Object(ue.jsx)(ye,{})]})})}}]),s}(a.a.Component);var St=Object(m.b)((function(e){return{notifier:e.notifier}}),{})(Object(p.g)(Ct)),It=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).initData=function(){var t=e.props.location.pathname.split("/");e.profileId=t[t.length-2],e.setState({items:[],loading:!0,paging:!1}),e.page=1,e.itemAPIAction(e.page)},e.itemAPIAction=function(t){var s={type:"collected",page:t,user_id:e.profileId};ce(s).then((function(s){if(!0===s.status){var i=se.parseItemList(s.data.docs),a=e.state.items;if(1!==t)for(var n=0;n<i.length;n++)a.push(i[n]);else a=i;e.setState({loading:!1,paging:s.data.docs.length>0,items:a})}}))},e.fetchMoreData=function(){e.page=e.page+1,e.itemAPIAction(e.page)},e.page=1,e.loading=!1,e.user=null,e.firstTime=!1,e.profileId=null,e.state={skeleton:[1,1,1,1,1,1,1,1,1,1,1,1],items:[],paging:!1,loading:!0},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.initData()}},{key:"componentDidUpdate",value:function(e){this.props.notifier!==e.notifier&&this.initData()}},{key:"render",value:function(){return Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsxs)("div",{class:"item-grid",children:[this.state.loading&&Object(ue.jsx)("div",{className:"row row--grid",children:this.state.skeleton.map((function(e,t){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-4",children:Object(ue.jsx)(Ce,{skeleton:"true",data:null})})}))}),!this.state.loading&&this.state.items.length>0&&Object(ue.jsx)(ve.a,{dataLength:this.state.items.length,next:this.fetchMoreData,hasMore:this.state.paging,children:Object(ue.jsx)("div",{className:"row row--grid",children:this.state.items.map((function(e,t){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-4",children:Object(ue.jsx)(Ce,{skeleton:"false",data:e})})}))})}),!this.state.loading&&0===this.state.items.length&&Object(ue.jsx)(ye,{})]})})}}]),s}(a.a.Component);var Dt=Object(m.b)((function(e){return{notifier:e.notifier}}),{})(Object(p.g)(It)),Tt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).initData=function(){var t=e.props.location.pathname.split("/");e.profileId=t[t.length-2],e.setState({items:[],loading:!0,paging:!1}),e.page=1,e.itemAPIAction(e.page)},e.itemAPIAction=function(t){var s={type:"my",page:t,user_id:e.profileId};ce(s).then((function(s){if(!0===s.status){var i=se.parseItemList(s.data.docs),a=e.state.items;if(1!==t)for(var n=0;n<i.length;n++)a.push(i[n]);else a=i;e.setState({loading:!1,paging:s.data.docs.length>0,items:a})}}))},e.fetchMoreData=function(){e.page=e.page+1,e.itemAPIAction(e.page)},e.page=1,e.loading=!1,e.user=null,e.firstTime=!1,e.profileId=null,e.state={skeleton:[1,1,1,1,1,1,1,1,1,1,1,1],items:[],paging:!1,loading:!0},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.initData()}},{key:"componentDidUpdate",value:function(e){this.props.notifier!==e.notifier&&this.initData()}},{key:"render",value:function(){return Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsxs)("div",{class:"item-grid",children:[this.state.loading&&Object(ue.jsx)("div",{className:"row row--grid",children:this.state.skeleton.map((function(e,t){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-4",children:Object(ue.jsx)(Ce,{skeleton:"true",data:null})})}))}),!this.state.loading&&this.state.items.length>0&&Object(ue.jsx)(ve.a,{dataLength:this.state.items.length,next:this.fetchMoreData,hasMore:this.state.paging,children:Object(ue.jsx)("div",{className:"row row--grid",children:this.state.items.map((function(e,t){return Object(ue.jsx)("div",{class:"col-sm-12 col-md-6 col-lg-4",children:Object(ue.jsx)(Ce,{skeleton:"false",data:e})})}))})}),!this.state.loading&&0===this.state.items.length&&Object(ue.jsx)(ye,{})]})})}}]),s}(a.a.Component);var At=Object(m.b)((function(e){return{notifier:e.notifier}}),{})(Object(p.g)(Tt)),Mt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).navigateActivity=function(){"following"===e.props.data.type?e.props.history.push("/profile/"+e.props.data.user_id):e.props.history.push("/item/"+e.props.data.item_id._id)},e.state={},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(ue.jsxs)(ue.Fragment,{children:["true"===this.props.skeleton&&Object(ue.jsx)(fe.a,{baseColor:"#202020",highlightColor:"#444",children:Object(ue.jsx)("div",{className:"creators_box",children:Object(ue.jsxs)("div",{className:"avatars space-x-10",children:[Object(ue.jsx)("div",{className:"media",children:Object(ue.jsx)(fe.b,{width:80,height:80})}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)("h5",{className:"color_black",children:Object(ue.jsx)(fe.b,{width:180,height:10})}),Object(ue.jsx)("div",{className:"d-flex space-x-10",children:Object(ue.jsx)("span",{className:"price color_text",children:Object(ue.jsx)(fe.b,{width:100,height:8})})})]})]})})}),"false"===this.props.skeleton&&Object(ue.jsx)("div",{children:Object(ue.jsx)("div",{className:"creators_box",children:Object(ue.jsxs)("div",{className:"avatars space-x-10",children:[Object(ue.jsx)("div",{className:"media",children:Object(ue.jsx)("a",{href:"javascript:void(0)",onClick:this.navigateActivity,children:Object(ue.jsx)("img",{src:this.props.data.image,alt:"Avatar",className:"avatar avatar-md"})})}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)("h5",{className:"color_white",children:this.props.data.object_title}),Object(ue.jsxs)("div",{className:"d-flex space-x-10",children:["following"===this.props.data.type&&Object(ue.jsxs)("p",{class:"activity__text",children:["Followed by ",Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:this.props.data.fullname})]}),"offer_won"===this.props.data.type&&Object(ue.jsxs)("p",{class:"activity__text",children:["You have won auction for  ",Object(ue.jsx)("b",{children:this.props.data.item_id.name})]}),"offer_complete"===this.props.data.type&&Object(ue.jsxs)("p",{class:"activity__text",children:["You auction is ended for  ",Object(ue.jsx)("b",{children:this.props.data.item_id.name})]}),"offer_cancel"===this.props.data.type&&Object(ue.jsxs)("p",{class:"activity__text",children:["You offer has neen cancelled for  ",Object(ue.jsx)("b",{children:this.props.data.item_id.name})]}),"offer_received"===this.props.data.type&&Object(ue.jsxs)("p",{class:"activity__text",children:["You have received new offer from ",Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:this.props.data.fullname})," for  ",Object(ue.jsx)("b",{children:this.props.data.item_id.name})]}),"item_purchase"===this.props.data.type&&Object(ue.jsxs)("p",{class:"activity__text",children:["Your item ",Object(ue.jsx)("b",{children:this.props.data.item_id.name})," sold to ",Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:this.props.data.fullname})]}),"comission_received"===this.props.data.type&&Object(ue.jsxs)("p",{class:"activity__text",children:["You have received comission from ",Object(ue.jsx)(u.b,{to:"/profile/"+this.props.data.user_id,children:this.props.data.fullname})," for  ",Object(ue.jsx)("b",{children:this.props.data.item_id.name})]})]}),Object(ue.jsx)("p",{className:"date color_text d-none d-sm-block",children:this.props.data.timeago})]})]})})})]})}}]),s}(a.a.Component),Ft=Object(p.g)(Mt),Pt=function(e){var t=[];return e.forEach((function(e){var s,i,a;if("following"===e.type){if(e.sender_id.profile_image)if(e.sender_id.profile_image.length>0)s=e.sender_id.profile_image;else s="/images/avatars/avatar5.jpg";else s="/images/avatars/avatar5.jpg";a=e.sender_id._id,i=e.sender_id.first_name.length>0?e.sender_id.first_name+" "+e.sender_id.last_name:e.sender_id.username}else{if(e.item_id.thumb)if(e.item_id.thumb.length>0)s=e.item_id.thumb;else s="/images/cover/cover-big.jpg";else s="/images/cover/cover-big.jpg";i=e.sender_id.first_name.length>0?e.sender_id.first_name+" "+e.sender_id.last_name:e.sender_id.username,a=e.sender_id._id}t.push({notification_id:e._id,type:e.type,fullname:i,user_id:a,item_id:e.item_id,image:s,timeago:Oe()(e.created_date).fromNow()})})),t},Ut=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).initFields=function(){var t=e.props.location.pathname.split("/");e.page_type=t[1],e.page_id=t[2],e.setState({notifications:[],loading:!1,paging:!1}),e.page=1,e.notificationAPI(e.page)},e.notificationAPI=function(t){Y({page:t}).then((function(s){if(!0===s.status){var i=Pt(s.data.docs),a=e.state.notifications;if(1!==t)for(var n=0;n<i.length;n++)a.push(i[n]);else a=i;e.setState({loading:!1,paging:s.data.docs.length>0,notifications:a})}}))},e.fetchMoreData=function(){e.page=e.page+1,e.notificationAPI(e.page)},e.page_type="",e.page_id="",e.page=1,e.loading=!1,e.state={notifications:[],skeleton:[1,1,1,1,1,1,1,1,1,1,1,1],paging:!1,loading:!0},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.initFields()}},{key:"componentDidUpdate",value:function(e){this.props.notifier!==e.notifier&&this.initFields()}},{key:"render",value:function(){return Object(ue.jsxs)(ue.Fragment,{children:[!this.state.loading&&this.state.notifications.length>0&&Object(ue.jsx)(ve.a,{dataLength:this.state.notifications.length,next:this.fetchMoreData,hasMore:this.state.paging,children:Object(ue.jsx)("div",{class:"row justify-content-center",children:Object(ue.jsx)("div",{className:"col-lg-6 col-md-8 col-sm-10",children:Object(ue.jsx)("div",{className:"space-y-20",children:this.state.notifications.map((function(e,t){return Object(ue.jsx)("div",{className:"box",children:Object(ue.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:Object(ue.jsx)(Ft,{skeleton:"false",data:e})})},t)}))})})})}),!this.state.loading&&0==this.state.notifications.length&&Object(ue.jsx)("div",{class:"row justify-content-center notificationerror",children:Object(ue.jsx)("div",{className:"col-lg-6 col-md-8 col-sm-10",children:Object(ue.jsx)("p",{children:"Sorry, No data to display"})})}),this.state.loading&&Object(ue.jsx)("div",{class:"row justify-content-center",children:Object(ue.jsx)("div",{className:"col-lg-6 col-md-8 col-sm-10",children:Object(ue.jsx)("div",{className:"space-y-20",children:this.state.skeleton.map((function(e,t){return Object(ue.jsx)("div",{className:"box",children:Object(ue.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:Object(ue.jsx)(Ft,{skeleton:"true",data:null})})},t)}))})})})]})}}]),s}(a.a.Component);var Lt=Object(m.b)((function(e){return{notifier:e.notifier}}),{})(Object(p.g)(Ut)),Et=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).initFields=function(){B()},e.connectWallet=function(t){e.props.actionNotifyUser({type:"connect",payload:t})},e.state={wallets:[{title:"metamask",p:"A browser extension with great flexibility. The web's popular wallet"},{title:"torus",p:"Log in with Google,  Facebook,Twitter or other OAuth providers"},{title:"fortmatic",p:"wallet that allows you to  sign in with an email and password"},{title:"walletconnect",p:"wallet that allows you to  sign in with an email and password"}]},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){if(this.props.notifier!==e.notifier){var t=this.props.notifier;t&&"login"===t.type&&this.initFields()}}},{key:"render",value:function(){var e=this;return Object(ue.jsx)("div",{className:"effect",children:Object(ue.jsxs)("div",{className:"container",children:[Object(ue.jsxs)("div",{children:[Object(ue.jsx)(u.b,{to:"/",className:"btn btn-white btn-sm mt-20",children:"Back to home"}),Object(ue.jsx)("div",{className:"hero__wallets pt-100 pb-50",children:Object(ue.jsxs)("div",{className:"space-y-20 d-flex flex-column align-items-center",children:[Object(ue.jsx)("div",{className:"logo",children:Object(ue.jsx)("img",{src:"/assets/img/icons/logo.svg",alt:"ImgPreview"})}),Object(ue.jsx)("h2",{className:"text-center color_text",children:"Connect your wallet"}),Object(ue.jsx)("p",{className:"text-center",children:"Connect with one of available wallet providers or create a new wallet."})]})})]}),Object(ue.jsx)("div",{className:"row justify-content-center",children:Object(ue.jsx)("div",{className:"col-lg-9",children:Object(ue.jsx)("div",{className:"wallets",children:Object(ue.jsx)("div",{className:"row mb-20_reset",children:this.state.wallets.map((function(t,s){return Object(ue.jsx)("div",{className:"col-xs-12 col-sm-6 col-md-6 col-lg-6",children:Object(ue.jsxs)("button",{className:"box in__wallet space-y-10",onClick:function(){e.connectWallet(t.title)},children:[Object(ue.jsx)("div",{className:"logo",children:Object(ue.jsx)("img",{src:"/assets/img/icons/".concat(t.title,".svg"),alt:"logo_community"})}),Object(ue.jsx)("h5",{className:"text-center color_white",children:t.title}),Object(ue.jsx)("p",{className:"text-center",children:t.p})]})},s)}))})})})})]})})}}]),s}(a.a.Component);var Ht=Object(m.b)((function(e){return{notifier:e.notifier}}),{actionNotifyUser:w})(Object(p.g)(Et)),Rt=(s(87),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).state={collectionid:""},e}return Object(l.a)(s,[{key:"render",value:function(){var e=this.props.location.pathname.split("/");return 3==e.length&&(this.state.collectionid=e[2]),""==this.state.collectionid&&(window.location="/"),Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)("div",{class:"row",children:Object(ue.jsx)("div",{class:"col-12 mt-5",children:Object(ue.jsxs)("ul",{class:"uploadContainer",children:[Object(ue.jsx)("li",{children:Object(ue.jsx)(u.b,{to:"/additem/"+this.state.collectionid,children:Object(ue.jsxs)("div",{class:"uploadSub",children:[Object(ue.jsx)("img",{src:"/assets/img/icons/single.svg",alt:"folder"}),Object(ue.jsx)("h3",{children:"Single Item"})]})})}),Object(ue.jsx)("li",{children:Object(ue.jsx)(u.b,{to:"/import-item",children:Object(ue.jsxs)("div",{class:"uploadSub",children:[Object(ue.jsx)("img",{src:"/assets/img/icons/multiple.svg",alt:"folder"}),Object(ue.jsx)("h3",{children:"Multiple Item"})]})})})]})})})})}}]),s}(a.a.Component)),Bt=s(245),zt=(s(87),[{path:"/",exact:!0,component:Re},{path:"/connect",exact:!1,component:Ht},{path:"/marketplace",exact:!0,component:Ie},{path:"/activity",exact:!1,component:we},{path:"/creators",exact:!1,component:Ge},{path:"/addcollection",exact:!1,component:nt},{path:"/addcollection/:collectionId",exact:!1,component:nt},{path:"/additem/:collectionId",exact:!1,component:pt},{path:"/additem/:collectionId/:itemId",exact:!1,component:pt},{path:"/item/:itemId",exact:!1,component:wt},{path:"/upload-options",exact:!1,component:Rt},{path:"/faq",exact:!1,component:function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).getFaqlist=function(){(function(e){return new Promise((function(t,s){var i="";i=L.apiHeaderForGuest;var a=localStorage.getItem("token");delete i.authorization,a&&(i.authorization=localStorage.getItem("token"));var n=L.base+L.faq_list;e.status&&(n=n+"?status="+e.status),H.a.get(n,e,{headers:i}).then((function(e){t(e.data)})).catch((function(e){t({status:!1,message:e.message})}))}))})({status:!0}).then((function(t){if(!0===t.status){var s=Te(t.data.docs);e.setState({faqList:s,faqloading:!1}),console.log("this.state.faqlists ->",e.state.faqList)}else e.setState({faqList:[],faqloading:!1})}))},e.state={faqList:[],faqloading:!0},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getFaqlist()}},{key:"render",value:function(){return Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)("div",{class:"faqContainer",children:Object(ue.jsx)("div",{class:"container",children:Object(ue.jsx)("div",{class:"row",children:Object(ue.jsx)("div",{class:"col-12 mt-5",children:Object(ue.jsx)(Bt.a,{data:{title:"FAQ (How it works)",rows:this.state.faqList}})})})})})})}}]),s}(a.a.Component)},{path:"/import-item",exact:!1,component:jt},{path:"/wallet",exact:!1,component:gt},{path:"/profile/:profileId",exact:!1,component:Ke,routes:[{path:"/profile/:profileId/collected",exact:!1,component:Dt},{path:"/profile/:profileId/created",exact:!1,component:At},{path:"/profile/:profileId/collection",exact:!1,component:Qe},{path:"/profile/:profileId/notification",exact:!1,component:Lt},{path:"/profile/:profileId/activity",exact:!1,component:et},{path:"/profile/:profileId/settings",exact:!1,component:it}]},{path:"/collection/:collectionId",exact:!1,component:ot,routes:[{path:"/collection/:collectionId/created",exact:!1,component:_t},{path:"/collection/:collectionId/onauction",exact:!1,component:Nt},{path:"/collection/:collectionId/sold",exact:!1,component:St},{path:"/collection/:collectionId/activity",exact:!1,component:et}]}]),Gt=(s(421),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).state={windowHeight:window.innerHeight-300},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(ue.jsx)(m.a,{store:v,children:Object(ue.jsxs)(u.a,{children:[Object(ue.jsx)(me,{}),Object(ue.jsx)("main",{className:"main",style:{minHeight:this.state.windowHeight},children:Object(ue.jsx)(p.d,{children:zt.map((function(e,t){return Object(ue.jsx)(p.b,{path:e.path,exact:e.exact,render:function(t){return Object(ue.jsx)(e.component,Object(o.a)(Object(o.a)({},t),{},{routes:e.routes}))}})}))})}),Object(ue.jsx)(je,{}),Object(ue.jsx)(re.a,{})]})})}}]),s}(a.a.Component)),qt=function(e){e&&e instanceof Function&&s.e(97).then(s.bind(null,2418)).then((function(t){var s=t.getCLS,i=t.getFID,a=t.getFCP,n=t.getLCP,r=t.getTTFB;s(e),i(e),a(e),n(e),r(e)}))};r.a.render(Object(ue.jsx)(a.a.StrictMode,{children:Object(ue.jsx)(Gt,{})}),document.getElementById("root")),qt()}},[[422,21,23]]]);
//# sourceMappingURL=main.8138aa8b.chunk.js.map